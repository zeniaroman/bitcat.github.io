"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[468],{52:function(e,t,a){a.r(t),a.d(t,{default:function(){return Xt}});var o=a(4061),l=a.p+"img/DAO-hero.a0659873.png",s=a(8107);const n={class:"dao-page"},r={key:0,class:"error-message-container"},c={class:"error-message success"},i={class:"error-content"},d={class:"content-container"},m={class:"hero-section"},u={class:"hero-content"},p={key:0,class:"hero-content-blur"},v={class:"user-stats"},f={class:"stat-card"},V={class:"stat-info"},g={class:"stat-value"},E={class:"stat-card"},N={class:"stat-info"},y={class:"stat-value"},k={class:"stat-card"},h={class:"stat-info"},D={class:"stat-value"},w={class:"stat-card"},b={class:"stat-info"},C={class:"stat-value"},T={class:"stats-section"},B={class:"stat-card"},A={class:"stat-content"},S={class:"stat-card"},P={class:"stat-content"},x={class:"stat-card"},z={class:"stat-content"},I={class:"proposals-section"},M={class:"section-header"},U={class:"tabs"},F={class:"count"},L={class:"count"},H={class:"count"},O={class:"proposals-section-buttons"},Q={class:"categories-container"},X={key:0,class:"empty-state"},j={class:"empty-state-content"},G={class:"group-header"},q={class:"group-title-wrap"},K={class:"group-title"},Y={key:0,class:"group-description"},Z={key:0,class:"voting-info"},J={class:"voting-dates"},W={key:0},R={key:1},_={key:2},$={key:3},ee={class:"proposals-list"},te={class:"proposals-list-title"},ae={key:0,class:"empty-group-state"},oe={class:"empty-group-content"},le={key:0},se={key:1},ne={key:2},re={key:3},ce={key:4},ie=["onClick"],de={key:0,class:"proposal-info"},me={class:"vote-stats"},ue={key:0},pe={key:1},ve=["onClick"],fe=["onClick"],Ve={key:0,class:"my-dao-sections"},ge={class:"my-votes-section"},Ee={key:0,class:"empty-state"},Ne={key:1,class:"votes-list"},ye={class:"vote-info"},ke={class:"vote-details"},he={class:"vote-amount"},De=["onClick"],we={class:"my-other-proposals-section"},be={key:0,class:"empty-state"},Ce={class:"empty-state-content"},Te={key:1,class:"other-proposals-list"},Be={class:"proposal-header"},Ae={class:"proposal-group"},Se={class:"proposal-name"},Pe={class:"proposal-id"},xe={class:"proposal-description"},ze={class:"proposal-stats"},Ie={class:"proposal-date"},Me={key:1,class:"voting-history-section"},Ue={key:0,class:"empty-state"},Fe={key:0,class:"empty-state-content"},Le={key:1,class:"empty-state-content"},He={key:1,class:"voting-history-list"},Oe={class:"history-info"},Qe={class:"user-tag"},Xe={class:"vote-amount"},je={class:"vote-date"},Ge={class:"pagination-controls"},qe=["disabled"],Ke={class:"page-number"},Ye=["disabled"],Ze={class:"modal-header"},Je={class:"modal-body"},We={class:"form-group"},Re={class:"form-group"},_e={for:"proposalDescription"},$e={class:"form-group"},et=["value"],tt={key:0,class:"error-message error-message-proposal"},at={class:"form-actions"},ot=["disabled"],lt={class:"proposal-info-note"},st={class:"info-text"},nt={class:"modal-header"},rt={class:"modal-body"},ct={class:"proposal-summary"},it={class:"proposal-summary-header"},dt={class:"proposal-summary-content"},mt={class:"summary-item"},ut={class:"summary-item"},pt={class:"preset-amounts"},vt=["onClick"],ft={class:"form-group"},Vt={key:0,class:"message-container message-container-vote-proposal"},gt={key:0,class:"error-message"},Et={class:"form-actions"},Nt=["disabled"],yt={class:"proposal-info-note"},kt={class:"info-text"},ht={class:"modal-header"},Dt={class:"modal-body"},wt={key:0,class:"error-message"},bt={class:"form-actions"},Ct=["disabled"],Tt=["disabled"],Bt={key:0},At={key:1};function St(e,t,a,St,Pt,xt){const zt=(0,o.resolveComponent)("router-link"),It=(0,o.resolveComponent)("DaoInfoPopup");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",n,[St.serverMessage?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",i,[t[31]||(t[31]=(0,o.createElementVNode)("span",{class:"error-icon"},"âš ï¸",-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(St.serverMessage.text),1)]),(0,o.createElementVNode)("button",{onClick:t[0]||(t[0]=e=>St.errorMessage=""),class:"close-error"},"Ã—")])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",d,[t[79]||(t[79]=(0,o.createElementVNode)("div",{class:"hero-image-container"},[(0,o.createElementVNode)("img",{src:l,alt:"DAO Hero",class:"hero-image"})],-1)),t[80]||(t[80]=(0,o.createElementVNode)("div",{class:"title-section"},[(0,o.createElementVNode)("h1",null,"BITCAT DAO"),(0,o.createElementVNode)("p",null,"Shape the Future of BITCAT Together")],-1)),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",u,[St.isAuthenticated?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.createElementVNode)("span",null,[(0,o.createVNode)(zt,{to:"/my"},{default:(0,o.withCtx)((()=>t[32]||(t[32]=[(0,o.createTextVNode)("Login")]))),_:1}),t[33]||(t[33]=(0,o.createTextVNode)(" to see your info"))])])),(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",f,[t[35]||(t[35]=(0,o.createElementVNode)("i",{class:"fas fa-vote-yea"},null,-1)),(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("span",g,(0,o.toDisplayString)(St.votedCount||0),1),t[34]||(t[34]=(0,o.createElementVNode)("span",{class:"stat-label"},"Proposals Voted",-1))])]),(0,o.createElementVNode)("div",E,[t[37]||(t[37]=(0,o.createElementVNode)("i",{class:"fas fa-file-alt"},null,-1)),(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("span",y,(0,o.toDisplayString)(St.getMyCount||0),1),t[36]||(t[36]=(0,o.createElementVNode)("span",{class:"stat-label"},"Your Proposals",-1))])]),(0,o.createElementVNode)("div",k,[t[39]||(t[39]=(0,o.createElementVNode)("i",{class:"fas fa-coins"},null,-1)),(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("span",D,(0,o.toDisplayString)(St.formatStakedAmount(St.userBalance)||0),1),t[38]||(t[38]=(0,o.createElementVNode)("span",{class:"stat-label"},"BITCAT Balance",-1))])]),(0,o.createElementVNode)("div",w,[t[41]||(t[41]=(0,o.createElementVNode)("i",{class:"fas fa-check-circle"},null,-1)),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("span",C,[(0,o.createTextVNode)((0,o.toDisplayString)(St.formatStakedAmount(St.totalUserStaked)||0)+" ",1),(0,o.createElementVNode)("small",{class:(0,o.normalizeClass)({"percentage-positive":St.getVotingPercentage>0,"percentage-negative":St.getVotingPercentage<0,"percentage-neutral":0===St.getVotingPercentage})}," ("+(0,o.toDisplayString)(St.getVotingPercentage>0?"+":"-")+(0,o.toDisplayString)(St.getVotingPercentage)+"%) ",3)]),t[40]||(t[40]=(0,o.createElementVNode)("span",{class:"stat-label"},"BITCAT's Vote",-1))])])])])]),(0,o.createElementVNode)("div",T,[(0,o.createElementVNode)("div",B,[t[43]||(t[43]=(0,o.createElementVNode)("div",{class:"stat-icon"},"ðŸ†",-1)),(0,o.createElementVNode)("div",A,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(St.formatStakedAmount(St.totalStaked)||0),1),t[42]||(t[42]=(0,o.createElementVNode)("p",null,"Total BITCAT's Vote",-1))])]),(0,o.createElementVNode)("div",S,[t[45]||(t[45]=(0,o.createElementVNode)("div",{class:"stat-icon"},"ðŸ‘¥",-1)),(0,o.createElementVNode)("div",P,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(St.activeVoters||0),1),t[44]||(t[44]=(0,o.createElementVNode)("p",null,"Total Voters",-1))])]),(0,o.createElementVNode)("div",x,[t[47]||(t[47]=(0,o.createElementVNode)("div",{class:"stat-icon"},"ðŸ“œ",-1)),(0,o.createElementVNode)("div",z,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(St.getActiveCount||0),1),t[46]||(t[46]=(0,o.createElementVNode)("p",null,"Active Proposals",-1))])])]),(0,o.createElementVNode)("div",I,[(0,o.createElementVNode)("div",M,[(0,o.createElementVNode)("div",U,[(0,o.createElementVNode)("button",{class:(0,o.normalizeClass)(["tab",{active:"active"===St.activeTab}]),onClick:t[1]||(t[1]=e=>St.activeTab="active")},[t[48]||(t[48]=(0,o.createTextVNode)(" Active ")),(0,o.createElementVNode)("span",F,"("+(0,o.toDisplayString)(St.getActiveCount||0)+")",1)],2),(0,o.createElementVNode)("button",{class:(0,o.normalizeClass)(["tab",{active:"completed"===St.activeTab}]),onClick:t[2]||(t[2]=e=>St.activeTab="completed")},[t[49]||(t[49]=(0,o.createTextVNode)(" Completed ")),(0,o.createElementVNode)("span",L,"("+(0,o.toDisplayString)(St.getCompletedCount)+")",1)],2),(0,o.createElementVNode)("button",{class:(0,o.normalizeClass)(["tab special",{active:"my"===St.activeTab}]),onClick:t[3]||(t[3]=e=>St.activeTab="my")},[t[50]||(t[50]=(0,o.createTextVNode)(" My DAO ")),(0,o.createElementVNode)("span",H,"("+(0,o.toDisplayString)(St.getMyCount)+")",1)],2)]),(0,o.createElementVNode)("div",O,[(0,o.createElementVNode)("button",{class:"dao-info-proposal-btn",onClick:t[4]||(t[4]=(...e)=>St.openDaoInfo&&St.openDaoInfo(...e))}," DAO info "),St.canCreateProposal?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,class:"create-proposal-btn",onClick:t[5]||(t[5]=(...e)=>St.createProposal&&St.createProposal(...e))}," Create Proposal ")):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",Q,[St.filteredGroups.length?((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:1},(0,o.renderList)(St.filteredGroups,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e.nameTag,class:"category-box"},[(0,o.createElementVNode)("div",G,[(0,o.createElementVNode)("div",q,[(0,o.createElementVNode)("div",K,[t[52]||(t[52]=(0,o.createElementVNode)("i",{class:"fas fa-layer-group"},null,-1)),(0,o.createElementVNode)("h2",null,[t[51]||(t[51]=(0,o.createElementVNode)("small",null,"Group:",-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.name),1)])]),e.description?((0,o.openBlock)(),(0,o.createElementBlock)("p",Y,(0,o.toDisplayString)(e.description),1)):(0,o.createCommentVNode)("",!0)]),"active"===St.activeTab?((0,o.openBlock)(),(0,o.createElementBlock)("div",Z,[(0,o.createElementVNode)("div",J,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["voting-status",{"status-pending":!e.votingStart||!e.votingEnd,"status-upcoming":e.votingStart&&new Date(e.votingStart)>new Date,"status-active":e.votingStart&&e.votingEnd&&new Date(e.votingStart)<=new Date&&new Date(e.votingEnd)>new Date,"status-ended":e.votingEnd&&new Date(e.votingEnd)<=new Date}])},[(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)(["fas",{"fa-clock":!e.votingStart||!e.votingEnd,"fa-hourglass-start":e.votingStart&&new Date(e.votingStart)>new Date,"fa-hourglass-half":e.votingStart&&e.votingEnd&&new Date(e.votingStart)<=new Date&&new Date(e.votingEnd)>new Date,"fa-hourglass-end":e.votingEnd&&new Date(e.votingEnd)<=new Date}])},null,2),e.votingStart&&e.votingEnd?new Date(e.votingStart)>new Date?((0,o.openBlock)(),(0,o.createElementBlock)("span",R,"Voting will begin: "+(0,o.toDisplayString)(St.formatDate(e.votingStart)),1)):new Date(e.votingEnd)>new Date?((0,o.openBlock)(),(0,o.createElementBlock)("span",_,"Voting ends in: "+(0,o.toDisplayString)(St.formatTimeLeft(e.votingEnd)),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",$,"Voting ended: "+(0,o.toDisplayString)(St.formatDate(e.votingEnd)),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",W,"Voting is over, expect more soon"))],2)])])):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",ee,[(0,o.createElementVNode)("h3",te,[t[53]||(t[53]=(0,o.createElementVNode)("i",{class:"fas fa-list"},null,-1)),(0,o.createTextVNode)(" Proposals: "+(0,o.toDisplayString)(St.getFilteredOffersForGroup(e.nameTag).length),1)]),0===St.getFilteredOffersForGroup(e.nameTag).length?((0,o.openBlock)(),(0,o.createElementBlock)("div",ae,[(0,o.createElementVNode)("div",oe,[t[54]||(t[54]=(0,o.createElementVNode)("i",{class:"fas fa-lightbulb"},null,-1)),"completed"===St.activeTab?((0,o.openBlock)(),(0,o.createElementBlock)("h3",le,"No Completed Proposals")):((0,o.openBlock)(),(0,o.createElementBlock)("h3",se,"No Proposals Yet")),"active"===St.activeTab?((0,o.openBlock)(),(0,o.createElementBlock)("p",ne,"Be the first to create a proposal in this group!")):"completed"===St.activeTab?((0,o.openBlock)(),(0,o.createElementBlock)("p",re,"No proposals have been completed yet. Check back later!")):((0,o.openBlock)(),(0,o.createElementBlock)("p",ce,"Create a proposal in this group!")),"active"===St.activeTab&&St.canCreateProposal?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:5,class:"create-proposal-btn",onClick:t=>St.createProposalInGroup(e.nameTag)}," Create Proposal ",8,ie)):(0,o.createCommentVNode)("",!0)])])):((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:1},(0,o.renderList)(St.getFilteredOffersForGroup(e.nameTag),(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e.offerId,class:"proposal-item"},["active"===e.status||"completed"===St.activeTab&&"completed"===e.status?((0,o.openBlock)(),(0,o.createElementBlock)("div",de,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(e.description),1),(0,o.createElementVNode)("small",null,"Proposal ID: "+(0,o.toDisplayString)(e.offerId),1),(0,o.createElementVNode)("div",me,[(0,o.createElementVNode)("span",null,[t[55]||(t[55]=(0,o.createElementVNode)("i",{class:"fas fa-user"},null,-1)),t[56]||(t[56]=(0,o.createTextVNode)(" By ")),(0,o.createVNode)(zt,{to:`/player/${St.formatUserTag(e.fromUserTag)}`},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(St.formatUserTag(e.fromUserTag)),1)])),_:2},1032,["to"])]),(0,o.createElementVNode)("span",null,[t[57]||(t[57]=(0,o.createElementVNode)("i",{class:"fas fa-users"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.votes)+" voted ",1)]),(0,o.createElementVNode)("span",null,[t[58]||(t[58]=(0,o.createElementVNode)("i",{class:"fas fa-coins"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(St.formatStakedAmount(e.staked))+" BITCAT's ",1)]),"active"!==St.activeTab?((0,o.openBlock)(),(0,o.createElementBlock)("span",ue,[t[59]||(t[59]=(0,o.createElementVNode)("i",{class:"fas fa-check-circle"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.status),1)])):(0,o.createCommentVNode)("",!0),"active"!==St.activeTab?((0,o.openBlock)(),(0,o.createElementBlock)("span",pe,[t[60]||(t[60]=(0,o.createElementVNode)("i",{class:"fas fa-calendar-check"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(St.formatHistoryDate(e.updatedAt)),1)])):(0,o.createCommentVNode)("",!0)])])):(0,o.createCommentVNode)("",!0),"active"===St.activeTab?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,class:"vote-button",onClick:t=>St.openVoteModal(e)},t[61]||(t[61]=[(0,o.createElementVNode)("i",{class:"fas fa-vote-yea"},null,-1),(0,o.createTextVNode)(" Vote ")]),8,ve)):(0,o.createCommentVNode)("",!0),"my"===St.activeTab&&"active"===e.status?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:2,class:"vote-button",onClick:t=>St.openCancelOfferModal(e)},t[62]||(t[62]=[(0,o.createElementVNode)("i",{class:"fas fa-vote-yea"},null,-1),(0,o.createTextVNode)(" Cancel Proposal ")]),8,fe)):(0,o.createCommentVNode)("",!0)])))),128))])])))),128)):((0,o.openBlock)(),(0,o.createElementBlock)("div",X,[(0,o.createElementVNode)("div",j,[(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)(["fas",{"fa-vote-yea":"active"===St.activeTab,"fa-check-circle":"completed"===St.activeTab,"fa-user-circle":"my"===St.activeTab}])},null,2),(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(St.emptyStateMessage),1),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(St.emptyStateDescription),1),"active"===St.activeTab&&St.canCreateProposal?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,class:"create-proposal-btn",onClick:t[6]||(t[6]=(...e)=>St.createProposal&&St.createProposal(...e))}," Create First Proposal ")):(0,o.createCommentVNode)("",!0)])]))]),"my"===St.activeTab?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ve,[(0,o.createElementVNode)("div",ge,[t[66]||(t[66]=(0,o.createElementVNode)("h2",{class:"section-title"},[(0,o.createElementVNode)("i",{class:"fas fa-vote-yea"}),(0,o.createTextVNode)(" My Votes ")],-1)),0===St.userVotes.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ee,t[63]||(t[63]=[(0,o.createElementVNode)("div",{class:"empty-state-content"},[(0,o.createElementVNode)("i",{class:"fas fa-vote-yea"}),(0,o.createElementVNode)("h3",null,"No Votes Yet"),(0,o.createElementVNode)("p",null,"You haven't voted on any proposals yet.")],-1)]))):((0,o.openBlock)(),(0,o.createElementBlock)("div",Ne,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(St.userVotes,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e.voteId,class:"vote-item"},[(0,o.createElementVNode)("div",ye,[(0,o.createElementVNode)("h3",null,[(0,o.createElementVNode)("small",null,(0,o.toDisplayString)(e.offer.groupName),1),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.offer.name),1),(0,o.createElementVNode)("small",null,"Proposal ID: "+(0,o.toDisplayString)(e.offer.offerId.slice(0,4))+"..."+(0,o.toDisplayString)(e.offer.offerId.slice(-4)),1)]),(0,o.createElementVNode)("p",null,[t[64]||(t[64]=(0,o.createElementVNode)("i",{class:"fas fa-users"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.offer.votes)+" voted",1)]),(0,o.createElementVNode)("p",null,[t[65]||(t[65]=(0,o.createElementVNode)("i",{class:"fas fa-coins"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(St.formatStakedAmount(e.offer.staked))+" BITCAT's",1)]),(0,o.createElementVNode)("div",ke,[(0,o.createElementVNode)("span",he,"Your votes: "+(0,o.toDisplayString)(St.formatStakedAmount(e.staked))+" BITCAT's",1),(0,o.createElementVNode)("button",{onClick:t=>St.cancelVote(e.voteId),class:"cancel-vote-btn"}," Cancel Vote ",8,De)])])])))),128))]))]),(0,o.createElementVNode)("div",we,[t[72]||(t[72]=(0,o.createElementVNode)("h2",{class:"section-title"},[(0,o.createElementVNode)("i",{class:"fas fa-file-alt"}),(0,o.createTextVNode)(" My Proposals History ")],-1)),0===St.userOtherProposals.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",be,[(0,o.createElementVNode)("div",Ce,[t[67]||(t[67]=(0,o.createElementVNode)("i",{class:"fas fa-folder-open"},null,-1)),t[68]||(t[68]=(0,o.createElementVNode)("h3",null,"No Proposals",-1)),t[69]||(t[69]=(0,o.createElementVNode)("p",null,"Here you'll find completed, canceled, blocked proposals",-1)),St.canCreateProposal?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,class:"create-proposal-btn",onClick:t[7]||(t[7]=(...e)=>St.createProposal&&St.createProposal(...e))}," Create Proposal ")):(0,o.createCommentVNode)("",!0)])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",Te,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(St.userOtherProposals,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e.offerId,class:"other-proposal-item"},[(0,o.createElementVNode)("div",Be,[(0,o.createElementVNode)("small",Ae,(0,o.toDisplayString)(e.DaoOfferGroup.name),1),(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["proposal-status",e.status])},(0,o.toDisplayString)(e.status),3)]),(0,o.createElementVNode)("h3",Se,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("small",Pe,"ID: "+(0,o.toDisplayString)(e.offerId.slice(0,4))+"..."+(0,o.toDisplayString)(e.offerId.slice(-4)),1),(0,o.createElementVNode)("p",xe,(0,o.toDisplayString)(e.description),1),(0,o.createElementVNode)("div",ze,[(0,o.createElementVNode)("span",null,[t[70]||(t[70]=(0,o.createElementVNode)("i",{class:"fas fa-users"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.votes)+" voted ",1)]),(0,o.createElementVNode)("span",null,[t[71]||(t[71]=(0,o.createElementVNode)("i",{class:"fas fa-coins"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(St.formatStakedAmount(e.staked))+" BITCAT's ",1)]),(0,o.createElementVNode)("small",Ie," Updated: "+(0,o.toDisplayString)(St.formatHistoryDate(e.updatedAt)),1)])])))),128))]))])])):(0,o.createCommentVNode)("",!0),"active"===St.activeTab?((0,o.openBlock)(),(0,o.createElementBlock)("div",Me,[t[78]||(t[78]=(0,o.createElementVNode)("h2",{class:"section-title"},[(0,o.createElementVNode)("i",{class:"fas fa-history"}),(0,o.createTextVNode)(" Voting History ")],-1)),0===St.votingHistory.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ue,[1===St.currentHistoryPage?((0,o.openBlock)(),(0,o.createElementBlock)("div",Fe,t[73]||(t[73]=[(0,o.createElementVNode)("i",{class:"fas fa-history"},null,-1),(0,o.createElementVNode)("h3",null,"No Voting History",-1),(0,o.createElementVNode)("p",null,"There are no votes recorded yet.",-1)]))):((0,o.openBlock)(),(0,o.createElementBlock)("div",Le,t[74]||(t[74]=[(0,o.createElementVNode)("i",{class:"fas fa-history"},null,-1),(0,o.createElementVNode)("h3",null,"No More Voting History",-1),(0,o.createElementVNode)("p",null,"There are no more votes recorded.",-1)])))])):((0,o.openBlock)(),(0,o.createElementBlock)("div",He,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(St.votingHistory,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e.voteId,class:"history-item"},[(0,o.createElementVNode)("div",Oe,[(0,o.createElementVNode)("span",Qe,[(0,o.createVNode)(zt,{to:`/player/${St.formatUserTag(e.userTag)}`},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(St.formatUserTag(e.userTag)),1)])),_:2},1032,["to"])]),(0,o.createElementVNode)("span",Xe,[t[75]||(t[75]=(0,o.createElementVNode)("i",{class:"fas fa-coins"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(St.formatStakedAmount(e.stake))+" BITCAT's ",1)]),(0,o.createElementVNode)("small",null,"Vote ID: "+(0,o.toDisplayString)(e.voteId.slice(0,4))+"..."+(0,o.toDisplayString)(e.voteId.slice(-4)),1),(0,o.createElementVNode)("small",null,"Proposal ID: "+(0,o.toDisplayString)(e.offer.slice(0,4))+"..."+(0,o.toDisplayString)(e.offer.slice(-4)),1),(0,o.createElementVNode)("span",je,(0,o.toDisplayString)(St.formatHistoryDate(e.createdAt)),1)])])))),128))])),(0,o.createElementVNode)("div",Ge,[(0,o.createElementVNode)("button",{onClick:t[8]||(t[8]=(...e)=>St.prevHistoryPage&&St.prevHistoryPage(...e)),disabled:1===St.currentHistoryPage,class:"pagination-btn"},t[76]||(t[76]=[(0,o.createElementVNode)("i",{class:"fas fa-chevron-left"},null,-1)]),8,qe),(0,o.createElementVNode)("span",Ke,"Page "+(0,o.toDisplayString)(St.currentHistoryPage),1),(0,o.createElementVNode)("button",{onClick:t[9]||(t[9]=(...e)=>St.nextHistoryPage&&St.nextHistoryPage(...e)),disabled:0===St.votingHistory.length,class:"pagination-btn"},t[77]||(t[77]=[(0,o.createElementVNode)("i",{class:"fas fa-chevron-right"},null,-1)]),8,Ye)])])):(0,o.createCommentVNode)("",!0)]),t[81]||(t[81]=(0,o.createElementVNode)("img",{src:s,alt:"COIN",class:"page-dao__coin"},null,-1))])]),St.showCreateModal?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:t[18]||(t[18]=e=>St.showCreateModal=!1)},[(0,o.createElementVNode)("div",{class:"modal-content",onClick:t[17]||(t[17]=(0,o.withModifiers)((()=>{}),["stop"]))},[(0,o.createElementVNode)("div",Ze,[t[83]||(t[83]=(0,o.createElementVNode)("h2",null,"Create New Proposal",-1)),(0,o.createElementVNode)("button",{class:"close-button",onClick:t[10]||(t[10]=e=>St.showCreateModal=!1)},t[82]||(t[82]=[(0,o.createElementVNode)("i",{class:"fas fa-times"},null,-1)]))]),(0,o.createElementVNode)("div",Je,[(0,o.createElementVNode)("form",{onSubmit:t[15]||(t[15]=(0,o.withModifiers)(((...e)=>St.submitProposal&&St.submitProposal(...e)),["prevent"])),class:"proposal-form"},[(0,o.createElementVNode)("div",We,[t[84]||(t[84]=(0,o.createElementVNode)("label",{for:"proposalName"},"Name",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"proposalName","onUpdate:modelValue":t[11]||(t[11]=e=>St.newProposal.name=e),type:"text",placeholder:"Enter proposal name",required:"",autocomplete:"off"},null,512),[[o.vModelText,St.newProposal.name]])]),(0,o.createElementVNode)("div",Re,[(0,o.createElementVNode)("label",_e,"Description ("+(0,o.toDisplayString)(St.newProposal.description.length)+"/300)",1),(0,o.withDirectives)((0,o.createElementVNode)("textarea",{id:"proposalDescription","onUpdate:modelValue":t[12]||(t[12]=e=>St.newProposal.description=e),placeholder:"Enter proposal description",rows:"4",required:""},null,512),[[o.vModelText,St.newProposal.description]])]),(0,o.createElementVNode)("div",$e,[t[86]||(t[86]=(0,o.createElementVNode)("label",{for:"proposalGroup"},"Group",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"proposalGroup","onUpdate:modelValue":t[13]||(t[13]=e=>St.newProposal.groupNameTag=e),required:""},[t[85]||(t[85]=(0,o.createElementVNode)("option",{value:"",disabled:""},"Select a group",-1)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(St.groups,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.nameTag,value:e.nameTag},(0,o.toDisplayString)(e.name),9,et)))),128))],512),[[o.vModelSelect,St.newProposal.groupNameTag]])]),St.createError?((0,o.openBlock)(),(0,o.createElementBlock)("div",tt,[t[87]||(t[87]=(0,o.createElementVNode)("i",{class:"fas fa-exclamation-circle"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(St.createError),1)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",at,[(0,o.createElementVNode)("button",{type:"button",class:"cancel-button",onClick:t[14]||(t[14]=e=>St.showCreateModal=!1)}," Cancel "),(0,o.createElementVNode)("button",{type:"submit",class:"submit-button",disabled:St.isSubmitting},(0,o.toDisplayString)(St.isSubmitting?"Creating...":"Create Proposal"),9,ot)])],32),(0,o.createElementVNode)("div",lt,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["info-content",{expanded:St.showFullInfo}])},[t[89]||(t[89]=(0,o.createElementVNode)("i",{class:"fas fa-info-circle"},null,-1)),(0,o.createElementVNode)("div",st,[(0,o.createElementVNode)("p",null,[t[88]||(t[88]=(0,o.createTextVNode)(" Note: Proposals can be created by BITCAT holders with at least 1M tokens or authorized users with creation rights. Creating a proposal is free, you just need to be a holder. ")),(0,o.withDirectives)((0,o.createElementVNode)("span",null," Offensive proposals will be removed, and creators can withdraw their proposals from voting at any time. ",512),[[o.vShow,St.showFullInfo]])]),(0,o.createElementVNode)("button",{class:"toggle-info",onClick:t[16]||(t[16]=e=>St.showFullInfo=!St.showFullInfo)},(0,o.toDisplayString)(St.showFullInfo?"Show Less":"Show More"),1)])],2)])])])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(It,{"is-open":St.showDaoInfo,onClose:St.closeDaoInfo},null,8,["is-open","onClose"]),St.showVoteModal?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"modal-overlay",onClick:t[25]||(t[25]=e=>St.showVoteModal=!1)},[(0,o.createElementVNode)("div",{class:"modal-content vote-modal",onClick:t[24]||(t[24]=(0,o.withModifiers)((()=>{}),["stop"]))},[(0,o.createElementVNode)("div",nt,[t[91]||(t[91]=(0,o.createElementVNode)("h2",null,"Vote for Proposal",-1)),(0,o.createElementVNode)("button",{class:"close-button",onClick:t[19]||(t[19]=e=>St.showVoteModal=!1)},t[90]||(t[90]=[(0,o.createElementVNode)("i",{class:"fas fa-times"},null,-1)]))]),(0,o.createElementVNode)("div",rt,[(0,o.createElementVNode)("div",ct,[(0,o.createElementVNode)("div",it,[t[92]||(t[92]=(0,o.createElementVNode)("i",{class:"fas fa-file-alt"},null,-1)),(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(St.selectedOffer?.name),1)]),(0,o.createElementVNode)("div",dt,[(0,o.createElementVNode)("div",mt,[t[93]||(t[93]=(0,o.createElementVNode)("span",{class:"label"},"Created by:",-1)),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(St.formatUserTag(St.selectedOffer?.fromUserTag)),1)]),(0,o.createElementVNode)("div",ut,[t[94]||(t[94]=(0,o.createElementVNode)("span",{class:"label"},"Current Voters:",-1)),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(St.selectedOffer?.votes||0),1)])])]),(0,o.createElementVNode)("div",pt,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(St.presetAmounts,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:e,type:"button",class:(0,o.normalizeClass)(["preset-button",{active:St.voteAmount===e}]),onClick:t=>St.selectAmount(e)},(0,o.toDisplayString)(St.formatAmount(e)),11,vt)))),128))]),(0,o.createElementVNode)("div",ft,[t[95]||(t[95]=(0,o.createElementVNode)("label",{for:"customAmount"},"Or enter custom amount:",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"customAmount","onUpdate:modelValue":t[20]||(t[20]=e=>St.voteAmount=e),type:"number",min:"1",placeholder:"Enter amount of tokens",class:"custom-amount"},null,512),[[o.vModelText,St.voteAmount]])]),St.voteError||St.serverMessage?((0,o.openBlock)(),(0,o.createElementBlock)("div",Vt,[St.voteError?((0,o.openBlock)(),(0,o.createElementBlock)("div",gt,[t[96]||(t[96]=(0,o.createElementVNode)("i",{class:"fas fa-exclamation-circle"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(St.voteError),1)])):(0,o.createCommentVNode)("",!0),St.serverMessage?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)(["server-message",St.serverMessage.type])},[(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)(["fas",{"fa-check-circle":"success"===St.serverMessage.type,"fa-exclamation-triangle":"warning"===St.serverMessage.type,"fa-info-circle":"info"===St.serverMessage.type}])},null,2),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(St.serverMessage.text),1)],2)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Et,[(0,o.createElementVNode)("button",{type:"button",class:"cancel-button",onClick:t[21]||(t[21]=e=>St.showVoteModal=!1)}," Cancel "),(0,o.createElementVNode)("button",{type:"button",class:"submit-button",disabled:St.isVoting||!St.voteAmount,onClick:t[22]||(t[22]=(...e)=>St.submitVote&&St.submitVote(...e))},(0,o.toDisplayString)(St.isVoting?"Voting...":"Submit Vote"),9,Nt)]),(0,o.createElementVNode)("div",yt,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["info-content",{expanded:St.showVoteInfo}])},[t[98]||(t[98]=(0,o.createElementVNode)("i",{class:"fas fa-info-circle"},null,-1)),(0,o.createElementVNode)("div",kt,[(0,o.createElementVNode)("p",null,[t[97]||(t[97]=(0,o.createTextVNode)(" Note: The tokens you vote with will not be staked. ")),(0,o.withDirectives)((0,o.createElementVNode)("span",null," However, at the end of voting period, we will verify if you still have these tokens in your wallet. Votes without corresponding tokens will be excluded from the final count. ",512),[[o.vShow,St.showVoteInfo]])]),(0,o.createElementVNode)("button",{class:"toggle-info",onClick:t[23]||(t[23]=e=>St.showVoteInfo=!St.showVoteInfo)},(0,o.toDisplayString)(St.showVoteInfo?"Show Less":"Show More"),1)])],2)])])])])):(0,o.createCommentVNode)("",!0),St.showCancelModal?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:"modal-overlay",onClick:t[30]||(t[30]=e=>St.showCancelModal=!1)},[(0,o.createElementVNode)("div",{class:"modal-content",onClick:t[29]||(t[29]=(0,o.withModifiers)((()=>{}),["stop"]))},[(0,o.createElementVNode)("div",ht,[t[100]||(t[100]=(0,o.createElementVNode)("h2",null,"Cancel Proposal",-1)),(0,o.createElementVNode)("button",{class:"close-button",onClick:t[26]||(t[26]=e=>St.showCancelModal=!1)},t[99]||(t[99]=[(0,o.createElementVNode)("i",{class:"fas fa-times"},null,-1)]))]),(0,o.createElementVNode)("div",Dt,[t[103]||(t[103]=(0,o.createElementVNode)("div",{class:"warning-message"},[(0,o.createElementVNode)("i",{class:"fas fa-exclamation-triangle"}),(0,o.createElementVNode)("p",null,"Warning! If you cancel this proposal:"),(0,o.createElementVNode)("ul",null,[(0,o.createElementVNode)("li",null,"All votes will be permanently lost"),(0,o.createElementVNode)("li",null,"Votes cannot be restored"),(0,o.createElementVNode)("li",null,"The proposal will be removed from voting"),(0,o.createElementVNode)("li",null,"Other users will not see this proposal anymore")]),(0,o.createElementVNode)("p",null,"Are you sure you want to cancel this proposal?")],-1)),St.cancelError?((0,o.openBlock)(),(0,o.createElementBlock)("div",wt,[t[101]||(t[101]=(0,o.createElementVNode)("i",{class:"fas fa-exclamation-circle"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(St.cancelError),1)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",bt,[(0,o.createElementVNode)("button",{class:"cancel-button",onClick:t[27]||(t[27]=e=>St.showCancelModal=!1),disabled:St.isCancelling}," No, Keep Proposal ",8,Ct),(0,o.createElementVNode)("button",{class:"submit-button",onClick:t[28]||(t[28]=(...e)=>St.cancelOffer&&St.cancelOffer(...e)),disabled:St.isCancelling},[St.isCancelling?((0,o.openBlock)(),(0,o.createElementBlock)("span",Bt,t[102]||(t[102]=[(0,o.createElementVNode)("i",{class:"fas fa-spinner fa-spin"},null,-1),(0,o.createTextVNode)(" Cancelling... ")]))):((0,o.openBlock)(),(0,o.createElementBlock)("span",At,"Yes, Cancel Proposal"))],8,Tt)])])])])):(0,o.createCommentVNode)("",!0)],64)}a(8992),a(4520);var Pt=a(3719),xt=a.n(Pt),zt=a(8881);function It(e,t,a,l,s,n){return(0,o.openBlock)(),(0,o.createBlock)(o.Transition,{name:"modal"},{default:(0,o.withCtx)((()=>[a.isOpen?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=(...e)=>n.close&&n.close(...e))},[(0,o.createElementVNode)("div",{class:"modal-container",onClick:t[1]||(t[1]=(0,o.withModifiers)((()=>{}),["stop"]))},[(0,o.createElementVNode)("button",{class:"close-button",onClick:t[0]||(t[0]=(...e)=>n.close&&n.close(...e))},t[3]||(t[3]=[(0,o.createElementVNode)("i",{class:"fas fa-times"},null,-1)])),t[4]||(t[4]=(0,o.createElementVNode)("div",{class:"modal-content"},[(0,o.createElementVNode)("div",{class:"modal-header"},[(0,o.createElementVNode)("h2",null,[(0,o.createElementVNode)("i",{class:"fas fa-landmark"}),(0,o.createTextVNode)(" About BITCAT DAO")])]),(0,o.createElementVNode)("div",{class:"modal-body"},[(0,o.createElementVNode)("div",{class:"section"},[(0,o.createElementVNode)("h3",null,[(0,o.createElementVNode)("i",{class:"fas fa-vote-yea"}),(0,o.createTextVNode)(" How BITCAT DAO Works")]),(0,o.createElementVNode)("p",null,"BITCAT DAO is a decentralized autonomous organization where community members can propose and vote on important decisions:"),(0,o.createElementVNode)("ul",null,[(0,o.createElementVNode)("li",null,[(0,o.createElementVNode)("i",{class:"fas fa-file-alt"}),(0,o.createTextVNode)(" Create(free) proposals if you have 1M BITCAT tokens")]),(0,o.createElementVNode)("li",null,[(0,o.createElementVNode)("i",{class:"fas fa-coins"}),(0,o.createTextVNode)(" Vote(free) with your BITCAT tokens")]),(0,o.createElementVNode)("li",null,[(0,o.createElementVNode)("i",{class:"fas fa-shield-alt"}),(0,o.createTextVNode)(" Your tokens remain in your wallet")]),(0,o.createElementVNode)("li",null,[(0,o.createElementVNode)("i",{class:"fas fa-balance-scale"}),(0,o.createTextVNode)(" Votes are weighted by token amount")])]),(0,o.createElementVNode)("div",{class:"info-box"},[(0,o.createElementVNode)("i",{class:"fas fa-info-circle"}),(0,o.createElementVNode)("p",null,"Your tokens stay in your wallet during voting! We only verify your balance when counting votes to ensure fair participation.")])]),(0,o.createElementVNode)("div",{class:"section"},[(0,o.createElementVNode)("h3",null,[(0,o.createElementVNode)("i",{class:"fas fa-tasks"}),(0,o.createTextVNode)(" Proposal Stages")]),(0,o.createElementVNode)("div",{class:"stages-grid"},[(0,o.createElementVNode)("div",{class:"stage"},[(0,o.createElementVNode)("i",{class:"fas fa-fire"}),(0,o.createElementVNode)("h4",null,"Active"),(0,o.createElementVNode)("p",null,"Current proposals open for community voting. The proposal with the most BITCAT votes wins.")]),(0,o.createElementVNode)("div",{class:"stage"},[(0,o.createElementVNode)("i",{class:"fas fa-check-circle"}),(0,o.createElementVNode)("h4",null,"Completed"),(0,o.createElementVNode)("p",null,"Winning proposals that have been approved by the community and will be implemented.")]),(0,o.createElementVNode)("div",{class:"stage"},[(0,o.createElementVNode)("i",{class:"fas fa-user-shield"}),(0,o.createElementVNode)("h4",null,"My DAO"),(0,o.createElementVNode)("p",null,"Manage your proposals, monitor votes, and track your participation in the DAO.")])])]),(0,o.createElementVNode)("div",{class:"section"},[(0,o.createElementVNode)("h3",null,[(0,o.createElementVNode)("i",{class:"fas fa-chart-pie"}),(0,o.createTextVNode)(" Voting System")]),(0,o.createElementVNode)("ul",{class:"feature-list"},[(0,o.createElementVNode)("li",null,[(0,o.createElementVNode)("i",{class:"fas fa-check"}),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("h4",null,"Fair Voting"),(0,o.createElementVNode)("p",null,"Each BITCAT token counts as one vote, ensuring proportional representation.")])]),(0,o.createElementVNode)("li",null,[(0,o.createElementVNode)("i",{class:"fas fa-history"}),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("h4",null,"Vote History"),(0,o.createElementVNode)("p",null,"Track all your voting activities and proposal statuses.")])]),(0,o.createElementVNode)("li",null,[(0,o.createElementVNode)("i",{class:"fas fa-undo"}),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("h4",null,"Vote Management"),(0,o.createElementVNode)("p",null,"Cancel your votes during the active voting period.")])])])])]),(0,o.createElementVNode)("div",{class:"section"},[(0,o.createElementVNode)("h3",null,[(0,o.createElementVNode)("i",{class:"fas fa-gift"}),(0,o.createTextVNode)(" Rewards")]),(0,o.createElementVNode)("p",null,"If you voted for the winning proposal you will receive rewards in the BITCAT universe. We are working on this functionality. Coming soon!")]),(0,o.createElementVNode)("div",{class:"modal-footer"},[(0,o.createElementVNode)("p",null,[(0,o.createElementVNode)("i",{class:"fas fa-star"}),(0,o.createTextVNode)(" Shape the future of BITCAT Universe through DAO governance!")])])],-1))])])):(0,o.createCommentVNode)("",!0)])),_:1})}var Mt={name:"DaoInfoPopup",props:{isOpen:{type:Boolean,required:!0}},methods:{close(){this.$emit("close")}}},Ut=a(1241);const Ft=(0,Ut.A)(Mt,[["render",It],["__scopeId","data-v-8b922d0a"]]);var Lt=Ft,Ht=a(4348),Ot={name:"DaoPage",components:{DaoInfoPopup:Lt},setup(){const e=(0,o.ref)([]),t=(0,o.ref)([]),a=(0,o.ref)(0),l=(0,o.ref)(0),s=(0,o.ref)(0),n=(0,o.ref)("active"),r=(0,o.ref)(0),c=(0,o.ref)(0),i=(0,o.ref)(!1),d=()=>{i.value=!0},m=()=>{i.value=!1},u=async()=>{try{Ht.log("Fetching groups...");const t=await xt().get("/dao/get-groups");e.value=t.data}catch(t){Ht.error("Error fetching groups:",t)}},p=(0,o.computed)((()=>zt.A.getters.isAuthenticated)),v=async()=>{try{Ht.log("Fetching offers...");const e=await xt().get("/dao/get-offers");t.value=e.data}catch(e){Ht.error("Error fetching offers:",e)}},f=async()=>{try{if(Ht.log("Fetching user stats..."),!zt.A.getters.isAuthenticated)return;const e=await xt().get("/dao/get-user-stats");c.value=e.data.voted,a.value=e.data.totalStaked}catch(e){Ht.error("Error fetching user stats:",e)}},V=async()=>{try{Ht.log("Fetching user stats...");const e=await xt().get("/dao/get-stats");s.value=e.data.activeVoters,l.value=e.data.totalStaked}catch(e){Ht.error("Error fetching user stats:",e)}},g=(0,o.ref)(!1),E=(0,o.ref)(null),N=(0,o.ref)(""),y=(0,o.ref)(!1),k=e=>{E.value=e,g.value=!0},h=async()=>{if(E.value){y.value=!0,N.value="";try{await xt().post("/dao/cancel-offer",{offerId:E.value.offerId}),g.value=!1,le.value={type:"success",text:"Offer cancelled successfully!"},setTimeout((()=>{le.value=null}),5e3),await v(),await f(),await V(),await Ve()}catch(e){Ht.error("Error cancelling offer:",e),N.value=e.response?.data?.message||"Failed to cancel proposal"}finally{y.value=!1}}},D=e=>{const a=t.value.filter((t=>{const a=t.DaoOfferGroup?.nameTag||t.groupNameTag||t.nameTag;return a===e})),o=zt.A.getters.userTag,l=e=>{const t=e.filter((e=>{const t="active"===e.status||!e.status,a=e.votingEnd?new Date(e.votingEnd):null,o=new Date,l=!a||a>o;return t&&l}));return t},s=e=>e.filter((e=>{const t="completed"===e.status;if(t)return!0;const a=e.votingEnd?new Date(e.votingEnd):null,o=new Date;return a&&a<=o})),r=e=>e.filter((e=>{const t="completed"===e.status;return!t&&e.fromUserTag===o}));let c;switch(n.value){case"active":c=l(a);break;case"completed":c=s(a);break;case"my":c=r(a);break;default:c=a}return c},w=e=>{ae.value=e,ee.value="",_.value="",le.value=null,W.value=!0},b=e=>{const t=new Date(e),a=new Date,o=t-a;if(o<=0)return"Voting ended";const l=Math.floor(o/864e5),s=Math.floor(o%864e5/36e5),n=Math.floor(o%36e5/6e4);return`${l}d ${s}h ${n}m left`},C=e=>{if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},T=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=e=>e||"Anonymous",A=e=>!0,S=(0,o.ref)(!0),P=()=>{X.value=!0,j.value="",q.value={name:"",description:"",groupNameTag:""}},x=e=>{X.value=!0,j.value="",q.value={name:"",description:"",groupNameTag:e}},z=async()=>{try{G.value=!0,j.value="",le.value=null;const e=await xt().post("/dao/add-offer",{name:q.value.name,description:q.value.description,groupNameTag:q.value.groupNameTag,wallet:zt.A.getters.walletAddress});e.data.offerId?(X.value=!1,await v(),await f(),await V(),le.value={type:"success",text:"Proposal added successfully!"},setTimeout((()=>{le.value=null}),5e3)):j.value=e.data.message||"Failed to create proposal"}catch(e){Ht.error("Error creating proposal:",e),j.value=e.response?.data?.message||"Failed to create proposal. Try to login."}finally{G.value=!1}},I=(e,t)=>{const a=new Date,o=t-e,l=a-e;return l/o*100},M=(0,o.computed)((()=>e.value)),U=(0,o.computed)((()=>t.value.filter((e=>{const t="active"===e.status||!e.status;return!!t})).length)),F=(0,o.computed)((()=>t.value.filter((e=>{const t="completed"===e.status;return!!t})).length)),L=(0,o.computed)((()=>{const e=zt.A.getters.userTag;return t.value.filter((t=>t.fromUserTag===e)).length})),H=(0,o.computed)((()=>{switch(n.value){case"active":return"No Active Proposals";case"completed":return"No Completed Proposals";case"my":return"No Personal Proposals";default:return"No Proposals Found"}})),O=(0,o.computed)((()=>{switch(n.value){case"active":return"There are no active proposals at the moment. Create one to get started!";case"completed":return"No proposals have been completed yet. Check back later!";case"my":return"You haven't created any proposals yet. Start participating in the DAO!";default:return"Start participating in the DAO by creating or voting on proposals."}})),Q=(0,o.computed)((()=>{if(!r.value||0===r.value)return 100;const e=r.value-a.value,t=e/r.value*100;return Math.round(t)})),X=(0,o.ref)(!1),j=(0,o.ref)(""),G=(0,o.ref)(!1),q=(0,o.ref)({name:"",description:"",groupNameTag:""}),K=async()=>{Ht.log("Fetching user balance...");try{const e=zt.A.getters.walletAddress;if(Ht.log("Current wallet:",e),!e)return;const t=await xt().get(`/dapp/get-bitcat-balance/${e}`);r.value=t.data.balance||0}catch(e){Ht.error("Error fetching user balance:",e)}},Y=(0,o.ref)([]),Z=async()=>{if(zt.A.getters.isAuthenticated)try{const e=await xt().get("/dao/get-user-votes/");Y.value=e.data}catch(e){Ht.error("Error fetching user votes:",e),le.value={type:"error",text:"Failed to fetch user votes"},setTimeout((()=>{le.value=null}),5e3)}},J=async e=>{try{await xt().post("/dao/cancel-user-vote",{voteId:e}),await Z(),await v(),await V(),await f(),le.value={type:"success",text:"Vote cancelled successfully"},setTimeout((()=>{le.value=null}),5e3)}catch(t){Ht.error("Error cancelling vote:",t),le.value={type:"error",text:"Failed to cancel vote"},setTimeout((()=>{le.value=null}),5e3)}},W=(0,o.ref)(!1),R=(0,o.ref)(!1),_=(0,o.ref)(""),$=(0,o.ref)(!1),ee=(0,o.ref)(""),te=(0,o.ref)([100,1e3,1e4,1e6]),ae=(0,o.ref)(null),oe=(0,o.ref)(!1),le=(0,o.ref)(null),se=e=>e>=1e6?e/1e6+"M":e>=1e3?e/1e3+"K":e.toString(),ne=e=>{ee.value=e},re=async()=>{try{$.value=!0,_.value="",le.value=null;const e=await xt().post("/dao/add-vote",{offerId:ae.value.offerId,vote:Number(ee.value),wallet:zt.A.getters.walletAddress});e.data.voteId?(W.value=!1,await v(),await f(),await V(),await Z(),await ue(),le.value={type:"success",text:"Vote submitted successfully!"},setTimeout((()=>{le.value=null}),5e3)):_.value=e.data.message||"Failed to submit vote"}catch(e){Ht.error("Error submitting vote:",e),_.value=e.response?.data?.message||"Failed to submit vote. Try to login."}finally{$.value=!1}},ce=(0,o.ref)(""),ie=(0,o.computed)((()=>zt.A.getters.walletAddress));(0,o.watch)(ie,(async()=>{await K()}));const de=(0,o.ref)([]),me=(0,o.ref)(1),ue=async(e=1)=>{try{const t=await xt().get(`/dao/get-votes-history?page=${e}`);de.value=t.data}catch(t){Ht.error("Error fetching voting history:",t),le.value={type:"error",text:"Failed to fetch voting history"},setTimeout((()=>{le.value=null}),5e3)}},pe=async()=>{me.value++,await ue(me.value)},ve=async()=>{me.value>1&&(me.value--,await ue(me.value))},fe=(0,o.ref)([]),Ve=async()=>{try{if(!zt.A.getters.isAuthenticated)return;const e=await xt().get("/dao/get-user-offers/");fe.value=e.data}catch(e){Ht.error("Error fetching other proposals:",e)}},ge=(0,o.computed)((()=>e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"));return(0,o.onMounted)((async()=>{await K(),u(),v(),f(),V(),Z(),ue(),Ve()})),{formatStakedAmount:ge,showDaoInfo:i,openDaoInfo:d,closeDaoInfo:m,userOtherProposals:fe,votingHistory:de,currentHistoryPage:me,nextHistoryPage:pe,prevHistoryPage:ve,isAuthenticated:p,showCancelModal:g,cancelError:N,isCancelling:y,openCancelOfferModal:k,cancelOffer:h,groups:e,offers:t,totalStaked:l,totalUserStaked:a,activeVoters:s,getFilteredOffersForGroup:D,openVoteModal:w,formatTimeLeft:b,formatDate:C,formatUserTag:B,canVote:A,canCreateProposal:S,createProposal:P,createProposalInGroup:x,getProgress:I,activeTab:n,filteredGroups:M,getActiveCount:U,getCompletedCount:F,getMyCount:L,emptyStateMessage:H,emptyStateDescription:O,showCreateModal:X,createError:j,isSubmitting:G,newProposal:q,submitProposal:z,userBalance:r,votedCount:c,showVoteModal:W,showFullInfo:R,voteError:_,isVoting:$,voteAmount:ee,presetAmounts:te,selectedOffer:ae,formatAmount:se,selectAmount:ne,submitVote:re,showVoteInfo:oe,serverMessage:le,errorMessage:ce,getVotingPercentage:Q,userVotes:Y,cancelVote:J,formatHistoryDate:T}}};const Qt=(0,Ut.A)(Ot,[["render",St],["__scopeId","data-v-1035029f"]]);var Xt=Qt},8107:function(e){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=468.16eb6590.js.map