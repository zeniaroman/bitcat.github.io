"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[176],{5176:function(e,a,l){l.r(a),l.d(a,{default:function(){return U}});var t=l(4061),s=l(3992),r=l(3719),n=l.n(r),o=l(4348);const i={key:0,class:"game-details"},c={class:"game-details__header"},d={class:"game-details__status"},u={class:"game-time"},m={class:"result-text"},v={class:"stake-info"},p={class:"players-section"},N={class:"player-header"},V={class:"player-info"},y={class:"moves"},g={class:"move"},E={class:"move"},f={class:"player-header"},k={class:"player-info"},T={class:"moves"},h={class:"move"},x={class:"move"},w={class:"game-grid"},S={class:"grid-container"},B={class:"position-number"},G={class:"position-markers"},D={key:0,class:"marker p1-marker"},P={key:1,class:"marker p2-marker"},C={key:2,class:"marker p1-guess-marker"},_={key:3,class:"marker p2-guess-marker"},b={key:1,class:"error-message"},z={key:2,class:"loading"};var I={__name:"HideSeekGameDetailsPage",setup(e){const a=(0,s.useRoute)(),l=(0,t.ref)(null),r=(0,t.ref)(null),I=(0,t.computed)((()=>!!l.value&&l.value.winner===l.value.player1?.id)),$=(0,t.computed)((()=>!!l.value&&l.value.winner===l.value.player2?.id)),L=()=>{if(!l.value?.winner)return"Game ended in a draw";const e=I.value?l.value.player1?.userTag:l.value.player2?.userTag;return`Winner: ${e}`},U=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",A=e=>!!l.value?.winner&&(I.value?e===l.value.player1Position:e===l.value.player2Position),F=async()=>{try{const e=await n().get(`/hide-seek-games/${a.params.gameId}`);if("finished"!==e.data.status)return void(r.value="This game is not finished yet");l.value=e.data}catch(e){r.value="Failed to load game details",o.error("Error fetching game details:",e)}};return(0,t.onMounted)((()=>{F()})),(e,a)=>{const s=(0,t.resolveComponent)("router-link");return l.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",i,[(0,t.createElementVNode)("div",c,[a[0]||(a[0]=(0,t.createElementVNode)("h1",null,[(0,t.createElementVNode)("i",{class:"fas fa-gamepad"}),(0,t.createTextVNode)(" Hide & Seek Game Results")],-1)),(0,t.createElementVNode)("div",d,[(0,t.createTextVNode)(" Game ID: "+(0,t.toDisplayString)(l.value.gameId)+" ",1),(0,t.createElementVNode)("div",u,"Played on: "+(0,t.toDisplayString)(U(l.value.createdAt)),1)])]),(0,t.createElementVNode)("div",{class:(0,t.normalizeClass)(["game-result-banner",{"winner-p1":I.value,"winner-p2":$.value}])},[(0,t.createElementVNode)("div",m,[(0,t.createTextVNode)((0,t.toDisplayString)(L())+" ",1),(0,t.createElementVNode)("div",v,[a[1]||(a[1]=(0,t.createElementVNode)("i",{class:"fas fa-coins"},null,-1)),(0,t.createTextVNode)(" Stake: "+(0,t.toDisplayString)(l.value.stake)+" "+(0,t.toDisplayString)(l.value.stakeType),1)])])],2),(0,t.createElementVNode)("div",p,[(0,t.createElementVNode)("div",{class:(0,t.normalizeClass)(["player player1",{winner:I.value,loser:!I.value&&l.value.winner}])},[(0,t.createElementVNode)("div",N,[a[2]||(a[2]=(0,t.createElementVNode)("i",{class:"fas fa-user-astronaut"},null,-1)),a[3]||(a[3]=(0,t.createTextVNode)()),(0,t.createVNode)(s,{to:`/player/${l.value.player1?.userTag}`},{default:(0,t.withCtx)((()=>[(0,t.createTextVNode)((0,t.toDisplayString)(l.value.player1?.userTag||"Unknown"),1)])),_:1},8,["to"])]),(0,t.createElementVNode)("div",V,[(0,t.createElementVNode)("div",y,[(0,t.createElementVNode)("div",g,[a[4]||(a[4]=(0,t.createElementVNode)("i",{class:"fas fa-map-marker-alt"},null,-1)),(0,t.createTextVNode)(" Position: "+(0,t.toDisplayString)(l.value.player1Position),1)]),(0,t.createElementVNode)("div",E,[a[5]||(a[5]=(0,t.createElementVNode)("i",{class:"fas fa-search"},null,-1)),(0,t.createTextVNode)(" Guess: "+(0,t.toDisplayString)(null!==l.value.player1Guess?l.value.player1Guess:"Not made"),1)])])])],2),a[9]||(a[9]=(0,t.createElementVNode)("div",{class:"vs"},[(0,t.createElementVNode)("i",{class:"fas fa-bolt"}),(0,t.createTextVNode)(" VS")],-1)),(0,t.createElementVNode)("div",{class:(0,t.normalizeClass)(["player player2",{winner:$.value,loser:!$.value&&l.value.winner}])},[(0,t.createElementVNode)("div",f,[a[6]||(a[6]=(0,t.createElementVNode)("i",{class:"fas fa-user-ninja"},null,-1)),(0,t.createVNode)(s,{to:`/player/${l.value.player2?.userTag}`},{default:(0,t.withCtx)((()=>[(0,t.createTextVNode)((0,t.toDisplayString)(l.value.player2?.userTag||"Unknown"),1)])),_:1},8,["to"])]),(0,t.createElementVNode)("div",k,[(0,t.createElementVNode)("div",T,[(0,t.createElementVNode)("div",h,[a[7]||(a[7]=(0,t.createElementVNode)("i",{class:"fas fa-map-marker-alt"},null,-1)),(0,t.createTextVNode)(" Position: "+(0,t.toDisplayString)(l.value.player2Position),1)]),(0,t.createElementVNode)("div",x,[a[8]||(a[8]=(0,t.createElementVNode)("i",{class:"fas fa-search"},null,-1)),(0,t.createTextVNode)(" Guess: "+(0,t.toDisplayString)(null!==l.value.player2Guess?l.value.player2Guess:"Not made"),1)])])])],2)]),(0,t.createElementVNode)("div",w,[a[14]||(a[14]=(0,t.createElementVNode)("h3",null,[(0,t.createElementVNode)("i",{class:"fas fa-th"}),(0,t.createTextVNode)(" Game Board")],-1)),(0,t.createElementVNode)("div",S,[((0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(4,(e=>(0,t.createElementVNode)("div",{key:e,class:(0,t.normalizeClass)(["grid-box",{"p1-position":e===l.value.player1Position,"p2-position":e===l.value.player2Position,"p1-guess":e===l.value.player1Guess,"p2-guess":e===l.value.player2Guess,"winning-move":A(e)}])},[(0,t.createElementVNode)("span",B,(0,t.toDisplayString)(e),1),(0,t.createElementVNode)("div",G,[e===l.value.player1Position?((0,t.openBlock)(),(0,t.createElementBlock)("div",D,a[10]||(a[10]=[(0,t.createElementVNode)("i",{class:"fas fa-chess-king"},null,-1),(0,t.createTextVNode)(" P1")]))):(0,t.createCommentVNode)("",!0),e===l.value.player2Position?((0,t.openBlock)(),(0,t.createElementBlock)("div",P,a[11]||(a[11]=[(0,t.createElementVNode)("i",{class:"fas fa-chess-queen"},null,-1),(0,t.createTextVNode)(" P2")]))):(0,t.createCommentVNode)("",!0),e===l.value.player1Guess?((0,t.openBlock)(),(0,t.createElementBlock)("div",C,a[12]||(a[12]=[(0,t.createElementVNode)("i",{class:"fas fa-crosshairs"},null,-1),(0,t.createTextVNode)(" G1")]))):(0,t.createCommentVNode)("",!0),e===l.value.player2Guess?((0,t.openBlock)(),(0,t.createElementBlock)("div",_,a[13]||(a[13]=[(0,t.createElementVNode)("i",{class:"fas fa-crosshairs"},null,-1),(0,t.createTextVNode)(" G2")]))):(0,t.createCommentVNode)("",!0)])],2))),64))])])])):r.value?((0,t.openBlock)(),(0,t.createElementBlock)("div",b,[a[15]||(a[15]=(0,t.createElementVNode)("i",{class:"fas fa-exclamation-triangle"},null,-1)),(0,t.createTextVNode)(" "+(0,t.toDisplayString)(r.value),1)])):((0,t.openBlock)(),(0,t.createElementBlock)("div",z,a[16]||(a[16]=[(0,t.createElementVNode)("i",{class:"fas fa-spinner fa-spin"},null,-1),(0,t.createTextVNode)(" Loading game details... ")])))}}},$=l(1241);const L=(0,$.A)(I,[["__scopeId","data-v-67115771"]]);var U=L}}]);
//# sourceMappingURL=176.df7e0d72.js.map