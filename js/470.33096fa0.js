"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[470],{8470:function(e,a,t){t.r(a),t.d(a,{default:function(){return J}});t(4114);var l=t(4061),n=t(3992),s=t(9335),c=t(3719),o=t.n(c);const r={class:"agent-page"},i={class:"container"},d={key:0,class:"loading-container"},u={key:1,class:"error-container"},m={key:2,class:"error-container system-agent"},g={key:3,class:"error-container"},v={key:4,class:"agent-container"},N={class:"header-section"},V={class:"agent-card"},E={class:"avatar-section"},f={class:"avatar-container"},p=["src","alt"],T={class:"info-section"},k={class:"agent-name"},y={class:"tag"},h={class:"description"},b={class:"stats-grid"},A={class:"stat-item"},C={class:"value"},w={class:"stat-item"},S={class:"value"},x={class:"stat-item"},B={class:"value"},_={class:"stat-item"},D={class:"value"},I={class:"actions"},O={key:0,class:"modal-overlay"},G={class:"modal-content delete-modal"},L={class:"modal-actions"},U=["disabled"],F=["disabled"];var R={__name:"AiAgentPage",setup(e){const a=(0,n.useRoute)(),t=(0,s.useStore)(),c=(0,n.useRouter)(),R=(0,l.ref)(null),$=(0,l.ref)(!0),H=(0,l.ref)(null),J=(0,l.ref)(!1),P=(0,l.ref)(!1),q=e=>`https://solanabitcat.com/data/ai-agents/bitcat-ai-agent-avatar-${e}.png`,z=e=>{const a=new Date(e);return a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},M=()=>{t.commit("SELECT_AGENT",{name:R.value.name,agentTag:R.value.agentTag,description:R.value.description,avatar:R.value.avatar}),t.commit("UPDATE_AGENT_INFO",{name:R.value.name,agentTag:R.value.agentTag,avatar:R.value.avatar}),localStorage.setItem("selectedAgent",JSON.stringify({name:R.value.name,agentTag:R.value.agentTag,avatar:R.value.avatar}));let e=JSON.parse(localStorage.getItem("chatHistory")||"{}");e[R.value.agentTag]||(e[R.value.agentTag]=[{type:"agent",content:R.value.description,timestamp:(new Date).toISOString()}],localStorage.setItem("chatHistory",JSON.stringify(e))),t.commit("SET_CURRENT_AGENT",{name:R.value.name,agentTag:R.value.agentTag,avatar:R.value.avatar}),t.commit("TOGGLE_AGENTS_LIST",!1),t.commit("TOGGLE_CHAT",!0)},j=async()=>{P.value=!0;try{await o().post("/ai/agent-delete",{agentTag:a.params.agentTag}),c.push("/ai-agents")}catch(e){H.value=e.response?.data?.error||"Failed to delete agent"}finally{P.value=!1,J.value=!1}},K=async()=>{$.value=!0,H.value=null;try{const{data:e}=await o().get(`/ai/agent?agentTag=${a.params.agentTag}`);R.value=e}catch(e){H.value=e.response?.data?.error||"Failed to load agent data"}finally{$.value=!1}};return(0,l.watch)((()=>a.params.agentTag),(()=>{K()})),(0,l.onMounted)((()=>{K()})),(e,n)=>{const s=(0,l.resolveComponent)("router-link");return(0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",i,[$.value?((0,l.openBlock)(),(0,l.createElementBlock)("div",d,n[2]||(n[2]=[(0,l.createElementVNode)("div",{class:"loading-spinner"},null,-1),(0,l.createElementVNode)("p",null,"Loading agent data...",-1)]))):H.value?((0,l.openBlock)(),(0,l.createElementBlock)("div",u,[n[4]||(n[4]=(0,l.createElementVNode)("i",{class:"fas fa-exclamation-circle"},null,-1)),n[5]||(n[5]=(0,l.createElementVNode)("h3",null,"Error Loading Agent",-1)),(0,l.createElementVNode)("p",null,(0,l.toDisplayString)(H.value),1),(0,l.createVNode)(s,{to:"/ai-agents",class:"back-button error"},{default:(0,l.withCtx)((()=>n[3]||(n[3]=[(0,l.createElementVNode)("i",{class:"fas fa-arrow-left"},null,-1),(0,l.createTextVNode)(" Back to Agents ")]))),_:1})])):"main_agent"===(0,l.unref)(a).params.agentTag?((0,l.openBlock)(),(0,l.createElementBlock)("div",m,[n[7]||(n[7]=(0,l.createElementVNode)("i",{class:"fas fa-cat"},null,-1)),n[8]||(n[8]=(0,l.createElementVNode)("h3",null,"BITCAT System AI Agent",-1)),n[9]||(n[9]=(0,l.createElementVNode)("p",null,"This is the main system AI agent. Statistics are not available for system agents.",-1)),(0,l.createVNode)(s,{to:"/ai-agents",class:"back-button error"},{default:(0,l.withCtx)((()=>n[6]||(n[6]=[(0,l.createElementVNode)("i",{class:"fas fa-arrow-left"},null,-1),(0,l.createTextVNode)(" Back to Agents ")]))),_:1})])):R.value||$.value||H.value?R.value?((0,l.openBlock)(),(0,l.createElementBlock)("div",v,[(0,l.createElementVNode)("div",N,[(0,l.createVNode)(s,{to:"/ai-agents",class:"back-button"},{default:(0,l.withCtx)((()=>n[14]||(n[14]=[(0,l.createElementVNode)("i",{class:"fas fa-arrow-left"},null,-1),(0,l.createTextVNode)(" Back to Agents ")]))),_:1}),n[15]||(n[15]=(0,l.createElementVNode)("h1",null,"AI Agent Profile",-1))]),(0,l.createElementVNode)("div",V,[(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",f,[n[16]||(n[16]=(0,l.createElementVNode)("div",{class:"avatar-glow"},null,-1)),(0,l.createElementVNode)("img",{src:q(R.value.avatar),alt:R.value.name,class:"avatar"},null,8,p),(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["status-badge",{online:R.value.available}])},(0,l.toDisplayString)(R.value.available?"Online":"Offline"),3)])]),(0,l.createElementVNode)("div",T,[(0,l.createElementVNode)("h2",k,(0,l.toDisplayString)(R.value.name),1),(0,l.createElementVNode)("div",y,(0,l.toDisplayString)(R.value.agentTag),1),(0,l.createElementVNode)("p",h,(0,l.toDisplayString)(R.value.description),1),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",A,[n[17]||(n[17]=(0,l.createElementVNode)("i",{class:"fas fa-user"},null,-1)),n[18]||(n[18]=(0,l.createElementVNode)("span",{class:"label"},"Creator",-1)),(0,l.createElementVNode)("span",C,[(0,l.createVNode)(s,{to:`/player/${R.value.userTag}`},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(R.value.userTag),1)])),_:1},8,["to"])])]),(0,l.createElementVNode)("div",w,[n[20]||(n[20]=(0,l.createElementVNode)("i",{class:"fas fa-comments"},null,-1)),n[21]||(n[21]=(0,l.createElementVNode)("span",{class:"label"},"Chats with",-1)),(0,l.createElementVNode)("span",S,[(0,l.createTextVNode)((0,l.toDisplayString)(R.value.chats)+" ",1),n[19]||(n[19]=(0,l.createElementVNode)("small",null,"user(s)",-1))])]),(0,l.createElementVNode)("div",x,[n[23]||(n[23]=(0,l.createElementVNode)("i",{class:"fas fa-chart-line"},null,-1)),n[24]||(n[24]=(0,l.createElementVNode)("span",{class:"label"},"Used",-1)),(0,l.createElementVNode)("span",B,[(0,l.createTextVNode)((0,l.toDisplayString)(R.value.used)+" ",1),n[22]||(n[22]=(0,l.createElementVNode)("small",null,"time(s)",-1))])]),(0,l.createElementVNode)("div",_,[n[25]||(n[25]=(0,l.createElementVNode)("i",{class:"fas fa-calendar"},null,-1)),n[26]||(n[26]=(0,l.createElementVNode)("span",{class:"label"},"Created",-1)),(0,l.createElementVNode)("span",D,(0,l.toDisplayString)(z(R.value.createdAt)),1)])]),(0,l.createElementVNode)("div",I,[(0,l.createElementVNode)("button",{class:"action-button primary",onClick:M},n[27]||(n[27]=[(0,l.createElementVNode)("i",{class:"fas fa-comments"},null,-1),(0,l.createTextVNode)(" Chat with Agent ")])),R.value.userTag===(0,l.unref)(t).getters.userTag?((0,l.openBlock)(),(0,l.createBlock)(s,{key:0,class:"action-button",to:`/ai-agent/update/${R.value.agentTag}`},{default:(0,l.withCtx)((()=>n[28]||(n[28]=[(0,l.createElementVNode)("i",{class:"fas fa-edit"},null,-1),(0,l.createTextVNode)(" Update Agent ")]))),_:1},8,["to"])):(0,l.createCommentVNode)("",!0),R.value.userTag===(0,l.unref)(t).getters.userTag?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:1,class:"action-button",onClick:n[0]||(n[0]=e=>J.value=!0)},n[29]||(n[29]=[(0,l.createElementVNode)("i",{class:"fas fa-trash"},null,-1),(0,l.createTextVNode)(" Delete Agent ")]))):(0,l.createCommentVNode)("",!0)])])])])):(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",g,[n[11]||(n[11]=(0,l.createElementVNode)("i",{class:"fas fa-robot"},null,-1)),n[12]||(n[12]=(0,l.createElementVNode)("h3",null,"Agent Not Found",-1)),n[13]||(n[13]=(0,l.createElementVNode)("p",null,"The AI agent you're looking for doesn't exist or has been removed",-1)),(0,l.createVNode)(s,{to:"/ai-agents",class:"back-button error"},{default:(0,l.withCtx)((()=>n[10]||(n[10]=[(0,l.createElementVNode)("i",{class:"fas fa-arrow-left"},null,-1),(0,l.createTextVNode)(" Back to Agents ")]))),_:1})]))]),(0,l.createVNode)(l.Transition,{name:"fade"},{default:(0,l.withCtx)((()=>[J.value?((0,l.openBlock)(),(0,l.createElementBlock)("div",O,[(0,l.createElementVNode)("div",G,[n[31]||(n[31]=(0,l.createElementVNode)("i",{class:"fas fa-exclamation-triangle warning-icon"},null,-1)),n[32]||(n[32]=(0,l.createElementVNode)("h3",null,"Delete AI Agent?",-1)),n[33]||(n[33]=(0,l.createElementVNode)("p",null,"Are you sure you want to delete this AI agent? This action cannot be undone.",-1)),n[34]||(n[34]=(0,l.createElementVNode)("ul",{class:"delete-consequences"},[(0,l.createElementVNode)("li",null,[(0,l.createElementVNode)("i",{class:"fas fa-times-circle"}),(0,l.createTextVNode)(" Agent will be permanently deleted")]),(0,l.createElementVNode)("li",null,[(0,l.createElementVNode)("i",{class:"fas fa-times-circle"}),(0,l.createTextVNode)(" All statistics will be lost")]),(0,l.createElementVNode)("li",null,[(0,l.createElementVNode)("i",{class:"fas fa-times-circle"}),(0,l.createTextVNode)(" All chats will stop working")])],-1)),(0,l.createElementVNode)("div",L,[(0,l.createElementVNode)("button",{class:"delete-button",disabled:P.value,onClick:j},[n[30]||(n[30]=(0,l.createElementVNode)("i",{class:"fas fa-trash"},null,-1)),(0,l.createTextVNode)(" "+(0,l.toDisplayString)(P.value?"Deleting...":"Delete"),1)],8,U),(0,l.createElementVNode)("button",{class:"cancel-button",disabled:P.value,onClick:n[1]||(n[1]=e=>J.value=!1)}," Cancel ",8,F)])])])):(0,l.createCommentVNode)("",!0)])),_:1})])}}},$=t(1241);const H=(0,$.A)(R,[["__scopeId","data-v-408948d2"]]);var J=H}}]);
//# sourceMappingURL=470.33096fa0.js.map