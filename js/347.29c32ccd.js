"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[347],{1241:function(a,e){e.A=(a,e)=>{const t=a.__vccOpts||a;for(const[s,n]of e)t[s]=n;return t}},2347:function(a,e,t){t.r(e),t.d(e,{default:function(){return O}});var s=t(6768),n=t(4232);const i={class:"player-nfts-page"},l={class:"container"},r={key:0,class:"loading-state"},o={key:1,class:"error-state"},u={class:"user-profile"},c={class:"user-avatar"},g={class:"avatar-placeholder"},d={class:"user-info"},p={class:"user-stats"},v={class:"stat-item"},f={class:"stat-value"};function k(a,e,t,k,b,L){const h=(0,s.g2)("router-link"),m=(0,s.g2)("UserPublicNftsList");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("div",l,[k.loading?((0,s.uX)(),(0,s.CE)("div",r,e[0]||(e[0]=[(0,s.Lk)("div",{class:"spinner"},null,-1),(0,s.Lk)("p",null,"Loading user information...",-1)]))):k.error?((0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("p",null,(0,n.v_)(k.error),1),(0,s.bF)(h,{to:"/",class:"back-button"},{default:(0,s.k6)((()=>e[1]||(e[1]=[(0,s.eW)("Back to Home")]))),_:1})])):((0,s.uX)(),(0,s.CE)(s.FK,{key:2},[(0,s.Lk)("div",u,[(0,s.Lk)("div",c,[(0,s.Lk)("span",g,(0,n.v_)(k.userInitial),1)]),(0,s.Lk)("div",d,[(0,s.Lk)("h1",null,[(0,s.bF)(h,{to:`/player/${k.userTag}`},{default:(0,s.k6)((()=>[(0,s.eW)((0,n.v_)(k.userTag),1)])),_:1},8,["to"])]),(0,s.Lk)("div",p,[(0,s.Lk)("div",v,[(0,s.Lk)("span",f,(0,n.v_)(k.totalNfts),1),e[2]||(e[2]=(0,s.Lk)("span",{class:"stat-label"},"NFTs",-1))])])])]),(0,s.bF)(m,{userTag:k.userTag},null,8,["userTag"])],64))])])}var b=t(144),L=t(1387),h=t(4373);const m={class:"user-public-nfts"},y={class:"section-header"},C={key:0},P={key:1},T={key:2},_={key:0,class:"nfts-grid"},E={class:"nft-image-container"},F=["src","alt"],N={class:"nft-info"},K={class:"nft-date"},X={class:"nft-actions"},w={key:1,class:"pagination"},A=["disabled"],R=["disabled"],U={class:"pagination-info"},q=["disabled"],I=["disabled"];function D(a,e,t,i,l,r){const o=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",m,[(0,s.Lk)("div",y,[(0,s.Lk)("h2",null,(0,n.v_)(t.userTag)+"'s NFT Collection",1),i.loading?((0,s.uX)(),(0,s.CE)("p",C,"Loading NFTs...")):i.error?((0,s.uX)(),(0,s.CE)("p",P,(0,n.v_)(i.error),1)):0===i.nfts.length?((0,s.uX)(),(0,s.CE)("p",T,"This user hasn't minted any NFTs yet.")):(0,s.Q3)("",!0)]),!i.loading&&!i.error&&i.nfts.length>0?((0,s.uX)(),(0,s.CE)("div",_,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.nfts,(a=>((0,s.uX)(),(0,s.CE)("div",{key:a.assetPublicKey,class:"nft-card"},[(0,s.Lk)("div",E,[(0,s.Lk)("img",{src:a.imageUri,alt:a.name,class:"nft-image"},null,8,F)]),(0,s.Lk)("div",N,[(0,s.Lk)("h3",null,(0,n.v_)(a.name),1),(0,s.Lk)("p",K,"Minted on "+(0,n.v_)(i.formatDate(a.createdAt)),1),(0,s.Lk)("div",X,[(0,s.bF)(o,{to:`/nft/${a.assetPublicKey}`,class:"view-button"},{default:(0,s.k6)((()=>e[4]||(e[4]=[(0,s.eW)(" View Details ")]))),_:2},1032,["to"])])])])))),128))])):(0,s.Q3)("",!0),i.pagination.totalPages>1?((0,s.uX)(),(0,s.CE)("div",w,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=a=>i.changePage(1)),disabled:1===i.pagination.page,class:"pagination-button"}," « ",8,A),(0,s.Lk)("button",{onClick:e[1]||(e[1]=a=>i.changePage(i.pagination.page-1)),disabled:1===i.pagination.page,class:"pagination-button"}," ‹ ",8,R),(0,s.Lk)("div",U," Page "+(0,n.v_)(i.pagination.page)+" of "+(0,n.v_)(i.pagination.totalPages),1),(0,s.Lk)("button",{onClick:e[2]||(e[2]=a=>i.changePage(i.pagination.page+1)),disabled:i.pagination.page===i.pagination.totalPages,class:"pagination-button"}," › ",8,q),(0,s.Lk)("button",{onClick:e[3]||(e[3]=a=>i.changePage(i.pagination.totalPages)),disabled:i.pagination.page===i.pagination.totalPages,class:"pagination-button"}," » ",8,I)])):(0,s.Q3)("",!0)])}t(4114);var $=t(4348),W={name:"UserPublicNftsList",props:{userTag:{type:String,required:!0}},setup(a){const e=(0,L.lq)(),t=(0,L.rd)(),n=(0,b.KR)([]),i=(0,b.KR)(!0),l=(0,b.KR)(null),r=(0,b.KR)({total:0,page:1,limit:10,totalPages:0}),o=async(e=1)=>{i.value=!0,l.value=null;try{const t=await h.A.get(`/nft-bitcat/user/${a.userTag}/nfts`,{params:{page:e,limit:r.value.limit}});t.data.success?(n.value=t.data.nfts||[],r.value=t.data.pagination):l.value=t.data.message||`Failed to load ${a.userTag}'s NFTs`}catch(t){$.error("Error fetching user NFTs:",t),l.value=t.response?.data?.message||"An error occurred while fetching NFTs"}finally{i.value=!1}},u=a=>{a<1||a>r.value.totalPages||(t.push({path:e.path,query:{...e.query,page:a}}),o(a))},c=a=>{const e=new Date(a);return e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return(0,s.sV)((()=>{const a=parseInt(e.query.page)||1;r.value.page=a,o(a)})),(0,s.wB)((()=>a.userTag),(a=>{a&&(r.value.page=1,o(1))})),{nfts:n,loading:i,error:l,pagination:r,changePage:u,formatDate:c}}},Q=t(1241);const S=(0,Q.A)(W,[["render",D],["__scopeId","data-v-576a967d"]]);var V=S,B=t(4348),H={name:"PlayerNftsPage",components:{UserPublicNftsList:V},setup(){const a=(0,L.lq)(),e=(0,b.KR)(""),t=(0,b.KR)(!0),n=(0,b.KR)(null),i=(0,b.KR)(0),l=(0,s.EW)((()=>e.value?e.value.charAt(0).toUpperCase():"")),r=async()=>{t.value=!0,n.value=null;try{e.value=a.params.userTag;const t=await h.A.get(`/nft-bitcat/user/${e.value}/nfts`,{params:{page:1,limit:1}});t.data.success?i.value=t.data.pagination.total:n.value="Failed to load user information"}catch(s){B.error("Error fetching user info:",s),n.value=s.response?.data?.message||"User not found or an error occurred"}finally{t.value=!1}};return(0,s.sV)((()=>{r()})),{userTag:e,loading:t,error:n,totalNfts:i,userInitial:l}}};const M=(0,Q.A)(H,[["render",k],["__scopeId","data-v-2a6004e8"]]);var O=M}}]);
//# sourceMappingURL=347.29c32ccd.js.map