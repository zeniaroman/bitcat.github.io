"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[567],{71241:function(t,e){e.A=(t,e)=>{const a=t.__vccOpts||t;for(const[s,n]of e)a[s]=n;return a}},10587:function(t,e,a){a.d(e,{A:function(){return u}});var s=a(56768),n=a(24232);const i={class:"toast-content"};function o(t,e,a,o,l,r){return a.show?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,n.C4)(["toast",`toast-${a.type}`])},[(0,s.Lk)("div",i,(0,n.v_)(a.message),1),(0,s.Lk)("button",{class:"toast-close",onClick:e[0]||(e[0]=(...t)=>r.close&&r.close(...t))},"×")],2)):(0,s.Q3)("",!0)}var l={name:"AppToast",props:{message:{type:String,default:""},type:{type:String,default:"info",validator:t=>["success","error","warning","info"].includes(t)},duration:{type:Number,default:3e3},show:{type:Boolean,default:!1}},emits:["close"],watch:{show(t){t&&this.duration>0&&(this.timer=setTimeout((()=>{this.close()}),this.duration))}},methods:{close(){this.timer&&clearTimeout(this.timer),this.$emit("close")}},beforeUnmount(){this.timer&&clearTimeout(this.timer)},data(){return{timer:null}}},r=a(71241);const c=(0,r.A)(l,[["render",o],["__scopeId","data-v-9f6ec8d0"]]);var u=c},10567:function(t,e,a){a.r(e),a.d(e,{default:function(){return Xe}});var s=a(56768),n=a(24232);const i={class:"nft-bitcat-page"},o={class:"nft-bitcat-page-wrap"},l={class:"page-header"},r={class:"tabs-container"},c={class:"tabs-navigation"},u=["onClick"],d={key:0,class:"tab-icon"},p={key:1,class:"tab-icon"},v={key:2,class:"tab-icon"},m={key:3,class:"active-indicator"},k={class:"tab-content"},f={key:0,class:"tab-pane"},g={key:1,class:"tab-pane"},h={key:2,class:"tab-pane"};function w(t,e,a,w,y,L){const b=(0,s.g2)("TwitterLinkSection"),T=(0,s.g2)("TwitterPostsList"),C=(0,s.g2)("UserNftsList"),I=(0,s.g2)("RecentMintsList"),A=(0,s.g2)("HowItWorksPopup");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("div",o,[(0,s.Lk)("div",l,[e[2]||(e[2]=(0,s.Lk)("h1",null,"BITCAT NFT Minting",-1)),e[3]||(e[3]=(0,s.Lk)("p",{class:"subtitle"},"Mint NFTs by retweeting and paying with BITCAT tokens",-1)),(0,s.Lk)("button",{class:"how-it-works-btn",onClick:e[0]||(e[0]=t=>w.showHowItWorks=!0)}," How it works ")]),(0,s.bF)(b),(0,s.Lk)("div",r,[(0,s.Lk)("div",c,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(w.tabs,((t,a)=>((0,s.uX)(),(0,s.CE)("button",{key:a,onClick:t=>w.activeTab=a,class:(0,n.C4)(["tab-button",{active:w.activeTab===a}])},[0===a?((0,s.uX)(),(0,s.CE)("span",d,e[4]||(e[4]=[(0,s.Lk)("i",{class:"fas fa-fire"},null,-1)]))):1===a?((0,s.uX)(),(0,s.CE)("span",p,e[5]||(e[5]=[(0,s.Lk)("i",{class:"fas fa-wallet"},null,-1)]))):2===a?((0,s.uX)(),(0,s.CE)("span",v,e[6]||(e[6]=[(0,s.Lk)("i",{class:"fas fa-history"},null,-1)]))):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,n.v_)(t.name)+" ",1),w.activeTab===a?((0,s.uX)(),(0,s.CE)("span",m)):(0,s.Q3)("",!0)],10,u)))),128))]),(0,s.Lk)("div",k,[0===w.activeTab?((0,s.uX)(),(0,s.CE)("div",f,[(0,s.bF)(T)])):(0,s.Q3)("",!0),1===w.activeTab?((0,s.uX)(),(0,s.CE)("div",g,[(0,s.bF)(C)])):(0,s.Q3)("",!0),2===w.activeTab?((0,s.uX)(),(0,s.CE)("div",h,[(0,s.bF)(I)])):(0,s.Q3)("",!0)])]),(0,s.bF)(A,{show:w.showHowItWorks,onClose:e[1]||(e[1]=t=>w.showHowItWorks=!1)},null,8,["show"])])])}var y=a(45130);const L={class:"twitter-link-section-wrapper"},b={class:"twitter-link-section-left"},T={key:0,class:"loading"},C={key:1,class:"auth-required"},I={key:2,class:"link-form"},A={class:"input-group"},E=["disabled"],F={key:3,class:"linked-account"},R={class:"linked-info"},N={class:"username"},M=["disabled"],P={class:"twitter-link-section-right"};function _(t,e,a,i,o,l){const r=(0,s.g2)("router-link"),c=(0,s.g2)("AppToast");return(0,s.uX)(),(0,s.CE)("div",L,[(0,s.Lk)("div",b,[e[12]||(e[12]=(0,s.Lk)("h2",null,"Link your Twitter Account",-1)),i.isLoading?((0,s.uX)(),(0,s.CE)("div",T,[e[6]||(e[6]=(0,s.Lk)("p",null,"To mint NFTs with BITCAT tokens, you need to log in first.",-1)),(0,s.bF)(r,{to:"/my",class:"auth-button"},{default:(0,s.k6)((()=>e[5]||(e[5]=[(0,s.Lk)("i",{class:"fas fa-sign-in-alt"},null,-1),(0,s.eW)(" Log In ")]))),_:1})])):i.isAuthenticated?i.hasLinkedAccount||i.isLinking?i.hasLinkedAccount?((0,s.uX)(),(0,s.CE)("div",F,[(0,s.Lk)("div",R,[(0,s.Lk)("p",null,[e[11]||(e[11]=(0,s.eW)("Linked to ")),(0,s.Lk)("span",N,"@"+(0,n.v_)(i.linkedUsername),1)])]),(0,s.Lk)("button",{class:"unlink-button",onClick:e[3]||(e[3]=(...t)=>i.unlinkAccount&&i.unlinkAccount(...t)),disabled:i.isSubmitting},(0,n.v_)(i.isSubmitting?"Unlinking...":"Unlink Account"),9,M)])):(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",I,[e[10]||(e[10]=(0,s.Lk)("p",null,"Just provide your username to mint NFTs",-1)),(0,s.Lk)("div",A,[e[9]||(e[9]=(0,s.Lk)("span",{class:"input-prefix"},"@",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.twitterUsername=t),type:"text",placeholder:"twitter_username",onKeyup:e[1]||(e[1]=(0,y.jR)(((...t)=>i.linkAccount&&i.linkAccount(...t)),["enter"]))},null,544),[[y.Jo,i.twitterUsername]])]),(0,s.Lk)("button",{class:"link-button",onClick:e[2]||(e[2]=(...t)=>i.linkAccount&&i.linkAccount(...t)),disabled:i.isSubmitting},(0,n.v_)(i.isSubmitting?"Linking...":"Link Account"),9,E)])):((0,s.uX)(),(0,s.CE)("div",C,[e[8]||(e[8]=(0,s.Lk)("p",null,"To mint NFTs with BITCAT tokens, you need to log in first.",-1)),(0,s.bF)(r,{to:"/my",class:"auth-button"},{default:(0,s.k6)((()=>e[7]||(e[7]=[(0,s.Lk)("i",{class:"fas fa-sign-in-alt"},null,-1),(0,s.eW)(" Log In ")]))),_:1})])),(0,s.bF)(c,{show:i.toast.show,message:i.toast.message,type:i.toast.type,onClose:e[4]||(e[4]=t=>i.toast.show=!1),duration:i.toast.duration},null,8,["show","message","type","duration"])]),(0,s.Lk)("div",P,[e[14]||(e[14]=(0,s.Lk)("h2",null,"Go to NFT Rental Market",-1)),(0,s.bF)(r,{to:"/nft-rental",class:"rental-market-button"},{default:(0,s.k6)((()=>e[13]||(e[13]=[(0,s.Lk)("i",{class:"fas fa-store"},null,-1),(0,s.eW)(" NFT Rental ")]))),_:1})])])}var X=a(90144),K=a(4249),S=a(10587),W=a(94348),U={name:"TwitterLinkSection",components:{AppToast:S.A},setup(){const t=(0,K.Pj)(),e=(0,X.KR)(""),a=(0,X.KR)(!1),n=(0,X.KR)(!0),i=(0,X.KR)(!1),o=(0,s.EW)((()=>t.state.session.isAuthenticated)),l=(0,s.EW)((()=>t.getters.isTwitterLinked)),r=(0,s.EW)((()=>t.getters.twitterUsername)),c=(0,X.KR)({show:!1,message:"",type:"info",duration:7e3}),u=(t,e="info")=>{c.value.message=t,c.value.type=e,c.value.show=!0},d=async()=>{if(n.value=!0,o.value)try{await t.dispatch("checkTwitterLinked")}catch(e){W.error("Error checking linked account:",e)}finally{n.value=!1}else n.value=!1},p=async()=>{if(!e.value.trim())return u("Please enter a Twitter username","error");a.value=!0;try{const a=await t.dispatch("linkTwitterAccount",e.value.trim());a.success?(u("Twitter account successfully linked!","success"),e.value=""):u(a.message||"Failed to link Twitter account","error")}catch(s){W.error("Error linking account:",s),u("Error linking Twitter account","error")}finally{a.value=!1}},v=async()=>{if(l.value){a.value=!0;try{const e=await t.dispatch("unlinkTwitterAccount");e.success?u("Twitter account successfully unlinked!","success"):u(e.message||"Failed to unlink Twitter account","error")}catch(e){W.error("Error unlinking account:",e),u("Error unlinking Twitter account","error")}finally{a.value=!1}}};return(0,s.sV)((()=>{o.value?d():n.value=!1})),{twitterUsername:e,hasLinkedAccount:l,linkedUsername:r,isAuthenticated:o,isSubmitting:a,isLoading:n,isLinking:i,linkAccount:p,unlinkAccount:v,toast:c}}},x=a(71241);const B=(0,x.A)(U,[["render",_],["__scopeId","data-v-54968701"]]);var $=B;const Q={class:"twitter-posts-section"},q={class:"section-header"},D={class:"next-check-info"},V={class:"time"},H={key:0,class:"loading"},j={key:1,class:"no-posts"},Y={key:2,class:"posts-grid"},z={class:"post-image"},G=["src","alt","onClick"],J={key:0,class:"active-badge"},O={class:"post-content"},Z={key:0,class:"post-description"},tt=["href"],et={class:"post-meta"},at={class:"meta-item"},st={class:"label"},nt={class:"time-value"},it={class:"meta-stats"},ot={class:"stat-item"},lt={class:"label"},rt={class:"stat-item"},ct={class:"post-actions"},ut=["onClick","disabled"],dt={key:0},pt={key:1},vt={key:2},mt={key:3},kt={key:1,disabled:"",class:"already-minted-btn"},ft=["onClick","disabled"],gt={class:"image-popup-content"},ht=["src","alt"];function wt(t,e,a,i,o,l){const r=(0,s.g2)("AppToast"),c=(0,s.g2)("MintPopup");return(0,s.uX)(),(0,s.CE)("div",Q,[(0,s.Lk)("div",q,[e[3]||(e[3]=(0,s.Lk)("h2",null,"NFTs for Minting",-1)),(0,s.Lk)("div",D,[e[2]||(e[2]=(0,s.Lk)("span",null,"Next retweets check: ",-1)),(0,s.Lk)("span",V,(0,n.v_)(i.formatNextCheckTime),1)])]),i.isLoading?((0,s.uX)(),(0,s.CE)("div",H,e[4]||(e[4]=[(0,s.Lk)("p",null,"Loading posts...",-1)]))):0===i.posts.length?((0,s.uX)(),(0,s.CE)("div",j,e[5]||(e[5]=[(0,s.Lk)("p",null,"No posts available for minting at the moment.",-1)]))):((0,s.uX)(),(0,s.CE)("div",Y,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.posts,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.postId,class:"post-card"},[(0,s.Lk)("div",z,[(0,s.Lk)("img",{src:t.imageUrl,alt:t.title,onClick:e=>i.openImagePopup(t.imageUrl,t.title),class:"clickable-image"},null,8,G),t.isActive&&t.requiredRetweet||!t.requiredRetweet&&t.mintedCount<=t.mintLimit-1?((0,s.uX)(),(0,s.CE)("div",J,(0,n.v_)(t.requiredRetweet?"Active for Retweets":"Active for Minting"),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",O,[(0,s.Lk)("h3",null,(0,n.v_)(t.title),1),t.description?((0,s.uX)(),(0,s.CE)("p",Z,(0,n.v_)(t.description),1)):(0,s.Q3)("",!0),(0,s.Lk)("a",{href:t.twitterUrl,target:"_blank",rel:"noopener noreferrer",class:"twitter-link"},e[6]||(e[6]=[(0,s.Lk)("i",{class:"fab fa-twitter"},null,-1),(0,s.eW)(" View on Twitter ")]),8,tt),(0,s.Lk)("div",et,[(0,s.Lk)("div",at,[(0,s.Lk)("span",st,(0,n.v_)(t.requiredRetweet?"Retweets are accepted until":"No retweet needed")+":",1),(0,s.Lk)("div",nt,(0,n.v_)(t.requiredRetweet?i.formatDate(t.endMintingTime):"You can mint up to the limit"),1)]),(0,s.Lk)("div",it,[(0,s.Lk)("div",ot,[(0,s.Lk)("span",lt,(0,n.v_)(t.requiredRetweet?"Retweets":"Limit")+":",1),(0,s.Lk)("span",null,(0,n.v_)(t.requiredRetweet?t.totalRetweets:t.mintLimit),1)]),(0,s.Lk)("div",rt,[e[7]||(e[7]=(0,s.Lk)("span",{class:"label"},"Minted:",-1)),(0,s.Lk)("span",null,(0,n.v_)(t.mintedCount||0),1)])])]),(0,s.Lk)("div",ct,[t.alreadyMinted&&i.hasMinted[t.postId]?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:e=>i.checkRetweet(t.postId),disabled:!t.requiredRetweet||i.isCheckingRetweet===t.postId||i.hasMinted[t.postId]||t.alreadyMinted||!0===i.canMint[t.postId],class:"check-btn"},[i.isCheckingRetweet===t.postId?((0,s.uX)(),(0,s.CE)("span",dt,"Checking...")):!0===i.canMint[t.postId]?((0,s.uX)(),(0,s.CE)("span",pt,"Retweet Verified ✓")):t.requiredRetweet?((0,s.uX)(),(0,s.CE)("span",mt,"Check My Retweet")):((0,s.uX)(),(0,s.CE)("span",vt,(0,n.v_)(t.mintedCount>=t.mintLimit?"Limit reached":"No Retweet Required"),1))],8,ut)),t.alreadyMinted?((0,s.uX)(),(0,s.CE)("button",kt," Already minted ✓ ")):!t.requiredRetweet&&t.mintedCount<=t.mintLimit-1||t.requiredRetweet&&void 0!==i.canMint[t.postId]&&i.canMint[t.postId]?((0,s.uX)(),(0,s.CE)("button",{key:2,onClick:e=>i.mintNft(t.postId),disabled:i.isMinting===t.postId,class:"mint-btn"},(0,n.v_)(i.isMinting===t.postId?"Minting...":i.power.freeMint>0?`Mint NFT (You have ${i.power.freeMint} free mints)`:"Mint NFT (50K BITCAT)"),9,ft)):(0,s.Q3)("",!0)])])])))),128))])),(0,s.bF)(r,{show:i.toast.show,message:i.toast.message,type:i.toast.type,onClose:e[0]||(e[0]=t=>i.toast.show=!1),duration:i.toast.duration},null,8,["show","message","type","duration"]),(0,s.bF)(c,{show:i.mintPopup.show,"tx-signature":i.mintPopup.txSignature,"is-complete":i.mintPopup.isComplete,"nft-info":i.mintPopup.nftInfo,onClose:i.closeMintPopup},null,8,["show","tx-signature","is-complete","nft-info","onClose"]),i.imagePopup.show?((0,s.uX)(),(0,s.CE)("div",{key:3,class:"image-popup",onClick:e[1]||(e[1]=(...t)=>i.closeImagePopup&&i.closeImagePopup(...t))},[(0,s.Lk)("div",gt,[(0,s.Lk)("img",{src:i.imagePopup.url,alt:i.imagePopup.alt},null,8,ht)])])):(0,s.Q3)("",!0)])}a(98992),a(72577),a(3949),a(8872);var yt=a(86659);const Lt={key:0,class:"mint-popup-overlay"},bt={class:"mint-popup-content no-invert"},Tt={class:"mint-popup-header"},Ct={class:"mint-popup-body"},It={key:0,class:"minting-progress"},At={class:"transaction-info"},Et={class:"tx-id"},Ft={key:1,class:"minting-complete"},Rt={key:0,class:"nft-image-container"},Nt=["src"],Mt={class:"nft-details"},Pt={class:"tx-id"},_t={class:"asset-id"},Xt={class:"view-links"},Kt=["href"];function St(t,e,a,i,o,l){const r=(0,s.g2)("router-link");return a.show?((0,s.uX)(),(0,s.CE)("div",Lt,[(0,s.Lk)("div",bt,[(0,s.Lk)("div",Tt,[(0,s.Lk)("h2",null,(0,n.v_)(a.isComplete?"NFT Successfully Minted!":"NFT Minting in Progress"),1),a.isComplete?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"close-button",onClick:e[0]||(e[0]=(...t)=>l.close&&l.close(...t))},"×")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Ct,[a.isComplete?((0,s.uX)(),(0,s.CE)("div",Ft,[e[10]||(e[10]=(0,s.Lk)("div",{class:"success-icon"},"✓",-1)),(0,s.Lk)("h3",null,(0,n.v_)(a.nftInfo.name),1),a.nftInfo.imageUri?((0,s.uX)(),(0,s.CE)("div",Rt,[(0,s.Lk)("img",{src:a.nftInfo.imageUri,alt:"NFT Image",class:"nft-image"},null,8,Nt)])):(0,s.Q3)("",!0),(0,s.Lk)("div",Mt,[(0,s.Lk)("p",null,[e[4]||(e[4]=(0,s.Lk)("strong",null,"Transaction ID:",-1)),e[5]||(e[5]=(0,s.eW)()),(0,s.Lk)("span",Pt,(0,n.v_)(a.txSignature),1)]),(0,s.Lk)("p",null,[e[6]||(e[6]=(0,s.Lk)("strong",null,"Asset ID:",-1)),e[7]||(e[7]=(0,s.eW)()),(0,s.Lk)("span",_t,(0,n.v_)(a.nftInfo.assetPublicKey),1)])]),(0,s.Lk)("div",Xt,[(0,s.bF)(r,{to:`/nft/${a.nftInfo.assetPublicKey}`,class:"view-link"},{default:(0,s.k6)((()=>e[8]||(e[8]=[(0,s.Lk)("i",{class:"fas fa-eye"},null,-1),(0,s.eW)(" View NFT Details ")]))),_:1},8,["to"]),(0,s.Lk)("a",{href:`https://core.metaplex.com/explorer/${a.nftInfo.assetPublicKey}`,target:"_blank",class:"view-link"},e[9]||(e[9]=[(0,s.Lk)("i",{class:"fas fa-external-link-alt"},null,-1),(0,s.eW)(" View on Metaplex ")]),8,Kt)])])):((0,s.uX)(),(0,s.CE)("div",It,[e[2]||(e[2]=(0,s.Lk)("div",{class:"spinner"},null,-1)),e[3]||(e[3]=(0,s.Lk)("p",{class:"warning-text"},"Please do not close this window. Minting process may take several minutes.",-1)),(0,s.Lk)("p",At,[e[1]||(e[1]=(0,s.eW)("Transaction ID: ")),(0,s.Lk)("span",Et,(0,n.v_)(a.txSignature),1)])]))])])])):(0,s.Q3)("",!0)}var Wt={name:"MintPopup",props:{show:{type:Boolean,default:!1},txSignature:{type:String,default:""},isComplete:{type:Boolean,default:!1},nftInfo:{type:Object,default:()=>({name:"",assetPublicKey:"",imageUri:"",metadataUri:""})}},methods:{close(){this.$emit("close")}}};const Ut=(0,x.A)(Wt,[["render",St],["__scopeId","data-v-697d680c"]]);var xt=Ut,Bt=a(75290),$t=a(94373),Qt=a(94348),qt=a(90712)["Buffer"],Dt={name:"TwitterPostsList",components:{AppToast:S.A,MintPopup:xt},setup(){(0,yt.vT)();const t=(0,K.Pj)(),e=(0,X.KR)({show:!1,url:"",alt:""}),a=(0,X.KR)([]),n=(0,X.KR)(!0),i=(0,X.KR)(null),o=(0,X.KR)(null),l=(0,X.KR)({}),r=(0,X.KR)(null),c=(0,X.KR)({}),u=(0,X.KR)({show:!1,txSignature:"",isComplete:!1,nftInfo:{}}),d=(0,X.KR)({show:!1,message:"",type:"info",duration:1e4}),p=(0,s.EW)((()=>t.state.session.isAuthenticated)),v=(0,s.EW)((()=>t.getters.isTwitterLinked)),m=(0,s.EW)((()=>t.state.session.power)),k=(t,e="info")=>{d.value.message=t,d.value.type=e,d.value.show=!0},f=(0,s.EW)((()=>{if(!i.value)return"Unknown";const t=new Date(i.value),e=new Date(t.getTime()+12e5);return g(e)})),g=t=>{const e=new Date(t);return e.toLocaleString()},h=async()=>{n.value=!0;try{const t=localStorage.getItem("userTag");Qt.log("User tag from localStorage:",t);let e="/nft-bitcat/twitter-posts";t&&(e+=`?userTag=${encodeURIComponent(t)}`),Qt.log("Fetching posts with URL:",e);const s=await $t.A.get(e),n=s.data;if(n.success){a.value=n.posts;const t=a.value.reduce(((t,e)=>{if(!e.lastCheckTime)return t;const a=new Date(e.lastCheckTime);return!t||a>t?a:t}),null);i.value=t,a.value.forEach((t=>{Qt.log(`Post ${t.postId} has retweeted:`,t.hasRetweeted),Qt.log(`Post ${t.postId} can mint:`,t.canMint),Qt.log(`Post ${t.postId} already minted:`,t.alreadyMinted),t.alreadyMinted&&(c.value[t.postId]=!0),!0!==t.hasRetweeted||t.alreadyMinted?void 0===l.value[t.postId]&&(l.value[t.postId]=!1):(l.value[t.postId]=!0,Qt.log(`Setting canMint for post ${t.postId} to true`))}))}}catch(t){Qt.error("Error fetching posts:",t),k("Failed to load Twitter posts","error")}finally{n.value=!1}},w=async e=>{if(!b())return k("Please log in to check your retweet status","warning");if(!v.value)return k("Please link your Twitter account first","warning");if(!t.getters.hasWallet)return k("Please connect your wallet to mint NFTs","warning");const s=a.value.find((t=>t.postId===e));if(s&&s.alreadyMinted)return k("You have already minted an NFT for this post","info");o.value=e;try{const t=await $t.A.get(`/twitter/check-retwit/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}),a=t.data;a.success?(l.value[e]=a.canMint,a.canMint?k("You can mint an NFT for this post!","success"):k("You need to retweet this post to mint an NFT","warning")):k(a.message||"Failed to check retweet","error")}catch(n){Qt.error("Error checking retweet:",n),k("Error checking retweet status","error")}finally{o.value=null}},y=async e=>{if(!b())return k("Please log in to mint an NFT","warning");if(!v.value)return k("Please link your Twitter account first","warning");if(!t.getters.hasWallet)return k("Please connect your wallet first","warning");const s=a.value.find((t=>t.postId===e));if(s&&s.alreadyMinted)return k("You have already minted an NFT for this post","info");r.value=e;try{if(!window.solana)return void k("Please install Phantom Wallet extension","error");if(!window.solana.isConnected)try{await window.solana.connect()}catch(i){return k(`Error connecting to Phantom Wallet: ${i.message}`,"error"),void(n.value=!1)}const t=window.solana.publicKey.toString(),a=new Bt.Connection("https://sleek-icy-frog.solana-mainnet.quiknode.pro/9d4845e2d4c60caf45dc4f10d0bdcfdbcd6a321c","confirmed"),o=await $t.A.post("/nft-bitcat/mint",{tweetId:e,walletPublicKey:t},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}),l=o.data;if(Qt.log(o),l.success){const t=window.solana;let n="Free mint";if(0===m.value.freeMint){const e=Bt.Transaction.from(qt.from(l.transaction,"base64")),{blockhash:s}=await a.getLatestBlockhash("confirmed");e.recentBlockhash=s,e.feePayer=t.publicKey,Qt.log(`Mint will use ${l.bitcatAmount} BITCAT tokens`);const i={skipPreflight:!1,preflightCommitment:"confirmed"},o=await t.signTransaction(e);n=await a.sendRawTransaction(o.serialize(),i),await a.confirmTransaction(n,"confirmed")}u.value={show:!0,txSignature:n,isComplete:!1,nftInfo:{name:s?.title||"Bitcat NFT",assetPublicKey:l.expectedNftAddress||"",imageUri:s?.imageUrl||""}};const i=await $t.A.post("/nft-bitcat/update-tx",{txSignature:n,assetPublicKey:t.publicKey.toString(),postId:e,metadataUri:l.metadataUri},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});i.data.success?(i.data.nftInfo&&(u.value.nftInfo=i.data.nftInfo),u.value.isComplete=!0,s.alreadyMinted=!0,c.value[e]=!0,k("NFT successfully minted!","success")):k("Error updating NFT status","error")}else k(l.message||"Error preparing data for minting","error")}catch(o){Qt.error("Error minting NFT:",o),k(`Error minting NFT: ${o.message}`,"error"),u.value.show&&(u.value.show=!1)}finally{r.value=null}},L=()=>{u.value.show=!1},b=(new Bt.Connection("https://sleek-icy-frog.solana-mainnet.quiknode.pro/9d4845e2d4c60caf45dc4f10d0bdcfdbcd6a321c"),()=>p.value);(0,s.sV)((async()=>{p.value&&await t.dispatch("checkTwitterLinked"),h()})),(0,s.wB)((()=>t.state.session.isAuthenticated),(e=>{e&&t.dispatch("checkTwitterLinked")})),(0,s.wB)((()=>t.getters.isTwitterLinked),(t=>{Qt.log("Twitter link status changed:",t),t&&h()}));const T=(t,a)=>{e.value={show:!0,url:t,alt:a}},C=()=>{e.value.show=!1};return{posts:a,isLoading:n,isCheckingRetweet:o,isMinting:r,canMint:l,hasMinted:c,mintPopup:u,imagePopup:e,closeMintPopup:L,checkRetweet:w,mintNft:y,formatNextCheckTime:f,formatDate:g,toast:d,isAuthenticated:p,hasLinkedTwitter:v,openImagePopup:T,closeImagePopup:C,power:m}}};const Vt=(0,x.A)(Dt,[["render",wt],["__scopeId","data-v-60635cf0"]]);var Ht=Vt;const jt={class:"user-nfts-section"},Yt={key:0,class:"info-message"},zt={key:1,class:"info-message"},Gt={key:2,class:"info-message"},Jt={key:3,class:"info-message"},Ot={key:4,class:"nfts-grid"},Zt={class:"nft-image-container"},te=["src","alt"],ee={class:"nft-info"},ae={class:"nft-actions"};function se(t,e,a,i,o,l){const r=(0,s.g2)("router-link"),c=(0,s.g2)("AppToast");return(0,s.uX)(),(0,s.CE)("div",jt,[e[1]||(e[1]=(0,s.Lk)("div",{class:"section-header"},[(0,s.Lk)("h2",null,"Your Minted NFTs")],-1)),i.isAuthenticated?i.loading?((0,s.uX)(),(0,s.CE)("p",zt,"Loading your NFTs...")):i.error?((0,s.uX)(),(0,s.CE)("p",Gt,(0,n.v_)(i.error),1)):0===i.nfts.length?((0,s.uX)(),(0,s.CE)("p",Jt,"You haven't minted any NFTs yet.")):(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("p",Yt,"You need to login first")),i.isAuthenticated&&!i.loading&&!i.error&&i.nfts.length>0?((0,s.uX)(),(0,s.CE)("div",Ot,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.nfts,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.assetPublicKey,class:"nft-card"},[(0,s.Lk)("div",Zt,[(0,s.Lk)("img",{src:t.imageUri,alt:t.name,class:"nft-image"},null,8,te)]),(0,s.Lk)("div",ee,[(0,s.Lk)("h3",null,(0,n.v_)(t.name),1),(0,s.Lk)("p",{class:(0,n.C4)(["nft-status",i.getStatusClass(t.status)])},(0,n.v_)(t.status.charAt(0).toUpperCase()+t.status.slice(1)),3),(0,s.Lk)("div",ae,[(0,s.bF)(r,{to:`/nft/${t.assetPublicKey}`,class:"view-button"},{default:(0,s.k6)((()=>e[0]||(e[0]=[(0,s.eW)(" View Details ")]))),_:2},1032,["to"])])])])))),128))])):(0,s.Q3)("",!0),i.toast.show?((0,s.uX)(),(0,s.Wv)(c,{key:5,message:i.toast.message,type:i.toast.type,duration:i.toast.duration},null,8,["message","type","duration"])):(0,s.Q3)("",!0)])}var ne=a(94348),ie={name:"UserNftsList",components:{AppToast:S.A},setup(){const t=(0,K.Pj)(),e=(0,X.KR)([]),a=(0,X.KR)(!0),n=(0,X.KR)(null),i=(0,s.EW)((()=>t.state.session.isAuthenticated)),o=(t,e="info")=>{l.value.message=t,l.value.type=e,l.value.show=!0},l=(0,X.KR)({show:!1,message:"",type:"info",duration:7e3}),r=async()=>{if(i.value){a.value=!0,n.value=null;try{const t=await $t.A.get("/nft-bitcat/user-nfts",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});t.data.success?e.value=t.data.nfts||[]:(n.value=t.data.message||"Failed to load your NFTs",o(n.value,"error"))}catch(t){ne.error("Error fetching user NFTs:",t),n.value=t.response?.data?.message||"An error occurred while fetching your NFTs",o(n.value,"error")}finally{a.value=!1}}else a.value=!1},c=t=>{switch(t){case"completed":return"status-completed";case"pending":return"status-pending";case"failed":return"status-failed";default:return""}};return(0,s.sV)((()=>{i.value?r():a.value=!1})),{nfts:e,loading:a,error:n,isAuthenticated:i,getStatusClass:c,toast:l,showToast:o}}};const oe=(0,x.A)(ie,[["render",se],["__scopeId","data-v-4c8609c2"]]);var le=oe;const re={class:"recent-mints-section"},ce={key:0,class:"info-message"},ue={key:1,class:"info-message"},de={key:2,class:"info-message"},pe={key:3,class:"nfts-list"},ve={class:"nft-image-container"},me=["src","alt"],ke={class:"nft-info"},fe={key:0,class:"nft-minted-by"},ge={class:"nft-date"},he={class:"nft-actions"};function we(t,e,a,i,o,l){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",re,[e[2]||(e[2]=(0,s.Lk)("div",{class:"section-header"},[(0,s.Lk)("h2",null,"Recent 20 Mints")],-1)),i.loading?((0,s.uX)(),(0,s.CE)("p",ce,"Loading recent mints...")):i.error?((0,s.uX)(),(0,s.CE)("p",ue,(0,n.v_)(i.error),1)):0===i.nfts.length?((0,s.uX)(),(0,s.CE)("p",de,"No recent mints found.")):(0,s.Q3)("",!0),!i.loading&&!i.error&&i.nfts.length>0?((0,s.uX)(),(0,s.CE)("div",pe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.nfts,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.assetPublicKey,class:"nft-item"},[(0,s.Lk)("div",ve,[(0,s.Lk)("img",{src:t.imageUri,alt:t.name,class:"nft-image"},null,8,me)]),(0,s.Lk)("div",ke,[(0,s.Lk)("h3",null,(0,n.v_)(t.name),1),t.userTag?((0,s.uX)(),(0,s.CE)("p",fe,[e[0]||(e[0]=(0,s.eW)(" Minted by: ")),(0,s.bF)(r,{to:`/player-nfts/${t.userTag}`},{default:(0,s.k6)((()=>[(0,s.eW)((0,n.v_)(t.userTag),1)])),_:2},1032,["to"])])):(0,s.Q3)("",!0),(0,s.Lk)("p",ge,(0,n.v_)(i.formatDate(t.createdAt)),1),(0,s.Lk)("div",he,[(0,s.bF)(r,{to:`/nft/${t.assetPublicKey}`,class:"view-button"},{default:(0,s.k6)((()=>e[1]||(e[1]=[(0,s.eW)(" View Details ")]))),_:2},1032,["to"])])])])))),128))])):(0,s.Q3)("",!0)])}var ye=a(94348),Le={name:"RecentMintsList",setup(){const t=(0,X.KR)([]),e=(0,X.KR)(!0),a=(0,X.KR)(null),n=async()=>{e.value=!0,a.value=null;try{const e=await $t.A.get("/nft-bitcat/recent-mints");e.data.success?t.value=e.data.nfts||[]:a.value=e.data.message||"Failed to load recent mints"}catch(s){ye.error("Error fetching recent mints:",s),a.value=s.response?.data?.message||"An error occurred while fetching recent mints"}finally{e.value=!1}},i=t=>{const e=new Date(t);return e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,s.sV)((()=>{n()})),{nfts:t,loading:e,error:a,formatDate:i}}};const be=(0,x.A)(Le,[["render",we],["__scopeId","data-v-0ade051a"]]);var Te=be;const Ce={key:0,class:"how-it-works-popup"},Ie={class:"popup-content"},Ae={class:"popup-header"},Ee={class:"popup-footer"};function Fe(t,e,a,n,i,o){return a.show?((0,s.uX)(),(0,s.CE)("div",Ce,[(0,s.Lk)("div",{class:"popup-overlay",onClick:e[0]||(e[0]=e=>t.$emit("close"))}),(0,s.Lk)("div",Ie,[(0,s.Lk)("div",Ae,[e[3]||(e[3]=(0,s.Lk)("h2",null,[(0,s.Lk)("i",{class:"fas fa-info-circle"}),(0,s.eW)(" How BITCAT NFT Minting Works")],-1)),(0,s.Lk)("button",{class:"close-button",onClick:e[1]||(e[1]=e=>t.$emit("close"))},"×")]),e[5]||(e[5]=(0,s.Fv)('<div class="popup-body" data-v-51368182><div class="info-block" data-v-51368182><div class="block-header" data-v-51368182><i class="fas fa-rocket" data-v-51368182></i><h3 data-v-51368182>Getting Started with BITCAT NFTs</h3></div><div class="block-content" data-v-51368182><div class="info-item" data-v-51368182><p data-v-51368182><strong data-v-51368182>Twitter Required:</strong> To mint NFTs, you need to enter your Twitter username. This allows us to verify that you&#39;ve retweeted the post, which unlocks the ability to mint specific NFTs.</p></div><div class="info-item highlight-box" data-v-51368182><div class="highlight-header" data-v-51368182><i class="fas fa-question-circle" data-v-51368182></i><h4 data-v-51368182>Why Retweet?</h4></div><p data-v-51368182>Retweeting helps attract more crypto enthusiasts to the BITCAT project, growing our community and increasing the value of your NFTs. It&#39;s a win-win for everyone!</p></div></div></div><div class="info-block" data-v-51368182><div class="block-header" data-v-51368182><i class="fas fa-cogs" data-v-51368182></i><h3 data-v-51368182>Technical Details &amp; Security</h3></div><div class="block-content" data-v-51368182><div class="info-item" data-v-51368182><p data-v-51368182><strong data-v-51368182>Decentralized Storage:</strong> All NFTs are stored on <strong data-v-51368182>Irys</strong> (formerly Arweave), a decentralized storage network that ensures your data remains accessible forever.</p></div><div class="info-item" data-v-51368182><p data-v-51368182><strong data-v-51368182>Immutable Metadata:</strong> After minting, you receive full ownership rights to your NFT. The metadata is <span class="highlight-text" data-v-51368182>immutable</span>, guaranteeing that the unique attributes of each NFT cannot be changed.</p></div><div class="info-item" data-v-51368182><p data-v-51368182><strong data-v-51368182>Payment Method:</strong> To mint an NFT, you need to pay with BITCAT tokens. All funds collected will be used exclusively for project promotion and development.</p></div></div></div><div class="info-block" data-v-51368182><div class="block-header" data-v-51368182><i class="fas fa-gem" data-v-51368182></i><h3 data-v-51368182>NFT Attributes &amp; Ecosystem Value</h3></div><div class="block-content" data-v-51368182><div class="info-item" data-v-51368182><p data-v-51368182>Each NFT is minted with unique attributes that affect its value within our developing ecosystem:</p><ul class="features-list" data-v-51368182><li data-v-51368182><i class="fas fa-trophy" data-v-51368182></i> <strong data-v-51368182>Lottery Participation</strong> - Use your NFTs in our upcoming lottery system</li><li data-v-51368182><i class="fas fa-gamepad" data-v-51368182></i> <strong data-v-51368182>Crypto Duel</strong> - Battle your NFTs against others in our game</li><li data-v-51368182><i class="fas fa-chart-line" data-v-51368182></i> <strong data-v-51368182>Ecosystem Value</strong> - Unique attributes determine rarity and utility</li><li data-v-51368182><i class="fas fa-random" data-v-51368182></i> <strong data-v-51368182>Random Assignment</strong> - All attributes are assigned randomly at minting</li></ul></div><div class="info-item highlight-box important" data-v-51368182><div class="highlight-header" data-v-51368182><i class="fas fa-exclamation-circle" data-v-51368182></i><h4 data-v-51368182>Important to Remember</h4></div><p data-v-51368182>The rarity and unique combination of attributes in your NFT directly impacts its utility and value in the BITCAT ecosystem. Each NFT is truly one-of-a-kind!</p></div></div></div></div>',1)),(0,s.Lk)("div",Ee,[(0,s.Lk)("button",{class:"close-btn",onClick:e[2]||(e[2]=e=>t.$emit("close"))},e[4]||(e[4]=[(0,s.Lk)("i",{class:"fas fa-check"},null,-1),(0,s.eW)(" Got it! ")]))])])])):(0,s.Q3)("",!0)}var Re={name:"HowItWorksPopup",props:{show:{type:Boolean,default:!1}},emits:["close"]};const Ne=(0,x.A)(Re,[["render",Fe],["__scopeId","data-v-51368182"]]);var Me=Ne,Pe={name:"NftBitcatPage",components:{TwitterLinkSection:$,TwitterPostsList:Ht,UserNftsList:le,RecentMintsList:Te,HowItWorksPopup:Me},setup(){const t=(0,X.KR)(0),e=(0,X.KR)(!1),a=[{name:"Available",component:"TwitterPostsList"},{name:"My NFTs",component:"UserNftsList"},{name:"Mint History",component:"RecentMintsList"}];return(0,s.sV)((()=>{const e=localStorage.getItem("nft-bitcat-page-tab");null!==e&&(t.value=parseInt(e))})),(0,s.wB)(t,(t=>{localStorage.setItem("nft-bitcat-page-tab",t.toString())})),{activeTab:t,tabs:a,showHowItWorks:e}}};const _e=(0,x.A)(Pe,[["render",w],["__scopeId","data-v-24389ee5"]]);var Xe=_e}}]);
//# sourceMappingURL=567.9f4244d0.js.map