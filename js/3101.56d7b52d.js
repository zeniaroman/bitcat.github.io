"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[3101],{71241:function(a,e){e.A=(a,e)=>{const t=a.__vccOpts||a;for(const[s,r]of e)t[s]=r;return t}},43101:function(a,e,t){t.r(e),t.d(e,{default:function(){return V}});var s=t(56768),r=t(24232);const o={class:"referral-history-page"},l={class:"page-header"},i={class:"referral-tag"},n={class:"back-link"},c={class:"history-stats"},d={class:"stat-card"},u={class:"stat-value"},k={class:"stat-card"},v={class:"stat-value"},h={class:"history-list"},y={key:0,class:"loading"},f={key:0},p={key:1},L={key:1,class:"no-history"},m={key:0},g={key:1},w={key:2,class:"history-items"},_={class:"history-info"},A={class:"history-action"},C={class:"history-date"},E={key:0,class:"history-meta"},b={class:"history-amounts"},X={class:"amount"},R={class:"amount-value"},W={class:"reward"},F={class:"reward-label"},T={class:"reward-value"},x={key:0,class:"transaction"},D=["href"];function K(a,e,t,K,S,O){const H=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("div",l,[e[2]||(e[2]=(0,s.Lk)("h1",null,"Referral Actions History",-1)),(0,s.Lk)("p",null,[e[0]||(e[0]=(0,s.eW)("Detailed history of actions performed by referral: ")),(0,s.Lk)("span",i,(0,r.v_)(K.referralTag),1)]),(0,s.Lk)("div",n,[(0,s.bF)(H,{to:"/my/referrals",class:"back-button"},{default:(0,s.k6)((()=>e[1]||(e[1]=[(0,s.Lk)("i",{class:"fas fa-arrow-left"},null,-1),(0,s.eW)(" Back to Referrals ")]))),_:1})])]),(0,s.Lk)("div",c,[(0,s.Lk)("div",d,[e[3]||(e[3]=(0,s.Lk)("h3",null,"Total Actions",-1)),(0,s.Lk)("div",u,(0,r.v_)(K.history.length),1)]),(0,s.Lk)("div",k,[e[4]||(e[4]=(0,s.Lk)("h3",null,"Total Rewards",-1)),(0,s.Lk)("div",v,(0,r.v_)(K.totalRewards.toFixed(6))+" SOL",1)])]),(0,s.Lk)("div",h,[e[14]||(e[14]=(0,s.Lk)("h2",null,"Actions History",-1)),K.loading?((0,s.uX)(),(0,s.CE)("div",y,[K.isAuthenticated?((0,s.uX)(),(0,s.CE)("p",f,"Loading history...")):((0,s.uX)(),(0,s.CE)("p",p,[e[6]||(e[6]=(0,s.eW)("Please ")),(0,s.bF)(H,{to:"/my"},{default:(0,s.k6)((()=>e[5]||(e[5]=[(0,s.eW)("Login")]))),_:1}),e[7]||(e[7]=(0,s.eW)(" to view referral history"))]))])):0===K.history.length?((0,s.uX)(),(0,s.CE)("div",L,[K.isAuthenticated?((0,s.uX)(),(0,s.CE)("p",m,"No actions have been recorded for this referral yet.")):((0,s.uX)(),(0,s.CE)("p",g,[e[9]||(e[9]=(0,s.eW)("Please ")),(0,s.bF)(H,{to:"/my"},{default:(0,s.k6)((()=>e[8]||(e[8]=[(0,s.eW)("Login")]))),_:1}),e[10]||(e[10]=(0,s.eW)(" to view referral history"))]))])):((0,s.uX)(),(0,s.CE)("div",w,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(K.history,(a=>((0,s.uX)(),(0,s.CE)("div",{key:a.id,class:"history-item"},[(0,s.Lk)("div",_,[(0,s.Lk)("div",A,(0,r.v_)(K.formatAction(a.action)),1),(0,s.Lk)("div",C,(0,r.v_)(K.formatDate(a.createdAt)),1),a.meta?((0,s.uX)(),(0,s.CE)("div",E,[e[11]||(e[11]=(0,s.Lk)("span",{class:"meta-label"},"Related to:",-1)),(0,s.eW)(" "+(0,r.v_)(a.meta),1)])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",b,[(0,s.Lk)("div",X,[e[12]||(e[12]=(0,s.Lk)("span",{class:"amount-label"},"Amount:",-1)),(0,s.Lk)("span",R,(0,r.v_)((a.amount/1e9).toFixed(6))+" SOL",1)]),(0,s.Lk)("div",W,[(0,s.Lk)("span",F,"Reward ("+(0,r.v_)(a.percent)+"%):",1),(0,s.Lk)("span",T,(0,r.v_)((a.reward/1e9).toFixed(6))+" SOL",1)]),a.transaction?((0,s.uX)(),(0,s.CE)("div",x,[(0,s.Lk)("a",{href:`https://solscan.io/tx/${a.transaction}`,target:"_blank",class:"transaction-link"},e[13]||(e[13]=[(0,s.eW)(" View Transaction "),(0,s.Lk)("i",{class:"fas fa-external-link-alt"},null,-1)]),8,D)])):(0,s.Q3)("",!0)])])))),128))]))]),K.toast.show?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,r.C4)(["toast",K.toast.type])},(0,r.v_)(K.toast.message),3)):(0,s.Q3)("",!0)])}t(98992),t(81454),t(8872);var S=t(90144),O=t(81387),H=t(68881),P=t(94373),Q=t(94348),U={name:"ReferralHistoryPage",setup(){const a=(0,O.lq)(),e=(0,S.KR)(""),t=(0,S.KR)([]),r=(0,S.KR)(!0),o=(0,S.KR)({show:!1,message:"",type:"success"});e.value=a.params.referralTag;const l=(0,s.EW)((()=>H.A.getters.isAuthenticated)),i=(0,s.EW)((()=>t.value.reduce(((a,e)=>a+e.reward/1e9),0))),n=async()=>{if(l.value)try{r.value=!0;const a=await P.A.get(`/referrals/${e.value}/history`);a.data.success?t.value=a.data.history||[]:u(a.data.message||"Failed to load referral history","error")}catch(a){Q.error("Error loading referral history:",a),u(a.response?.data?.message||"Failed to load referral history","error")}finally{r.value=!1}else r.value=!1},c=a=>{if(!a)return"N/A";const e=new Date(a);return e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},d=a=>a?a.split("_").map((a=>a.charAt(0).toUpperCase()+a.slice(1))).join(" "):"Unknown Action",u=(a,e="success")=>{o.value={show:!0,message:a,type:e},setTimeout((()=>{o.value.show=!1}),3e3)};return(0,s.sV)((()=>{n()})),{referralTag:e,history:t,loading:r,toast:o,isAuthenticated:l,totalRewards:i,formatDate:c,formatAction:d}}},I=t(71241);const N=(0,I.A)(U,[["render",K],["__scopeId","data-v-6cdb4584"]]);var V=N}}]);
//# sourceMappingURL=3101.56d7b52d.js.map