"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[347],{2347:function(e,a,t){t.r(a),t.d(a,{default:function(){return z}});var n=t(4061);const o={class:"player-nfts-page"},l={class:"container"},r={key:0,class:"loading-state"},s={key:1,class:"error-state"},i={class:"user-profile"},c={class:"user-avatar"},d={class:"avatar-placeholder"},u={class:"user-info"},g={class:"user-stats"},p={class:"stat-item"},m={class:"stat-value"};function f(e,a,t,f,v,N){const k=(0,n.resolveComponent)("router-link"),E=(0,n.resolveComponent)("UserPublicNftsList");return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[(0,n.createElementVNode)("div",l,[f.loading?((0,n.openBlock)(),(0,n.createElementBlock)("div",r,a[0]||(a[0]=[(0,n.createElementVNode)("div",{class:"spinner"},null,-1),(0,n.createElementVNode)("p",null,"Loading user information...",-1)]))):f.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(f.error),1),(0,n.createVNode)(k,{to:"/",class:"back-button"},{default:(0,n.withCtx)((()=>a[1]||(a[1]=[(0,n.createTextVNode)("Back to Home")]))),_:1})])):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:2},[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("span",d,(0,n.toDisplayString)(f.userInitial),1)]),(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("h1",null,[(0,n.createVNode)(k,{to:`/player/${f.userTag}`},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(f.userTag),1)])),_:1},8,["to"])]),(0,n.createElementVNode)("div",g,[(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("span",m,(0,n.toDisplayString)(f.totalNfts),1),a[2]||(a[2]=(0,n.createElementVNode)("span",{class:"stat-label"},"NFTs",-1))])])])]),(0,n.createVNode)(E,{userTag:f.userTag},null,8,["userTag"])],64))])])}var v=t(3992),N=t(3719),k=t.n(N);const E={class:"user-public-nfts"},y={class:"section-header"},V={key:0},h={key:1},b={key:2},B={key:0,class:"nfts-grid"},T={class:"nft-image-container"},P=["src","alt"],C={class:"nft-info"},D={class:"nft-date"},S={class:"nft-actions"},w={key:1,class:"pagination"},F=["disabled"],L=["disabled"],U={class:"pagination-info"},_=["disabled"],x=["disabled"];function A(e,a,t,o,l,r){const s=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("div",E,[(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("h2",null,(0,n.toDisplayString)(t.userTag)+"'s NFT Collection",1),o.loading?((0,n.openBlock)(),(0,n.createElementBlock)("p",V,"Loading NFTs...")):o.error?((0,n.openBlock)(),(0,n.createElementBlock)("p",h,(0,n.toDisplayString)(o.error),1)):0===o.nfts.length?((0,n.openBlock)(),(0,n.createElementBlock)("p",b,"This user hasn't minted any NFTs yet.")):(0,n.createCommentVNode)("",!0)]),!o.loading&&!o.error&&o.nfts.length>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",B,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.nfts,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:e.assetPublicKey,class:"nft-card"},[(0,n.createElementVNode)("div",T,[(0,n.createElementVNode)("img",{src:e.imageUri,alt:e.name,class:"nft-image"},null,8,P)]),(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("h3",null,(0,n.toDisplayString)(e.name),1),(0,n.createElementVNode)("p",D,"Minted on "+(0,n.toDisplayString)(o.formatDate(e.createdAt)),1),(0,n.createElementVNode)("div",S,[(0,n.createVNode)(s,{to:`/nft/${e.assetPublicKey}`,class:"view-button"},{default:(0,n.withCtx)((()=>a[4]||(a[4]=[(0,n.createTextVNode)(" View Details ")]))),_:2},1032,["to"])])])])))),128))])):(0,n.createCommentVNode)("",!0),o.pagination.totalPages>1?((0,n.openBlock)(),(0,n.createElementBlock)("div",w,[(0,n.createElementVNode)("button",{onClick:a[0]||(a[0]=e=>o.changePage(1)),disabled:1===o.pagination.page,class:"pagination-button"}," « ",8,F),(0,n.createElementVNode)("button",{onClick:a[1]||(a[1]=e=>o.changePage(o.pagination.page-1)),disabled:1===o.pagination.page,class:"pagination-button"}," ‹ ",8,L),(0,n.createElementVNode)("div",U," Page "+(0,n.toDisplayString)(o.pagination.page)+" of "+(0,n.toDisplayString)(o.pagination.totalPages),1),(0,n.createElementVNode)("button",{onClick:a[2]||(a[2]=e=>o.changePage(o.pagination.page+1)),disabled:o.pagination.page===o.pagination.totalPages,class:"pagination-button"}," › ",8,_),(0,n.createElementVNode)("button",{onClick:a[3]||(a[3]=e=>o.changePage(o.pagination.totalPages)),disabled:o.pagination.page===o.pagination.totalPages,class:"pagination-button"}," » ",8,x)])):(0,n.createCommentVNode)("",!0)])}t(4114);var I=t(4348),$={name:"UserPublicNftsList",props:{userTag:{type:String,required:!0}},setup(e){const a=(0,v.useRoute)(),t=(0,v.useRouter)(),o=(0,n.ref)([]),l=(0,n.ref)(!0),r=(0,n.ref)(null),s=(0,n.ref)({total:0,page:1,limit:10,totalPages:0}),i=async(a=1)=>{l.value=!0,r.value=null;try{const t=await k().get(`/nft-bitcat/user/${e.userTag}/nfts`,{params:{page:a,limit:s.value.limit}});t.data.success?(o.value=t.data.nfts||[],s.value=t.data.pagination):r.value=t.data.message||`Failed to load ${e.userTag}'s NFTs`}catch(t){I.error("Error fetching user NFTs:",t),r.value=t.response?.data?.message||"An error occurred while fetching NFTs"}finally{l.value=!1}},c=e=>{e<1||e>s.value.totalPages||(t.push({path:a.path,query:{...a.query,page:e}}),i(e))},d=e=>{const a=new Date(e);return a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return(0,n.onMounted)((()=>{const e=parseInt(a.query.page)||1;s.value.page=e,i(e)})),(0,n.watch)((()=>e.userTag),(e=>{e&&(s.value.page=1,i(1))})),{nfts:o,loading:l,error:r,pagination:s,changePage:c,formatDate:d}}},q=t(1241);const M=(0,q.A)($,[["render",A],["__scopeId","data-v-576a967d"]]);var R=M,K=t(4348),H={name:"PlayerNftsPage",components:{UserPublicNftsList:R},setup(){const e=(0,v.useRoute)(),a=(0,n.ref)(""),t=(0,n.ref)(!0),o=(0,n.ref)(null),l=(0,n.ref)(0),r=(0,n.computed)((()=>a.value?a.value.charAt(0).toUpperCase():"")),s=async()=>{t.value=!0,o.value=null;try{a.value=e.params.userTag;const t=await k().get(`/nft-bitcat/user/${a.value}/nfts`,{params:{page:1,limit:1}});t.data.success?l.value=t.data.pagination.total:o.value="Failed to load user information"}catch(n){K.error("Error fetching user info:",n),o.value=n.response?.data?.message||"User not found or an error occurred"}finally{t.value=!1}};return(0,n.onMounted)((()=>{s()})),{userTag:a,loading:t,error:o,totalNfts:l,userInitial:r}}};const j=(0,q.A)(H,[["render",f],["__scopeId","data-v-2a6004e8"]]);var z=j}}]);
//# sourceMappingURL=347.f6f9e6a6.js.map