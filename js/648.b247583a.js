"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[648],{6648:function(t,e,a){a.r(e),a.d(e,{default:function(){return _e}});var s=a(6768),n=a(4232);const i={class:"nft-bitcat-page"},o={class:"page-header"},l={class:"tabs-container"},c={class:"tabs-navigation"},r=["onClick"],d={key:0,class:"tab-icon"},u={key:1,class:"tab-icon"},f={key:2,class:"tab-icon"},p={key:3,class:"active-indicator"},v={class:"tab-content"},k={key:0,class:"tab-pane"},g={key:1,class:"tab-pane"},m={key:2,class:"tab-pane"};function h(t,e,a,h,w,b){const y=(0,s.g2)("TwitterLinkSection"),T=(0,s.g2)("TwitterPostsList"),L=(0,s.g2)("UserNftsList"),C=(0,s.g2)("RecentMintsList"),I=(0,s.g2)("HowItWorksPopup");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("div",o,[e[2]||(e[2]=(0,s.Lk)("h1",null,"BITCAT NFT Minting",-1)),e[3]||(e[3]=(0,s.Lk)("p",{class:"subtitle"},"Mint NFTs by retweeting and paying with BITCAT tokens",-1)),(0,s.Lk)("button",{class:"how-it-works-btn",onClick:e[0]||(e[0]=t=>h.showHowItWorks=!0)}," How it works ")]),(0,s.bF)(y),(0,s.Lk)("div",l,[(0,s.Lk)("div",c,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(h.tabs,((t,a)=>((0,s.uX)(),(0,s.CE)("button",{key:a,onClick:t=>h.activeTab=a,class:(0,n.C4)(["tab-button",{active:h.activeTab===a}])},[0===a?((0,s.uX)(),(0,s.CE)("span",d,e[4]||(e[4]=[(0,s.Lk)("i",{class:"fas fa-fire"},null,-1)]))):1===a?((0,s.uX)(),(0,s.CE)("span",u,e[5]||(e[5]=[(0,s.Lk)("i",{class:"fas fa-wallet"},null,-1)]))):2===a?((0,s.uX)(),(0,s.CE)("span",f,e[6]||(e[6]=[(0,s.Lk)("i",{class:"fas fa-history"},null,-1)]))):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,n.v_)(t.name)+" ",1),h.activeTab===a?((0,s.uX)(),(0,s.CE)("span",p)):(0,s.Q3)("",!0)],10,r)))),128))]),(0,s.Lk)("div",v,[0===h.activeTab?((0,s.uX)(),(0,s.CE)("div",k,[(0,s.bF)(T)])):(0,s.Q3)("",!0),1===h.activeTab?((0,s.uX)(),(0,s.CE)("div",g,[(0,s.bF)(L)])):(0,s.Q3)("",!0),2===h.activeTab?((0,s.uX)(),(0,s.CE)("div",m,[(0,s.bF)(C)])):(0,s.Q3)("",!0)])]),(0,s.bF)(I,{show:h.showHowItWorks,onClose:e[1]||(e[1]=t=>h.showHowItWorks=!1)},null,8,["show"])])}var w=a(5130);const b={class:"twitter-link-section"},y={key:0,class:"loading"},T={key:1,class:"auth-required"},L={key:2,class:"link-form"},C={class:"input-group"},I=["disabled"],A={key:3,class:"linked-account"},E={class:"linked-info"},F={class:"username"},N=["disabled"];function M(t,e,a,i,o,l){const c=(0,s.g2)("router-link"),r=(0,s.g2)("AppToast");return(0,s.uX)(),(0,s.CE)("div",b,[e[12]||(e[12]=(0,s.Lk)("h2",null,"Link your Twitter Account",-1)),i.isLoading?((0,s.uX)(),(0,s.CE)("div",y,[e[6]||(e[6]=(0,s.Lk)("p",null,"To mint NFTs with BITCAT tokens, you need to log in first.",-1)),(0,s.bF)(c,{to:"/my",class:"auth-button"},{default:(0,s.k6)((()=>e[5]||(e[5]=[(0,s.Lk)("i",{class:"fas fa-sign-in-alt"},null,-1),(0,s.eW)(" Log In ")]))),_:1})])):i.isAuthenticated?i.hasLinkedAccount||i.isLinking?i.hasLinkedAccount?((0,s.uX)(),(0,s.CE)("div",A,[(0,s.Lk)("div",E,[(0,s.Lk)("p",null,[e[11]||(e[11]=(0,s.eW)("Linked to ")),(0,s.Lk)("span",F,"@"+(0,n.v_)(i.linkedUsername),1)])]),(0,s.Lk)("button",{class:"unlink-button",onClick:e[3]||(e[3]=(...t)=>i.unlinkAccount&&i.unlinkAccount(...t)),disabled:i.isSubmitting},(0,n.v_)(i.isSubmitting?"Unlinking...":"Unlink Account"),9,N)])):(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",L,[e[10]||(e[10]=(0,s.Lk)("p",null,"Link your Twitter username to mint NFTs with BITCAT tokens.",-1)),(0,s.Lk)("div",C,[e[9]||(e[9]=(0,s.Lk)("span",{class:"input-prefix"},"@",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.twitterUsername=t),type:"text",placeholder:"twitter_username",onKeyup:e[1]||(e[1]=(0,w.jR)(((...t)=>i.linkAccount&&i.linkAccount(...t)),["enter"]))},null,544),[[w.Jo,i.twitterUsername]])]),(0,s.Lk)("button",{class:"link-button",onClick:e[2]||(e[2]=(...t)=>i.linkAccount&&i.linkAccount(...t)),disabled:i.isSubmitting},(0,n.v_)(i.isSubmitting?"Linking...":"Link Account"),9,I)])):((0,s.uX)(),(0,s.CE)("div",T,[e[8]||(e[8]=(0,s.Lk)("p",null,"To mint NFTs with BITCAT tokens, you need to log in first.",-1)),(0,s.bF)(c,{to:"/my",class:"auth-button"},{default:(0,s.k6)((()=>e[7]||(e[7]=[(0,s.Lk)("i",{class:"fas fa-sign-in-alt"},null,-1),(0,s.eW)(" Log In ")]))),_:1})])),(0,s.bF)(r,{show:i.toast.show,message:i.toast.message,type:i.toast.type,onClose:e[4]||(e[4]=t=>i.toast.show=!1),duration:i.toast.duration},null,8,["show","message","type","duration"])])}var X=a(144),_=a(782);const R={class:"toast-content"};function P(t,e,a,i,o,l){return a.show?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,n.C4)(["toast",`toast-${a.type}`])},[(0,s.Lk)("div",R,(0,n.v_)(a.message),1),(0,s.Lk)("button",{class:"toast-close",onClick:e[0]||(e[0]=(...t)=>l.close&&l.close(...t))},"×")],2)):(0,s.Q3)("",!0)}var K={name:"AppToast",props:{message:{type:String,default:""},type:{type:String,default:"info",validator:t=>["success","error","warning","info"].includes(t)},duration:{type:Number,default:3e3},show:{type:Boolean,default:!1}},emits:["close"],watch:{show(t){t&&this.duration>0&&(this.timer=setTimeout((()=>{this.close()}),this.duration))}},methods:{close(){this.timer&&clearTimeout(this.timer),this.$emit("close")}},beforeUnmount(){this.timer&&clearTimeout(this.timer)},data(){return{timer:null}}},S=a(1241);const W=(0,S.A)(K,[["render",P],["__scopeId","data-v-9f6ec8d0"]]);var U=W,x=a(4348),B={name:"TwitterLinkSection",components:{AppToast:U},setup(){const t=(0,_.Pj)(),e=(0,X.KR)(""),a=(0,X.KR)(!1),n=(0,X.KR)(!0),i=(0,X.KR)(!1),o=(0,s.EW)((()=>t.state.session.isAuthenticated)),l=(0,s.EW)((()=>t.getters.isTwitterLinked)),c=(0,s.EW)((()=>t.getters.twitterUsername)),r=(0,X.KR)({show:!1,message:"",type:"info",duration:7e3}),d=(t,e="info")=>{r.value.message=t,r.value.type=e,r.value.show=!0},u=async()=>{if(n.value=!0,o.value)try{await t.dispatch("checkTwitterLinked")}catch(e){x.error("Error checking linked account:",e)}finally{n.value=!1}else n.value=!1},f=async()=>{if(!e.value.trim())return d("Please enter a Twitter username","error");a.value=!0;try{const a=await t.dispatch("linkTwitterAccount",e.value.trim());a.success?(d("Twitter account successfully linked!","success"),e.value=""):d(a.message||"Failed to link Twitter account","error")}catch(s){x.error("Error linking account:",s),d("Error linking Twitter account","error")}finally{a.value=!1}},p=async()=>{if(l.value){a.value=!0;try{const e=await t.dispatch("unlinkTwitterAccount");e.success?d("Twitter account successfully unlinked!","success"):d(e.message||"Failed to unlink Twitter account","error")}catch(e){x.error("Error unlinking account:",e),d("Error unlinking Twitter account","error")}finally{a.value=!1}}};return(0,s.sV)((()=>{o.value?u():n.value=!1})),{twitterUsername:e,hasLinkedAccount:l,linkedUsername:c,isAuthenticated:o,isSubmitting:a,isLoading:n,isLinking:i,linkAccount:f,unlinkAccount:p,toast:r}}};const $=(0,S.A)(B,[["render",M],["__scopeId","data-v-7dc9569b"]]);var D=$;const Q={class:"twitter-posts-section"},V={class:"section-header"},H={class:"next-check-info"},j={class:"time"},q={key:0,class:"loading"},z={key:1,class:"no-posts"},Y={key:2,class:"posts-grid"},G={class:"post-image"},J=["src","alt"],O={key:0,class:"active-badge"},Z={class:"post-content"},tt={key:0,class:"post-description"},et=["href"],at={class:"post-meta"},st={class:"meta-item"},nt={class:"time-value"},it={class:"meta-stats"},ot={class:"stat-item"},lt={class:"stat-item"},ct={class:"post-actions"},rt=["onClick","disabled","title"],dt={key:0},ut={key:1},ft={key:2},pt={key:0,disabled:"",class:"already-minted-btn"},vt=["onClick","disabled"];function kt(t,e,a,i,o,l){const c=(0,s.g2)("AppToast"),r=(0,s.g2)("MintPopup");return(0,s.uX)(),(0,s.CE)("div",Q,[(0,s.Lk)("div",V,[e[2]||(e[2]=(0,s.Lk)("h2",null,"Available NFTs for Minting",-1)),(0,s.Lk)("div",H,[e[1]||(e[1]=(0,s.Lk)("span",null,"Next retweet check: ",-1)),(0,s.Lk)("span",j,(0,n.v_)(i.formatNextCheckTime),1)])]),i.isLoading?((0,s.uX)(),(0,s.CE)("div",q,e[3]||(e[3]=[(0,s.Lk)("p",null,"Loading posts...",-1)]))):0===i.posts.length?((0,s.uX)(),(0,s.CE)("div",z,e[4]||(e[4]=[(0,s.Lk)("p",null,"No posts available for minting at the moment.",-1)]))):((0,s.uX)(),(0,s.CE)("div",Y,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.posts,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.postId,class:"post-card"},[(0,s.Lk)("div",G,[(0,s.Lk)("img",{src:t.imageUrl,alt:t.title},null,8,J),t.isActive?((0,s.uX)(),(0,s.CE)("div",O,"Active for Retweets")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Z,[(0,s.Lk)("h3",null,(0,n.v_)(t.title),1),t.description?((0,s.uX)(),(0,s.CE)("p",tt,(0,n.v_)(t.description),1)):(0,s.Q3)("",!0),(0,s.Lk)("a",{href:t.twitterUrl,target:"_blank",rel:"noopener noreferrer",class:"twitter-link"},e[5]||(e[5]=[(0,s.Lk)("i",{class:"fab fa-twitter"},null,-1),(0,s.eW)(" View on Twitter ")]),8,et),(0,s.Lk)("div",at,[(0,s.Lk)("div",st,[e[6]||(e[6]=(0,s.Lk)("span",{class:"label"},"Retweets are accepted until:",-1)),(0,s.Lk)("div",nt,(0,n.v_)(i.formatDate(t.endMintingTime)),1)]),(0,s.Lk)("div",it,[(0,s.Lk)("div",ot,[e[7]||(e[7]=(0,s.Lk)("span",{class:"label"},"Retweets:",-1)),(0,s.Lk)("span",null,(0,n.v_)(t.totalRetweets),1)]),(0,s.Lk)("div",lt,[e[8]||(e[8]=(0,s.Lk)("span",{class:"label"},"Minted:",-1)),(0,s.Lk)("span",null,(0,n.v_)(t.mintedCount||0),1)])])]),(0,s.Lk)("div",ct,[(0,s.Lk)("button",{onClick:e=>i.checkRetweet(t.postId),disabled:i.isCheckingRetweet===t.postId||i.hasMinted[t.postId]||t.alreadyMinted,class:"check-btn",title:`Debug: canMint=${i.canMint[t.postId]}, hasRetweeted=${t.hasRetweeted}`},[i.isCheckingRetweet===t.postId?((0,s.uX)(),(0,s.CE)("span",dt,"Checking...")):!0===i.canMint[t.postId]?((0,s.uX)(),(0,s.CE)("span",ut,"Retweet Verified ✓")):((0,s.uX)(),(0,s.CE)("span",ft,"Check My Retweet"))],8,rt),t.alreadyMinted?((0,s.uX)(),(0,s.CE)("button",pt," Already minted ")):void 0!==i.canMint[t.postId]&&i.canMint[t.postId]?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:e=>i.mintNft(t.postId),disabled:i.isMinting===t.postId,class:"mint-btn"},(0,n.v_)(i.isMinting===t.postId?"Minting...":"Mint NFT (300 BITCAT)"),9,vt)):(0,s.Q3)("",!0)])])])))),128))])),(0,s.bF)(c,{show:i.toast.show,message:i.toast.message,type:i.toast.type,onClose:e[0]||(e[0]=t=>i.toast.show=!1),duration:i.toast.duration},null,8,["show","message","type","duration"]),(0,s.bF)(r,{show:i.mintPopup.show,"tx-signature":i.mintPopup.txSignature,"is-complete":i.mintPopup.isComplete,"nft-info":i.mintPopup.nftInfo,onClose:i.closeMintPopup},null,8,["show","tx-signature","is-complete","nft-info","onClose"])])}a(8992),a(2577),a(3949),a(8872);var gt=a(5305);const mt={key:0,class:"mint-popup-overlay"},ht={class:"mint-popup-content"},wt={class:"mint-popup-header"},bt={class:"mint-popup-body"},yt={key:0,class:"minting-progress"},Tt={class:"transaction-info"},Lt={class:"tx-id"},Ct={key:1,class:"minting-complete"},It={key:0,class:"nft-image-container"},At=["src"],Et={class:"nft-details"},Ft={class:"tx-id"},Nt={class:"asset-id"},Mt={class:"view-links"},Xt=["href"];function _t(t,e,a,i,o,l){const c=(0,s.g2)("router-link");return a.show?((0,s.uX)(),(0,s.CE)("div",mt,[(0,s.Lk)("div",ht,[(0,s.Lk)("div",wt,[(0,s.Lk)("h2",null,(0,n.v_)(a.isComplete?"NFT Successfully Minted!":"NFT Minting in Progress"),1),a.isComplete?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"close-button",onClick:e[0]||(e[0]=(...t)=>l.close&&l.close(...t))},"×")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",bt,[a.isComplete?((0,s.uX)(),(0,s.CE)("div",Ct,[e[10]||(e[10]=(0,s.Lk)("div",{class:"success-icon"},"✓",-1)),(0,s.Lk)("h3",null,(0,n.v_)(a.nftInfo.name),1),a.nftInfo.imageUri?((0,s.uX)(),(0,s.CE)("div",It,[(0,s.Lk)("img",{src:a.nftInfo.imageUri,alt:"NFT Image",class:"nft-image"},null,8,At)])):(0,s.Q3)("",!0),(0,s.Lk)("div",Et,[(0,s.Lk)("p",null,[e[4]||(e[4]=(0,s.Lk)("strong",null,"Transaction ID:",-1)),e[5]||(e[5]=(0,s.eW)()),(0,s.Lk)("span",Ft,(0,n.v_)(a.txSignature),1)]),(0,s.Lk)("p",null,[e[6]||(e[6]=(0,s.Lk)("strong",null,"Asset ID:",-1)),e[7]||(e[7]=(0,s.eW)()),(0,s.Lk)("span",Nt,(0,n.v_)(a.nftInfo.assetPublicKey),1)])]),(0,s.Lk)("div",Mt,[(0,s.bF)(c,{to:`/nft/${a.nftInfo.assetPublicKey}`,class:"view-link"},{default:(0,s.k6)((()=>e[8]||(e[8]=[(0,s.Lk)("i",{class:"fas fa-eye"},null,-1),(0,s.eW)(" View NFT Details ")]))),_:1},8,["to"]),(0,s.Lk)("a",{href:`https://core.metaplex.com/explorer/${a.nftInfo.assetPublicKey}`,target:"_blank",class:"view-link"},e[9]||(e[9]=[(0,s.Lk)("i",{class:"fas fa-external-link-alt"},null,-1),(0,s.eW)(" View on Metaplex ")]),8,Xt)])])):((0,s.uX)(),(0,s.CE)("div",yt,[e[2]||(e[2]=(0,s.Lk)("div",{class:"spinner"},null,-1)),e[3]||(e[3]=(0,s.Lk)("p",{class:"warning-text"},"Please do not close this window. Minting process may take several minutes.",-1)),(0,s.Lk)("p",Tt,[e[1]||(e[1]=(0,s.eW)("Transaction ID: ")),(0,s.Lk)("span",Lt,(0,n.v_)(a.txSignature),1)])]))])])])):(0,s.Q3)("",!0)}var Rt={name:"MintPopup",props:{show:{type:Boolean,default:!1},txSignature:{type:String,default:""},isComplete:{type:Boolean,default:!1},nftInfo:{type:Object,default:()=>({name:"",assetPublicKey:"",imageUri:"",metadataUri:""})}},methods:{close(){this.$emit("close")}}};const Pt=(0,S.A)(Rt,[["render",_t],["__scopeId","data-v-72ade709"]]);var Kt=Pt,St=a(6615),Wt=a(4373),Ut=a(4348),xt=a(712)["Buffer"],Bt={name:"TwitterPostsList",components:{AppToast:U,MintPopup:Kt},setup(){(0,gt.vT)();const t=(0,_.Pj)(),e=(0,X.KR)([]),a=(0,X.KR)(!0),n=(0,X.KR)(null),i=(0,X.KR)(null),o=(0,X.KR)({}),l=(0,X.KR)(null),c=(0,X.KR)({}),r=(0,X.KR)({show:!1,txSignature:"",isComplete:!1,nftInfo:{}}),d=(0,X.KR)({show:!1,message:"",type:"info",duration:1e4}),u=(0,s.EW)((()=>t.state.session.isAuthenticated)),f=(0,s.EW)((()=>t.getters.isTwitterLinked)),p=(t,e="info")=>{d.value.message=t,d.value.type=e,d.value.show=!0},v=(0,s.EW)((()=>{if(!n.value)return"Unknown";const t=new Date(n.value),e=new Date(t.getTime()+12e5);return k(e)})),k=t=>{const e=new Date(t);return e.toLocaleString()},g=async()=>{a.value=!0;try{const t=localStorage.getItem("userTag");Ut.log("User tag from localStorage:",t);let a="/nft-bitcat/twitter-posts";t&&(a+=`?userTag=${encodeURIComponent(t)}`),Ut.log("Fetching posts with URL:",a);const s=await Wt.A.get(a),i=s.data;if(i.success){e.value=i.posts;const t=e.value.reduce(((t,e)=>{if(!e.lastCheckTime)return t;const a=new Date(e.lastCheckTime);return!t||a>t?a:t}),null);n.value=t,e.value.forEach((t=>{Ut.log(`Post ${t.postId} has retweeted:`,t.hasRetweeted),Ut.log(`Post ${t.postId} can mint:`,t.canMint),Ut.log(`Post ${t.postId} already minted:`,t.alreadyMinted),t.alreadyMinted&&(c.value[t.postId]=!0),!0!==t.hasRetweeted||t.alreadyMinted?void 0===o.value[t.postId]&&(o.value[t.postId]=!1):(o.value[t.postId]=!0,Ut.log(`Setting canMint for post ${t.postId} to true`))}))}}catch(t){Ut.error("Error fetching posts:",t),p("Failed to load Twitter posts","error")}finally{a.value=!1}},m=async a=>{if(!b())return p("Please log in to check your retweet status","warning");if(!f.value)return p("Please link your Twitter account first","warning");if(!t.getters.hasWallet)return p("Please connect your wallet to mint NFTs","warning");const s=e.value.find((t=>t.postId===a));if(s&&s.alreadyMinted)return p("You have already minted an NFT for this post","info");i.value=a;try{const t=await Wt.A.get(`/twitter/check-retwit/${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}),e=t.data;e.success?(o.value[a]=e.canMint,e.canMint?p("You can mint an NFT for this post!","success"):p("You need to retweet this post to mint an NFT","warning")):p(e.message||"Failed to check retweet","error")}catch(n){Ut.error("Error checking retweet:",n),p("Error checking retweet status","error")}finally{i.value=null}},h=async s=>{if(!b())return p("Please log in to mint an NFT","warning");if(!f.value)return p("Please link your Twitter account first","warning");if(!t.getters.hasWallet)return p("Please connect your wallet first","warning");const n=e.value.find((t=>t.postId===s));if(n&&n.alreadyMinted)return p("You have already minted an NFT for this post","info");l.value=s;try{if(!window.solana)return void p("Please install Phantom Wallet extension","error");if(!window.solana.isConnected)try{await window.solana.connect()}catch(i){return p(`Error connecting to Phantom Wallet: ${i.message}`,"error"),void(a.value=!1)}const t=window.solana.publicKey.toString(),e=new St.Ng("https://sleek-icy-frog.solana-mainnet.quiknode.pro/9d4845e2d4c60caf45dc4f10d0bdcfdbcd6a321c","confirmed"),o=await Wt.A.post("/nft-bitcat/mint",{tweetId:s,walletPublicKey:t},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}),l=o.data;if(Ut.log(o),l.success){const t=window.solana,a=St.ZX.from(xt.from(l.transaction,"base64")),{blockhash:i}=await e.getLatestBlockhash("confirmed");a.recentBlockhash=i,a.feePayer=t.publicKey,Ut.log(`Mint will use ${l.bitcatAmount} BITCAT tokens`);const o={skipPreflight:!1,preflightCommitment:"confirmed"},d=await t.signTransaction(a),u=await e.sendRawTransaction(d.serialize(),o);r.value={show:!0,txSignature:u,isComplete:!1,nftInfo:{name:n?.title||"Bitcat NFT",assetPublicKey:l.expectedNftAddress||"",imageUri:n?.imageUrl||""}},await e.confirmTransaction(u,"confirmed");const f=await Wt.A.post("/nft-bitcat/update-tx",{txSignature:u,assetPublicKey:t.publicKey.toString(),postId:s,metadataUri:l.metadataUri},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});f.data.success?(f.data.nftInfo&&(r.value.nftInfo=f.data.nftInfo),r.value.isComplete=!0,n.alreadyMinted=!0,c.value[s]=!0,p("NFT successfully minted!","success")):p("Error updating NFT status","error")}else p(l.message||"Error preparing data for minting","error")}catch(o){Ut.error("Error minting NFT:",o),p(`Error minting NFT: ${o.message}`,"error"),r.value.show&&(r.value.show=!1)}finally{l.value=null}},w=()=>{r.value.show=!1},b=(new St.Ng("https://sleek-icy-frog.solana-mainnet.quiknode.pro/9d4845e2d4c60caf45dc4f10d0bdcfdbcd6a321c"),()=>u.value);return(0,s.sV)((async()=>{u.value&&await t.dispatch("checkTwitterLinked"),g()})),(0,s.wB)((()=>t.state.session.isAuthenticated),(e=>{e&&t.dispatch("checkTwitterLinked")})),(0,s.wB)((()=>t.getters.isTwitterLinked),(t=>{Ut.log("Twitter link status changed:",t),t&&g()})),{posts:e,isLoading:a,isCheckingRetweet:i,isMinting:l,canMint:o,hasMinted:c,mintPopup:r,closeMintPopup:w,checkRetweet:m,mintNft:h,formatNextCheckTime:v,formatDate:k,toast:d,isAuthenticated:u,hasLinkedTwitter:f}}};const $t=(0,S.A)(Bt,[["render",kt],["__scopeId","data-v-62b86f94"]]);var Dt=$t;const Qt={class:"user-nfts-section"},Vt={class:"section-header"},Ht={key:0},jt={key:1},qt={key:2},zt={key:3},Yt={key:0,class:"nfts-grid"},Gt={class:"nft-image-container"},Jt=["src","alt"],Ot={class:"nft-info"},Zt={class:"nft-actions"};function te(t,e,a,i,o,l){const c=(0,s.g2)("router-link"),r=(0,s.g2)("AppToast");return(0,s.uX)(),(0,s.CE)("div",Qt,[(0,s.Lk)("div",Vt,[e[0]||(e[0]=(0,s.Lk)("h2",null,"Your Minted NFTs",-1)),i.isAuthenticated?i.loading?((0,s.uX)(),(0,s.CE)("p",jt,"Loading your NFTs...")):i.error?((0,s.uX)(),(0,s.CE)("p",qt,(0,n.v_)(i.error),1)):0===i.nfts.length?((0,s.uX)(),(0,s.CE)("p",zt,"You haven't minted any NFTs yet.")):(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("p",Ht,"You need to login first"))]),i.isAuthenticated&&!i.loading&&!i.error&&i.nfts.length>0?((0,s.uX)(),(0,s.CE)("div",Yt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.nfts,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.assetPublicKey,class:"nft-card"},[(0,s.Lk)("div",Gt,[(0,s.Lk)("img",{src:t.imageUri,alt:t.name,class:"nft-image"},null,8,Jt)]),(0,s.Lk)("div",Ot,[(0,s.Lk)("h3",null,(0,n.v_)(t.name),1),(0,s.Lk)("p",{class:(0,n.C4)(["nft-status",i.getStatusClass(t.status)])},(0,n.v_)(t.status.charAt(0).toUpperCase()+t.status.slice(1)),3),(0,s.Lk)("div",Zt,[(0,s.bF)(c,{to:`/nft/${t.assetPublicKey}`,class:"view-button"},{default:(0,s.k6)((()=>e[1]||(e[1]=[(0,s.eW)(" View Details ")]))),_:2},1032,["to"])])])])))),128))])):(0,s.Q3)("",!0),i.toast.show?((0,s.uX)(),(0,s.Wv)(r,{key:1,message:i.toast.message,type:i.toast.type,duration:i.toast.duration},null,8,["message","type","duration"])):(0,s.Q3)("",!0)])}var ee=a(4348),ae={name:"UserNftsList",components:{AppToast:U},setup(){const t=(0,_.Pj)(),e=(0,X.KR)([]),a=(0,X.KR)(!0),n=(0,X.KR)(null),i=(0,s.EW)((()=>t.state.session.isAuthenticated)),o=(t,e="info")=>{l.value.message=t,l.value.type=e,l.value.show=!0},l=(0,X.KR)({show:!1,message:"",type:"info",duration:7e3}),c=async()=>{if(i.value){a.value=!0,n.value=null;try{const t=await Wt.A.get("/nft-bitcat/user-nfts",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});t.data.success?e.value=t.data.nfts||[]:(n.value=t.data.message||"Failed to load your NFTs",o(n.value,"error"))}catch(t){ee.error("Error fetching user NFTs:",t),n.value=t.response?.data?.message||"An error occurred while fetching your NFTs",o(n.value,"error")}finally{a.value=!1}}else a.value=!1},r=t=>{switch(t){case"completed":return"status-completed";case"pending":return"status-pending";case"failed":return"status-failed";default:return""}};return(0,s.sV)((()=>{i.value?c():a.value=!1})),{nfts:e,loading:a,error:n,isAuthenticated:i,getStatusClass:r,toast:l,showToast:o}}};const se=(0,S.A)(ae,[["render",te],["__scopeId","data-v-6fc28f3c"]]);var ne=se;const ie={class:"recent-mints-section"},oe={class:"section-header"},le={key:0},ce={key:1},re={key:2},de={key:0,class:"nfts-list"},ue={class:"nft-image-container"},fe=["src","alt"],pe={class:"nft-info"},ve={key:0,class:"nft-minted-by"},ke={class:"nft-date"},ge={class:"nft-actions"};function me(t,e,a,i,o,l){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",ie,[(0,s.Lk)("div",oe,[e[0]||(e[0]=(0,s.Lk)("h2",null,"Recent 20 Mints",-1)),i.loading?((0,s.uX)(),(0,s.CE)("p",le,"Loading recent mints...")):i.error?((0,s.uX)(),(0,s.CE)("p",ce,(0,n.v_)(i.error),1)):0===i.nfts.length?((0,s.uX)(),(0,s.CE)("p",re,"No recent mints found.")):(0,s.Q3)("",!0)]),!i.loading&&!i.error&&i.nfts.length>0?((0,s.uX)(),(0,s.CE)("div",de,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.nfts,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.assetPublicKey,class:"nft-item"},[(0,s.Lk)("div",ue,[(0,s.Lk)("img",{src:t.imageUri,alt:t.name,class:"nft-image"},null,8,fe)]),(0,s.Lk)("div",pe,[(0,s.Lk)("h3",null,(0,n.v_)(t.name),1),t.userTag?((0,s.uX)(),(0,s.CE)("p",ve,[e[1]||(e[1]=(0,s.eW)(" Minted by: ")),(0,s.bF)(c,{to:`/player-nfts/${t.userTag}`},{default:(0,s.k6)((()=>[(0,s.eW)((0,n.v_)(t.userTag),1)])),_:2},1032,["to"])])):(0,s.Q3)("",!0),(0,s.Lk)("p",ke,(0,n.v_)(i.formatDate(t.createdAt)),1),(0,s.Lk)("div",ge,[(0,s.bF)(c,{to:`/nft/${t.assetPublicKey}`,class:"view-button"},{default:(0,s.k6)((()=>e[2]||(e[2]=[(0,s.eW)(" View Details ")]))),_:2},1032,["to"])])])])))),128))])):(0,s.Q3)("",!0)])}var he=a(4348),we={name:"RecentMintsList",setup(){const t=(0,X.KR)([]),e=(0,X.KR)(!0),a=(0,X.KR)(null),n=async()=>{e.value=!0,a.value=null;try{const e=await Wt.A.get("/nft-bitcat/recent-mints");e.data.success?t.value=e.data.nfts||[]:a.value=e.data.message||"Failed to load recent mints"}catch(s){he.error("Error fetching recent mints:",s),a.value=s.response?.data?.message||"An error occurred while fetching recent mints"}finally{e.value=!1}},i=t=>{const e=new Date(t);return e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,s.sV)((()=>{n()})),{nfts:t,loading:e,error:a,formatDate:i}}};const be=(0,S.A)(we,[["render",me],["__scopeId","data-v-04ffd2c0"]]);var ye=be;const Te={key:0,class:"how-it-works-popup"},Le={class:"popup-content"},Ce={class:"popup-header"},Ie={class:"popup-footer"};function Ae(t,e,a,n,i,o){return a.show?((0,s.uX)(),(0,s.CE)("div",Te,[(0,s.Lk)("div",{class:"popup-overlay",onClick:e[0]||(e[0]=e=>t.$emit("close"))}),(0,s.Lk)("div",Le,[(0,s.Lk)("div",Ce,[e[3]||(e[3]=(0,s.Lk)("h2",null,[(0,s.Lk)("i",{class:"fas fa-info-circle"}),(0,s.eW)(" How BITCAT NFT Minting Works")],-1)),(0,s.Lk)("button",{class:"close-button",onClick:e[1]||(e[1]=e=>t.$emit("close"))},"×")]),e[5]||(e[5]=(0,s.Fv)('<div class="popup-body" data-v-cd777fb4><div class="info-block" data-v-cd777fb4><div class="block-header" data-v-cd777fb4><i class="fas fa-rocket" data-v-cd777fb4></i><h3 data-v-cd777fb4>Getting Started with BITCAT NFTs</h3></div><div class="block-content" data-v-cd777fb4><div class="info-item" data-v-cd777fb4><p data-v-cd777fb4><strong data-v-cd777fb4>Twitter Required:</strong> To mint NFTs, you need to enter your Twitter username. This allows us to verify that you&#39;ve retweeted the post, which unlocks the ability to mint specific NFTs.</p></div><div class="info-item highlight-box" data-v-cd777fb4><div class="highlight-header" data-v-cd777fb4><i class="fas fa-question-circle" data-v-cd777fb4></i><h4 data-v-cd777fb4>Why Retweet?</h4></div><p data-v-cd777fb4>Retweeting helps attract more crypto enthusiasts to the BITCAT project, growing our community and increasing the value of your NFTs. It&#39;s a win-win for everyone!</p></div></div></div><div class="info-block" data-v-cd777fb4><div class="block-header" data-v-cd777fb4><i class="fas fa-cogs" data-v-cd777fb4></i><h3 data-v-cd777fb4>Technical Details &amp; Security</h3></div><div class="block-content" data-v-cd777fb4><div class="info-item" data-v-cd777fb4><p data-v-cd777fb4><strong data-v-cd777fb4>Decentralized Storage:</strong> All NFTs are stored on <strong data-v-cd777fb4>Irys</strong> (formerly Arweave), a decentralized storage network that ensures your data remains accessible forever.</p></div><div class="info-item" data-v-cd777fb4><p data-v-cd777fb4><strong data-v-cd777fb4>Immutable Metadata:</strong> After minting, you receive full ownership rights to your NFT. The metadata is <span class="highlight-text" data-v-cd777fb4>immutable</span>, guaranteeing that the unique attributes of each NFT cannot be changed.</p></div><div class="info-item" data-v-cd777fb4><p data-v-cd777fb4><strong data-v-cd777fb4>Payment Method:</strong> To mint an NFT, you need to pay with BITCAT tokens. All funds collected will be used exclusively for project promotion and development.</p></div></div></div><div class="info-block" data-v-cd777fb4><div class="block-header" data-v-cd777fb4><i class="fas fa-gem" data-v-cd777fb4></i><h3 data-v-cd777fb4>NFT Attributes &amp; Ecosystem Value</h3></div><div class="block-content" data-v-cd777fb4><div class="info-item" data-v-cd777fb4><p data-v-cd777fb4>Each NFT is minted with unique attributes that affect its value within our developing ecosystem:</p><ul class="features-list" data-v-cd777fb4><li data-v-cd777fb4><i class="fas fa-trophy" data-v-cd777fb4></i> <strong data-v-cd777fb4>Lottery Participation</strong> - Use your NFTs in our upcoming lottery system</li><li data-v-cd777fb4><i class="fas fa-gamepad" data-v-cd777fb4></i> <strong data-v-cd777fb4>Crypto Duel</strong> - Battle your NFTs against others in our game</li><li data-v-cd777fb4><i class="fas fa-chart-line" data-v-cd777fb4></i> <strong data-v-cd777fb4>Ecosystem Value</strong> - Unique attributes determine rarity and utility</li><li data-v-cd777fb4><i class="fas fa-random" data-v-cd777fb4></i> <strong data-v-cd777fb4>Random Assignment</strong> - All attributes are assigned randomly at minting</li></ul></div><div class="info-item highlight-box important" data-v-cd777fb4><div class="highlight-header" data-v-cd777fb4><i class="fas fa-exclamation-circle" data-v-cd777fb4></i><h4 data-v-cd777fb4>Important to Remember</h4></div><p data-v-cd777fb4>The rarity and unique combination of attributes in your NFT directly impacts its utility and value in the BITCAT ecosystem. Each NFT is truly one-of-a-kind!</p></div></div></div></div>',1)),(0,s.Lk)("div",Ie,[(0,s.Lk)("button",{class:"close-btn",onClick:e[2]||(e[2]=e=>t.$emit("close"))},e[4]||(e[4]=[(0,s.Lk)("i",{class:"fas fa-check"},null,-1),(0,s.eW)(" Got it! ")]))])])])):(0,s.Q3)("",!0)}var Ee={name:"HowItWorksPopup",props:{show:{type:Boolean,default:!1}},emits:["close"]};const Fe=(0,S.A)(Ee,[["render",Ae],["__scopeId","data-v-cd777fb4"]]);var Ne=Fe,Me={name:"NftBitcatPage",components:{TwitterLinkSection:D,TwitterPostsList:Dt,UserNftsList:ne,RecentMintsList:ye,HowItWorksPopup:Ne},setup(){const t=(0,X.KR)(0),e=(0,X.KR)(!1),a=[{name:"Available NFTs",component:"TwitterPostsList"},{name:"My NFTs",component:"UserNftsList"},{name:"Mint History",component:"RecentMintsList"}];return(0,s.sV)((()=>{const e=localStorage.getItem("nft-bitcat-page-tab");null!==e&&(t.value=parseInt(e))})),(0,s.wB)(t,(t=>{localStorage.setItem("nft-bitcat-page-tab",t.toString())})),{activeTab:t,tabs:a,showHowItWorks:e}}};const Xe=(0,S.A)(Me,[["render",h],["__scopeId","data-v-e25a6d46"]]);var _e=Xe}}]);
//# sourceMappingURL=648.b247583a.js.map