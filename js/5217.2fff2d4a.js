"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[5217],{71241:function(e,a){a.A=(e,a)=>{const s=e.__vccOpts||e;for(const[t,o]of a)s[t]=o;return s}},10587:function(e,a,s){s.d(a,{A:function(){return d}});var t=s(56768),o=s(24232);const n={class:"toast-content"};function l(e,a,s,l,i,r){return s.show?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,o.C4)(["toast",`toast-${s.type}`])},[(0,t.Lk)("div",n,(0,o.v_)(s.message),1),(0,t.Lk)("button",{class:"toast-close",onClick:a[0]||(a[0]=(...e)=>r.close&&r.close(...e))},"×")],2)):(0,t.Q3)("",!0)}var i={name:"AppToast",props:{message:{type:String,default:""},type:{type:String,default:"info",validator:e=>["success","error","warning","info"].includes(e)},duration:{type:Number,default:3e3},show:{type:Boolean,default:!1}},emits:["close"],watch:{show(e){e&&this.duration>0&&(this.timer=setTimeout((()=>{this.close()}),this.duration))}},methods:{close(){this.timer&&clearTimeout(this.timer),this.$emit("close")}},beforeUnmount(){this.timer&&clearTimeout(this.timer)},data(){return{timer:null}}},r=s(71241);const u=(0,r.A)(i,[["render",l],["__scopeId","data-v-9f6ec8d0"]]);var d=u},25217:function(e,a,s){s.r(a),s.d(a,{default:function(){return Ve}});var t=s(56768),o=s(24232);const n={class:"token-details-page"},l={class:"page-header"},i={class:"container"},r={class:"breadcrumbs"},u={class:"container"},d={key:0,class:"loading-container"},c={key:1,class:"error-container"},k={key:2,class:"token-content"},v={class:"token-card"},h={class:"token-header"},m={class:"token-logo"},L=["src"],g={key:1,class:"placeholder-logo"},f={class:"token-info"},p={class:"token-name"},b={class:"token-symbol"},w={class:"token-mint"},y={key:0},T={key:1,class:"pending-message"},E={class:"token-id"},_={class:"token-links"},D=["href"],C=["href"],S=["href"],q={class:"token-actions"},A={class:"token-rating"},X={class:"token-details"},I={class:"token-description"},R={class:"token-additional-info"},F={class:"info-item"},O={class:"info-item"},W={class:"info-value"},$={class:"info-item"},P={class:"info-value"};function U(e,a,s,U,x,j){const K=(0,t.g2)("router-link"),M=(0,t.g2)("TokenSquad"),B=(0,t.g2)("AppToast");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",l,[(0,t.Lk)("div",i,[a[8]||(a[8]=(0,t.Lk)("h1",null,"Token Details",-1)),(0,t.Lk)("div",r,[(0,t.bF)(K,{to:"/meme-token-launch",class:"breadcrumb-link"},{default:(0,t.k6)((()=>a[3]||(a[3]=[(0,t.eW)("Create")]))),_:1}),a[5]||(a[5]=(0,t.Lk)("span",{class:"breadcrumb-separator"},"/",-1)),(0,t.bF)(K,{to:"/tokens",class:"breadcrumb-link"},{default:(0,t.k6)((()=>a[4]||(a[4]=[(0,t.eW)("Tokens")]))),_:1}),a[6]||(a[6]=(0,t.Lk)("span",{class:"breadcrumb-separator"},"/",-1)),a[7]||(a[7]=(0,t.Lk)("span",{class:"breadcrumb-current"},"Details",-1))])])]),(0,t.Lk)("div",u,[x.loading?((0,t.uX)(),(0,t.CE)("div",d,a[9]||(a[9]=[(0,t.Lk)("div",{class:"spinner"},null,-1),(0,t.Lk)("p",null,"Loading token information...",-1)]))):x.error?((0,t.uX)(),(0,t.CE)("div",c,[a[11]||(a[11]=(0,t.Lk)("div",{class:"error-icon"},"!",-1)),a[12]||(a[12]=(0,t.Lk)("h2",null,"Error Loading Token",-1)),(0,t.Lk)("p",null,(0,o.v_)(x.error),1),(0,t.bF)(K,{to:"/tokens",class:"back-button"},{default:(0,t.k6)((()=>a[10]||(a[10]=[(0,t.eW)("Back to Tokens")]))),_:1})])):x.tokenData?((0,t.uX)(),(0,t.CE)("div",k,[(0,t.Lk)("div",v,[(0,t.Lk)("div",h,[(0,t.Lk)("div",m,[x.tokenData.logoUrl?((0,t.uX)(),(0,t.CE)("img",{key:0,src:x.tokenData.logoUrl,alt:"Token Logo"},null,8,L)):((0,t.uX)(),(0,t.CE)("div",g,(0,o.v_)(x.tokenData.symbol),1))]),(0,t.Lk)("div",f,[(0,t.Lk)("h2",p,(0,o.v_)(x.tokenData.name),1),(0,t.Lk)("div",b,(0,o.v_)(x.tokenData.symbol),1),(0,t.Lk)("div",w,[a[13]||(a[13]=(0,t.Lk)("strong",null,"Mint:",-1)),x.tokenData.mint?((0,t.uX)(),(0,t.CE)("span",y,(0,o.v_)(x.tokenData.mint),1)):((0,t.uX)(),(0,t.CE)("span",T,"Squad bank collection in progress before launch"))]),(0,t.Lk)("div",E,[(0,t.Lk)("small",null,"Token ID: "+(0,o.v_)(x.tokenData.tokenId),1)]),(0,t.Lk)("div",_,[x.tokenData.site?((0,t.uX)(),(0,t.CE)("a",{key:0,href:x.tokenData.site,target:"_blank",class:"token-link"},a[14]||(a[14]=[(0,t.Lk)("i",{class:"fas fa-globe"},null,-1),(0,t.eW)(" Site ")]),8,D)):(0,t.Q3)("",!0),x.tokenData.twitter?((0,t.uX)(),(0,t.CE)("a",{key:1,href:`https://twitter.com/${x.tokenData.twitter}`,target:"_blank",class:"token-link"},a[15]||(a[15]=[(0,t.Lk)("i",{class:"fab fa-twitter"},null,-1),(0,t.eW)(" Twitter ")]),8,C)):(0,t.Q3)("",!0),x.tokenData.telegram?((0,t.uX)(),(0,t.CE)("a",{key:2,href:`https://t.me/${x.tokenData.telegram}`,target:"_blank",class:"token-link"},a[16]||(a[16]=[(0,t.Lk)("i",{class:"fab fa-telegram"},null,-1),(0,t.eW)(" Telegram ")]),8,S)):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",q,[(0,t.Lk)("div",A,[(0,t.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>j.handleLike&&j.handleLike(...e)),class:(0,o.C4)(["rating-btn like-btn",{active:j.hasUserLiked}])},[a[17]||(a[17]=(0,t.Lk)("i",{class:"fas fa-thumbs-up"},null,-1)),(0,t.Lk)("span",null,(0,o.v_)(x.tokenData.likes||0),1)],2),(0,t.Lk)("button",{onClick:a[1]||(a[1]=(...e)=>j.handleDislike&&j.handleDislike(...e)),class:(0,o.C4)(["rating-btn dislike-btn",{active:j.hasUserDisliked}])},[a[18]||(a[18]=(0,t.Lk)("i",{class:"fas fa-thumbs-down"},null,-1)),(0,t.Lk)("span",null,(0,o.v_)(x.tokenData.dislikes||0),1)],2)])])]),(0,t.Lk)("div",X,[(0,t.Lk)("div",I,[a[19]||(a[19]=(0,t.Lk)("h3",null,"Description",-1)),(0,t.Lk)("p",null,(0,o.v_)(x.tokenData.description||"No description provided"),1)]),(0,t.Lk)("div",R,[(0,t.Lk)("div",F,[a[20]||(a[20]=(0,t.Lk)("span",{class:"info-label"},"Creator:",-1)),(0,t.bF)(K,{to:"/player/"+x.tokenData.userTag,class:"info-value"},{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(x.tokenData.userTag||"Unknown"),1)])),_:1},8,["to"])]),(0,t.Lk)("div",O,[a[21]||(a[21]=(0,t.Lk)("span",{class:"info-label"},"Created:",-1)),(0,t.Lk)("span",W,(0,o.v_)(j.formatDate(x.tokenData.createdAt)),1)]),(0,t.Lk)("div",$,[a[22]||(a[22]=(0,t.Lk)("span",{class:"info-label"},"Squad Lock Time:",-1)),(0,t.Lk)("span",P,(0,o.v_)(x.tokenData.unlockVia||"Not specified"),1)])])])]),(0,t.bF)(M,{tokenId:j.tokenId,userTag:x.userTag,onJoined:j.handleSquadJoined},null,8,["tokenId","userTag","onJoined"])])):(0,t.Q3)("",!0)]),(0,t.bF)(B,{show:x.toast.show,message:x.toast.message,type:x.toast.type,onClose:a[2]||(a[2]=e=>x.toast.show=!1),duration:x.toast.duration},null,8,["show","message","type","duration"])])}var x=s(94373),j=(s(98992),s(72577),s(90144)),K=s(45130),M=(s(86659),s(75290)),B=s(68881),Q=s(94348),Y=s(90712)["Buffer"];const V={class:"token-squad"},J={key:0,class:"loading"},N={key:1,class:"error"},H={key:2,class:"squad-container"},z={class:"squad-header"},G={class:"squad-stats"},Z={class:"stat-item"},ee={class:"stat-value"},ae={class:"stat-item"},se={class:"stat-value"},te={key:0,class:"join-squad"},oe={class:"join-form"},ne={class:"form-group"},le={class:"amount-buttons"},ie=["onClick","disabled"],re={class:"input-with-icon"},ue=["disabled"],de=["disabled"],ce={key:0},ke={key:1},ve={class:"commission-info"},he={key:1,class:"wallet-notice"},me={key:2,class:"already-joined"},Le={class:"user-contribution"},ge={class:"members-table"},fe={key:0,class:"squad-cards"},pe={class:"card-header"},be={class:"card-body"},we={class:"card-row"},ye={class:"card-value wallet"},Te={class:"card-row"},Ee={class:"card-value amount"},_e={class:"card-row"},De={class:"card-value"},Ce={key:0,class:"card-row"},Se=["href"],qe={key:0,class:"modal"},Ae={class:"modal-content"},Xe={class:"modal-header"},Ie={class:"modal-footer"},Re={key:1,class:"modal"},Fe={class:"modal-content"},Oe={class:"modal-header"},We={key:0,class:"transaction-info"},$e=["href"],Pe={class:"modal-footer"};var Ue={__name:"TokenSquad",props:{tokenId:{type:String,required:!0},userTag:{type:String,default:""}},emits:["joined"],setup(e,{emit:a}){const s=e,n=a,l=(0,j.KR)({members:[]}),i=(0,j.KR)({}),r=(0,j.KR)(!0),u=(0,j.KR)(""),d=(0,j.KR)(.01),c=(0,j.KR)(!1),k=(0,j.KR)(!1),v=(0,t.EW)((()=>{const e=d.value,a=.1*e,s=.002,t=e+a+s;return t.toFixed(3)})),h=(0,j.KR)(!1),m=(0,j.KR)(!1),L=(0,j.KR)({title:"",message:"",type:"success",txSignature:""}),g=(0,j.KR)(0),f=(0,t.EW)((()=>B.A.getters.walletAddress)),p=(0,t.EW)((()=>!!f.value)),b=(0,t.EW)((()=>{if(!l.value.members||!s.userTag)return!1;const e=l.value.members.find((e=>e.userTag===s.userTag));return!!e}));(0,t.wB)((()=>l.value.members),(e=>{if(e&&s.userTag){const a=e.find((e=>e.userTag===s.userTag));a&&(g.value=a.lamports/M.LAMPORTS_PER_SOL)}}),{immediate:!0});const w=(0,t.EW)((()=>p.value&&d.value>=.01&&!b.value));(0,t.sV)((async()=>{await y()}));const y=async()=>{r.value=!0,u.value="";try{const e=await x.A.get(`/token/${s.tokenId}/squad`);e.data.success?(i.value=e.data.tokenLaunch,l.value=e.data.squad):u.value=e.data.message||"Failed to load squad data"}catch(e){Q.error("Error loading squad data:",e),u.value=e.response?.data?.message||"Error loading squad data"}finally{r.value=!1}},T=e=>e?`${e.substring(0,4)}...${e.substring(e.length-4)}`:"",E=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",_=(e,a,s="success",t="")=>{L.value={title:e,message:a,type:s,txSignature:t},m.value=!0},D=e=>parseFloat(e).toFixed(3),C=async()=>{if(w.value&&!c.value){c.value=!0;try{if(!f.value)throw new Error("Wallet not connected");const e=await x.A.post(`/token/${s.tokenId}/squad/transaction`,{lamports:d.value*M.LAMPORTS_PER_SOL,wallet:f.value,tokenId:s.tokenId});if(e.data.success){const{serializedTransaction:a,lamports:t,feeAmount:o,totalLamports:l}=e.data;Q.log("Transaction data from server:",{lamports:t,feeAmount:o,totalLamports:l});const i=new M.Connection({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_SOLANA_RPC_URL||"https://sleek-icy-frog.solana-mainnet.quiknode.pro/9d4845e2d4c60caf45dc4f10d0bdcfdbcd6a321c/"),{blockhash:r,lastValidBlockHeight:u}=await i.getLatestBlockhash("finalized");Q.log("Got blockhash from client:",{blockhash:r,lastValidBlockHeight:u});const c=M.Transaction.from(Y.from(a,"base64"));if(c.recentBlockhash=r,c.lastValidBlockHeight=u,!window.solana)throw new Error("Phantom wallet not found");const k=await window.solana.signTransaction(c),v=await i.sendRawTransaction(k.serialize());Q.log("Transaction sent with signature:",v);const h=await i.confirmTransaction({signature:v,blockhash:r,lastValidBlockHeight:u},"confirmed");Q.log("Transaction confirmation:",h);const m=await x.A.post(`/token/${s.tokenId}/squad/verify`,{transaction:v,lamports:d.value*M.LAMPORTS_PER_SOL,wallet:f.value});m.data.success?(_("Success","Successfully joined the squad!","success",v),y(),n("joined")):_("Failed to Join",`Failed to join squad: ${m.data.message}`,"error")}else _("Transaction Error",`Failed to create transaction: ${e.data.message}`,"error")}catch(u){Q.error("Error joining squad:",u),_("Error",`Error joining squad: ${u.message}`,"error")}finally{c.value=!1}}},S=async()=>{try{if(!p.value||!b.value)return void _("Error","You are not a member of this squad","error");k.value=!0,h.value=!1;const e=await x.A.post(`/token/${s.tokenId}/squad/leave`);if(e.data.success){const{txSignature:a}=e.data;_("Success","You have successfully left the squad. Your funds (minus network fees) have been returned to your wallet.","success",a),y()}else _("Failed to Leave",`Failed to leave squad: ${e.data.message}`,"error")}catch(u){Q.error("Error leaving squad:",u),_("Error",`Error leaving squad: ${u.response.data.message}`,"error")}finally{k.value=!1}};return(e,a)=>{const s=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",V,[r.value?((0,t.uX)(),(0,t.CE)("div",J,a[6]||(a[6]=[(0,t.Lk)("div",{class:"spinner"},null,-1),(0,t.Lk)("p",null,"Loading squad information...",-1)]))):u.value?((0,t.uX)(),(0,t.CE)("div",N,[(0,t.Lk)("p",null,(0,o.v_)(u.value),1)])):((0,t.uX)(),(0,t.CE)("div",H,[(0,t.Lk)("div",z,[a[9]||(a[9]=(0,t.Lk)("h2",null,"Squad Members",-1)),(0,t.Lk)("div",G,[(0,t.Lk)("div",Z,[(0,t.Lk)("span",ee,(0,o.v_)(l.value.totalMembers||0),1),a[7]||(a[7]=(0,t.Lk)("span",{class:"stat-label"},"Members",-1))]),(0,t.Lk)("div",ae,[(0,t.Lk)("span",se,(0,o.v_)(D(i.value.currentSquadLamports/(0,j.R1)(M.LAMPORTS_PER_SOL)||0)),1),a[8]||(a[8]=(0,t.Lk)("span",{class:"stat-label"},"Total SOL",-1))])])]),!b.value&&p.value?((0,t.uX)(),(0,t.CE)("div",te,[a[14]||(a[14]=(0,t.Lk)("h3",null,"Join the Squad",-1)),(0,t.Lk)("div",oe,[(0,t.Lk)("div",ne,[a[11]||(a[11]=(0,t.Lk)("label",{for:"solAmount"},"SOL Amount",-1)),(0,t.Lk)("div",le,[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)([.01,.05,.1,.2,.25],(e=>(0,t.Lk)("button",{key:e,type:"button",class:(0,o.C4)(["amount-button",{active:d.value===e}]),onClick:a=>d.value=e,disabled:c.value},(0,o.v_)(e)+" SOL ",11,ie))),64))]),(0,t.Lk)("div",re,[(0,t.bo)((0,t.Lk)("input",{type:"number",id:"solAmount","onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),min:"0.01",max:"0.25",step:"0.01",class:"form-control",disabled:c.value},null,8,ue),[[K.Jo,d.value]]),a[10]||(a[10]=(0,t.Lk)("span",{class:"input-icon"},"SOL",-1))]),a[12]||(a[12]=(0,t.Lk)("small",{class:"form-text"},"Minimum amount: 0.01 SOL | Maximum amount: 0.25 SOL",-1))]),(0,t.Lk)("button",{onClick:C,class:"join-button",disabled:!w.value||c.value},[c.value?((0,t.uX)(),(0,t.CE)("span",ce,a[13]||(a[13]=[(0,t.Lk)("div",{class:"button-spinner"},null,-1),(0,t.eW)(" Processing... ")]))):((0,t.uX)(),(0,t.CE)("span",ke,"Join Squad"))],8,de),(0,t.Lk)("div",ve,[(0,t.Lk)("p",null,"You will pay "+(0,o.v_)(v.value)+" SOL including fees (referral system 5%, our commission 5%, Associated Token Account creation 0.002 SOL)",1)])])])):p.value?b.value?((0,t.uX)(),(0,t.CE)("div",me,[a[18]||(a[18]=(0,t.Lk)("div",{class:"success-icon"},"✓",-1)),a[19]||(a[19]=(0,t.Lk)("p",null,"You've already joined this squad!",-1)),(0,t.Lk)("div",Le,[a[17]||(a[17]=(0,t.Lk)("span",null,"Your contribution: ",-1)),(0,t.Lk)("strong",null,(0,o.v_)(D(g.value))+" SOL",1)]),(0,t.Lk)("button",{class:"leave-squad-button",onClick:a[1]||(a[1]=e=>h.value=!0)}," Leave Squad ")])):(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",he,[a[16]||(a[16]=(0,t.Lk)("p",null,"Connect your wallet to join the squad",-1)),(0,t.bF)(s,{to:"/my"},{default:(0,t.k6)((()=>a[15]||(a[15]=[(0,t.eW)("Connect Wallet")]))),_:1})])),(0,t.Lk)("div",ge,[(0,t.Lk)("h3",null,(0,o.v_)(l.value.members&&l.value.members.length?"Members":"No members yet"),1),l.value.members&&l.value.members.length>0?((0,t.uX)(),(0,t.CE)("div",fe,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.value.members,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.transaction,class:"squad-card"},[(0,t.Lk)("div",pe,[(0,t.bF)(s,{to:`/player/${e.userTag}`,class:"card-user"},{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(e.userTag),1)])),_:2},1032,["to"]),(0,t.Lk)("span",{class:(0,o.C4)(["status-badge",e.confirmed?"confirmed":"pending"])},(0,o.v_)(e.confirmed?"Confirmed":"Pending"),3)]),(0,t.Lk)("div",be,[(0,t.Lk)("div",we,[a[20]||(a[20]=(0,t.Lk)("span",{class:"card-label"},"Wallet:",-1)),(0,t.Lk)("span",ye,(0,o.v_)(T(e.wallet)),1)]),(0,t.Lk)("div",Te,[a[21]||(a[21]=(0,t.Lk)("span",{class:"card-label"},"Amount:",-1)),(0,t.Lk)("span",Ee,(0,o.v_)(D(e.lamports/(0,j.R1)(M.LAMPORTS_PER_SOL)))+" SOL",1)]),(0,t.Lk)("div",_e,[a[22]||(a[22]=(0,t.Lk)("span",{class:"card-label"},"Date:",-1)),(0,t.Lk)("span",De,(0,o.v_)(E(e.createdAt)),1)]),e.transaction?((0,t.uX)(),(0,t.CE)("div",Ce,[a[24]||(a[24]=(0,t.Lk)("span",{class:"card-label"},"TX:",-1)),(0,t.Lk)("a",{href:`https://solscan.io/tx/${e.transaction}`,target:"_blank",class:"card-value tx-link"},[(0,t.eW)((0,o.v_)(T(e.transaction))+" ",1),a[23]||(a[23]=(0,t.Lk)("i",{class:"fas fa-external-link-alt"},null,-1))],8,Se)])):(0,t.Q3)("",!0)])])))),128))])):(0,t.Q3)("",!0)])]))]),h.value?((0,t.uX)(),(0,t.CE)("div",qe,[(0,t.Lk)("div",Ae,[(0,t.Lk)("div",Xe,[a[25]||(a[25]=(0,t.Lk)("h3",null,"Leave Squad Confirmation",-1)),(0,t.Lk)("button",{class:"close-button",onClick:a[2]||(a[2]=e=>h.value=!1)},"×")]),a[26]||(a[26]=(0,t.Lk)("div",{class:"modal-body"},[(0,t.Lk)("p",null,[(0,t.Lk)("strong",null,"Warning:"),(0,t.eW)(" If you leave the squad:")]),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,"Your funds will be returned to your wallet (minus network fees)"),(0,t.Lk)("li",null,"The transaction fee is non-refundable"),(0,t.Lk)("li",null,[(0,t.eW)("You will "),(0,t.Lk)("strong",null,"not"),(0,t.eW)(" receive any tokens from this project after launch")])]),(0,t.Lk)("p",null,"Are you sure you want to leave this squad?")],-1)),(0,t.Lk)("div",Ie,[(0,t.Lk)("button",{class:"cancel-button",onClick:a[3]||(a[3]=e=>h.value=!1)},"Cancel"),(0,t.Lk)("button",{class:"confirm-button",onClick:S},"Leave Squad")])])])):(0,t.Q3)("",!0),m.value?((0,t.uX)(),(0,t.CE)("div",Re,[(0,t.Lk)("div",Fe,[(0,t.Lk)("div",Oe,[(0,t.Lk)("h3",null,(0,o.v_)(L.value.title),1),(0,t.Lk)("button",{class:"close-button",onClick:a[4]||(a[4]=e=>m.value=!1)},"×")]),(0,t.Lk)("div",{class:(0,o.C4)(["modal-body",L.value.type])},[(0,t.Lk)("p",null,(0,o.v_)(L.value.message),1),L.value.txSignature?((0,t.uX)(),(0,t.CE)("div",We,[a[28]||(a[28]=(0,t.Lk)("p",null,"Transaction:",-1)),(0,t.Lk)("a",{href:`https://solscan.io/tx/${L.value.txSignature}`,target:"_blank",class:"tx-link"},[(0,t.eW)((0,o.v_)(T(L.value.txSignature))+" ",1),a[27]||(a[27]=(0,t.Lk)("i",{class:"fas fa-external-link-alt"},null,-1))],8,$e)])):(0,t.Q3)("",!0)],2),(0,t.Lk)("div",Pe,[(0,t.Lk)("button",{class:"confirm-button",onClick:a[5]||(a[5]=e=>m.value=!1)},"OK")])])])):(0,t.Q3)("",!0)],64)}}},xe=s(71241);const je=(0,xe.A)(Ue,[["__scopeId","data-v-40466b1c"]]);var Ke=je,Me=s(10587),Be=s(94348),Qe={name:"TokenDetailsPage",components:{TokenSquad:Ke,AppToast:Me.A},data(){return{loading:!0,error:"",tokenData:null,userTag:B.A.getters.userTag,toast:{show:!1,message:"",type:"info",duration:3e3}}},computed:{tokenId(){return this.$route.params.tokenId},wallet(){return this.store.getters.walletAddress},hasUserLiked(){return!(!this.tokenData||!this.userTag)&&(this.tokenData.usersLiked&&this.tokenData.usersLiked.includes(this.userTag))},hasUserDisliked(){return!(!this.tokenData||!this.userTag)&&(this.tokenData.usersDislikes&&this.tokenData.usersDislikes.includes(this.userTag))}},async created(){await this.loadTokenData()},methods:{async loadTokenData(){this.loading=!0,this.error="";try{if(!this.tokenId)throw new Error("Token ID is required");const e=await x.A.get(`/token/${this.tokenId}`);if(!e.data.success)throw new Error(e.data.message||"Failed to load token data");this.tokenData=e.data.tokenLaunch}catch(e){Be.error("Error loading token data:",e),this.error=e.response?.data?.message||e.message||"Error loading token data"}finally{this.loading=!1}},async handleLike(){if(this.userTag)try{if(this.hasUserDisliked&&await this.removeDislike(),this.hasUserLiked)return void await this.removeLike();const e=await x.A.post(`/token/${this.tokenId}/like`,{userTag:this.userTag});if(!e.data.success)throw new Error(e.data.message||"Failed to like token");this.tokenData=e.data.tokenLaunch,this.showToast("You liked this token!","success")}catch(e){Be.error("Error liking token:",e),this.showToast(e.response?.data?.message||e.message||"Error liking token","error")}else this.showToast("Please login to like this token","error")},async handleDislike(){if(this.userTag)try{if(this.hasUserLiked&&await this.removeLike(),this.hasUserDisliked)return void await this.removeDislike();const e=await x.A.post(`/token/${this.tokenId}/dislike`,{userTag:this.userTag});if(!e.data.success)throw new Error(e.data.message||"Failed to dislike token");this.tokenData=e.data.tokenLaunch,this.showToast("You disliked this token","info")}catch(e){Be.error("Error disliking token:",e),this.showToast(e.response?.data?.message||e.message||"Error disliking token","error")}else this.showToast("Please login to dislike this token","error")},async removeLike(){try{const e=await x.A.post(`/token/${this.tokenId}/unlike`,{userTag:this.userTag});if(!e.data.success)throw new Error(e.data.message||"Failed to remove like");this.tokenData=e.data.tokenLaunch,this.showToast("Like removed","info")}catch(e){Be.error("Error removing like:",e),this.showToast(e.response?.data?.message||e.message||"Error removing like","error")}},async removeDislike(){try{const e=await x.A.post(`/token/${this.tokenId}/undislike`,{userTag:this.userTag});if(!e.data.success)throw new Error(e.data.message||"Failed to remove dislike");this.tokenData=e.data.tokenLaunch,this.showToast("Dislike removed","info")}catch(e){Be.error("Error removing dislike:",e),this.showToast(e.response?.data?.message||e.message||"Error removing dislike","error")}},formatDate(e){if(!e)return"N/A";const a=new Date(e);return a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},showToast(e,a="info"){this.toast.show=!0,this.toast.message=e,this.toast.type=a,this.toast.duration=3e3},handleSquadJoined(e){Be.log("Successfully joined squad:",e),this.showToast("Successfully joined the squad!","success")}}};const Ye=(0,xe.A)(Qe,[["render",U],["__scopeId","data-v-08f6903f"]]);var Ve=Ye}}]);
//# sourceMappingURL=5217.2fff2d4a.js.map