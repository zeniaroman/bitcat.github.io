"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[251],{8460:function(t,e,n){var r=n(5072),i=n(7774),o=n(1719)(),s=n(9576),a=n(9340),c=r("%Math.floor%");t.exports=function(t,e){if("function"!==typeof t)throw new a("`fn` is not a function");if("number"!==typeof e||e<0||e>4294967295||c(e)!==e)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,l=!0;if("length"in t&&s){var u=s(t,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(l=!1)}return(r||l||!n)&&(o?i(t,"length",e,!0,!0):i(t,"length",e)),t}},9559:function(t,e,n){n.d(e,{v:function(){return r}});n(4114);function r(t){if(t)return i(t)}function i(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);r=0;for(var i=n.length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.emitReserved=r.prototype.emit,r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},8001:function(t,e,n){n.d(e,{io:function(){return N}});var r={};n.r(r),n.d(r,{Decoder:function(){return A},Encoder:function(){return E},PacketType:function(){return b},protocol:function(){return m}});var i=n(7408);function o(t,e="",n){let r=t;n=n||"undefined"!==typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t="undefined"!==typeof n?n.protocol+"//"+t:"https://"+t),r=(0,i.qg)(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":"),s=o?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}n(4114),n(8992),n(3949),n(9479),n(7550);var s=n(9559);n(6573),n(8100),n(7936);const a="function"===typeof ArrayBuffer,c=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,l=Object.prototype.toString,u="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===l.call(Blob),h="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===l.call(File);function f(t){return a&&(t instanceof ArrayBuffer||c(t))||u&&t instanceof Blob||h&&t instanceof File}function d(t,e){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(d(t[e]))return!0;return!1}if(f(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return d(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&d(t[n]))return!0;return!1}function p(t){const e=[],n=t.data,r=t;return r.data=y(n,e),r.attachments=e.length,{packet:r,buffers:e}}function y(t,e){if(!t)return t;if(f(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=y(t[r],e);return n}if("object"===typeof t&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=y(t[r],e));return n}return t}function g(t,e){return t.data=w(t.data,e),delete t.attachments,t}function w(t,e){if(!t)return t;if(t&&!0===t._placeholder){const n="number"===typeof t.num&&t.num>=0&&t.num<e.length;if(n)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=w(t[n],e);else if("object"===typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=w(t[n],e));return t}const v=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],m=5;var b;(function(t){t[t["CONNECT"]=0]="CONNECT",t[t["DISCONNECT"]=1]="DISCONNECT",t[t["EVENT"]=2]="EVENT",t[t["ACK"]=3]="ACK",t[t["CONNECT_ERROR"]=4]="CONNECT_ERROR",t[t["BINARY_EVENT"]=5]="BINARY_EVENT",t[t["BINARY_ACK"]=6]="BINARY_ACK"})(b||(b={}));class E{constructor(t){this.replacer=t}encode(t){return t.type!==b.EVENT&&t.type!==b.ACK||!d(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===b.EVENT?b.BINARY_EVENT:b.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==b.BINARY_EVENT&&t.type!==b.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=p(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}function _(t){return"[object Object]"===Object.prototype.toString.call(t)}class A extends s.v{constructor(t){super(),this.reviver=t}add(t){let e;if("string"===typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===b.BINARY_EVENT;n||e.type===b.BINARY_ACK?(e.type=n?b.EVENT:b.ACK,this.reconstructor=new k(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!f(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===b[n.type])throw new Error("unknown packet type "+n.type);if(n.type===b.BINARY_EVENT||n.type===b.BINARY_ACK){const r=e+1;while("-"!==t.charAt(++e)&&e!=t.length);const i=t.substring(r,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(e+1)){const r=e+1;while(++e){const n=t.charAt(e);if(","===n)break;if(e===t.length)break}n.nsp=t.substring(r,e)}else n.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const r=e+1;while(++e){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=this.tryParse(t.substr(e));if(!A.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(e){return!1}}static isPayloadValid(t,e){switch(t){case b.CONNECT:return _(e);case b.DISCONNECT:return void 0===e;case b.CONNECT_ERROR:return"string"===typeof e||_(e);case b.EVENT:case b.BINARY_EVENT:return Array.isArray(e)&&("number"===typeof e[0]||"string"===typeof e[0]&&-1===v.indexOf(e[0]));case b.ACK:case b.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class k{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=g(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function O(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const R=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class T extends s.v{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[O(t,"open",this.onopen.bind(this)),O(t,"packet",this.onpacket.bind(this)),O(t,"error",this.onerror.bind(this)),O(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io["_reconnecting"]||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var n,r,i;if(R.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const o={type:b.EVENT,data:e,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof e[e.length-1]){const t=this.ids++,n=e.pop();this._registerAckCallback(t,n),o.id=t}const s=null===(r=null===(n=this.io.engine)||void 0===n?void 0:n.transport)||void 0===r?void 0:r.writable,a=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired()),c=this.flags.volatile&&!s;return c||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,e){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[t]=e);const i=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),r),o=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,t)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...e){return new Promise(((n,r)=>{const i=(t,e)=>t?r(t):n(e);i.withError=!0,e.push(i),this.emit(t,...e)}))}_addToQueue(t){let e;"function"===typeof t[t.length-1]&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...r)=>{if(n!==this._queue[0])return;const i=null!==t;return i?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:b.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{const e=this.sendBuffer.some((e=>String(e.id)===t));if(!e){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}}))}onpacket(t){const e=t.nsp===this.nsp;if(e)switch(t.type){case b.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case b.EVENT:case b.BINARY_EVENT:this.onevent(t);break;case b.ACK:case b.BINARY_ACK:this.onack(t);break;case b.DISCONNECT:this.ondisconnect();break;case b.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e);break}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"===typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...r){n||(n=!0,e.packet({type:b.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"===typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io["_destroy"](this)}disconnect(){return this.connected&&this.packet({type:b.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function B(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}B.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},B.prototype.reset=function(){this.attempts=0},B.prototype.setMin=function(t){this.ms=t},B.prototype.setMax=function(t){this.max=t},B.prototype.setJitter=function(t){this.jitter=t};class S extends s.v{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,(0,i._7)(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new B({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const o=e.parser||r;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new i.yQ(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=O(e,"open",(function(){n.onopen(),t&&t()})),o=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},s=O(e,"error",o);if(!1!==this._timeout){const t=this._timeout,n=this.setTimeoutFn((()=>{r(),o(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(O(t,"ping",this.onping.bind(this)),O(t,"data",this.ondata.bind(this)),O(t,"error",this.onerror.bind(this)),O(t,"close",this.onclose.bind(this)),O(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){(0,i.dY)((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new T(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e){const t=this.nsps[n];if(t.active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const C={};function N(t,e){"object"===typeof t&&(e=t,t=void 0),e=e||{};const n=o(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=C[i]&&s in C[i]["nsps"],c=e.forceNew||e["force new connection"]||!1===e.multiplex||a;let l;return c?l=new S(r,e):(C[i]||(C[i]=new S(r,e)),l=C[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(N,{Manager:S,Socket:T,io:N,connect:N})},6659:function(t,e,n){n.d(e,{GZ:function(){return tn},vT:function(){return Xe},xO:function(){return xn}});n(4114),n(6573),n(8100),n(7936),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(7467),n(4732),n(9577),n(8992),n(4520),n(2577),n(3949),n(1454),n(7550),n(4979),n(4603),n(7566),n(8721);var r=n(4232),i=n(921),o=n(208),s=n(4061),a=n(5290),c=n(1737),l=n(4348),u=Object.defineProperty,h=(t,e,n)=>e in t?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,f=(t,e,n)=>(h(t,"symbol"!==typeof e?e+"":e,n),n);class d extends r.m7{constructor(){super(...arguments),f(this,"name","WalletNotSelectedError")}}class p extends r.m7{constructor(){super(...arguments),f(this,"name","WalletNotSelectedError")}}const y={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND"};class g extends Error{constructor(...t){const[e,n,r]=t;super(n),this.code=e,this.data=r,this.name="SolanaMobileWalletAdapterError"}}class w extends Error{constructor(...t){const[e,n,r,i]=t;super(r),this.code=n,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function v(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function m(t,e){return v(this,void 0,void 0,(function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i}))}const b=4;function E(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(b),n=new DataView(e);return n.setUint32(0,t,!1),new Uint8Array(e)}function _(){return v(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}))}function A(){return v(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])}))}const k=12;function O(t,e){return v(this,void 0,void 0,(function*(){const n=JSON.stringify(t),r=E(t.id),i=new Uint8Array(k);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(T(r,i),e,(new TextEncoder).encode(n)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s}))}function R(t,e){return v(this,void 0,void 0,(function*(){const n=t.slice(0,b),r=t.slice(b,b+k),i=t.slice(b+k),o=yield crypto.subtle.decrypt(T(n,r),e,i),s=S().decode(o),a=JSON.parse(s);if(Object.hasOwnProperty.call(a,"error"))throw new w(a.id,a.error.code,a.error.message);return a}))}function T(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let B;function S(){return void 0===B&&(B=new TextDecoder("utf-8")),B}function C(t,e,n){return v(this,void 0,void 0,(function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t,{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]),a=yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"]);return a}))}function N(){return I(49152+Math.floor(16384*Math.random()))}function I(t){if(t<49152||t>65535)throw new g(y.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function L(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function U(t){return t.replace(/[/+=]/g,(t=>({"/":"_","+":"-","=":"."}[t])))}const M="solana-wallet";function P(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function x(t,e){let n=null;if(e){try{n=new URL(e)}catch(i){}if("https:"!==(null===n||void 0===n?void 0:n.protocol))throw new g(y.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${M}:/`));const r=t.startsWith("/")?t:[...P(n.pathname),...P(t)].join("/");return new URL(r,n)}function j(t,e,n){return v(this,void 0,void 0,(function*(){const r=I(e),i=yield crypto.subtle.exportKey("raw",t),o=L(i),s=x("v1/associate/local",n);return s.searchParams.set("association",U(o)),s.searchParams.set("port",`${r}`),s}))}const z={Firefox:0,Other:1};function D(t){return t}function W(){return-1!==navigator.userAgent.indexOf("Firefox/")?z.Firefox:z.Other}function F(){return new Promise(((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout((()=>{n(),e()}),2e3)}))}let K=null;function V(t){null==K&&(K=document.createElement("iframe"),K.style.display="none",document.body.appendChild(K)),K.contentWindow.location.href=t.toString()}function $(t,e){return v(this,void 0,void 0,(function*(){const n=N(),r=yield j(t,n,e);if("https:"===r.protocol)window.location.assign(r);else try{const t=W();switch(t){case z.Firefox:V(r);break;case z.Other:{const t=F();window.location.assign(r),yield t;break}default:D(t)}}catch(i){throw new g(y.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}return n}))}const Y={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},G="com.solana.mobilewalletadapter.v1";function q(){if("undefined"===typeof window||!0!==window.isSecureContext)throw new g(y.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Q(t){let e;try{e=new URL(t)}catch(n){throw new g(y.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if("https:"!==e.protocol)throw new g(y.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function J(t){const e=new DataView(t);return e.getUint32(0,!1)}function Z(t,e){return v(this,void 0,void 0,(function*(){q();const n=yield _(),r=yield $(n.publicKey,null===e||void 0===e?void 0:e.baseUri),i=`ws://localhost:${r}/solana-wallet`;let o;const s=(()=>{const t=[...Y.retryDelayScheduleMs];return()=>t.length>1?t.shift():t[0]})();let a=1,c=0,u={__type:"disconnected"};return new Promise(((e,h)=>{let f;const d={},p=()=>v(this,void 0,void 0,(function*(){if("connecting"!==u.__type)return void l.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);const{associationKeypair:t}=u;f.removeEventListener("open",p);const e=yield A();f.send(yield m(e.publicKey,t.privateKey)),u={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:e.privateKey}})),E=t=>{t.wasClean?u={__type:"disconnected"}:h(new g(y.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${t.code}: ${t.reason}).`,{closeEvent:t})),T()},_=t=>v(this,void 0,void 0,(function*(){T(),Date.now()-o>=Y.timeoutMs?h(new g(y.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${r}.`)):(yield new Promise((t=>{const e=s();B=window.setTimeout(t,e)})),S())})),k=n=>v(this,void 0,void 0,(function*(){const r=yield n.data.arrayBuffer();switch(u.__type){case"connected":try{const t=r.slice(0,b),e=J(t);if(e!==c+1)throw new Error("Encrypted message has invalid sequence number");c=e;const n=yield R(r,u.sharedSecret),i=d[n.id];delete d[n.id],i.resolve(n.result)}catch(i){if(!(i instanceof w))throw i;{const t=d[i.jsonRpcMessageId];delete d[i.jsonRpcMessageId],t.reject(i)}}break;case"hello_req_sent":{const n=yield C(r,u.associationPublicKey,u.ecdhPrivateKey);u={__type:"connected",sharedSecret:n};const o=new Proxy({},{get(t,e){if(null==t[e]){const r=e.toString().replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`)).toLowerCase();t[e]=function(t){return v(this,void 0,void 0,(function*(){const o=a++;return f.send(yield O({id:o,jsonrpc:"2.0",method:r,params:null!==t&&void 0!==t?t:{}},n)),new Promise(((t,n)=>{d[o]={resolve(r){switch(e){case"authorize":case"reauthorize":{const{wallet_uri_base:t}=r;if(null!=t)try{Q(t)}catch(i){return void n(i)}break}}t(r)},reject:n}}))}))}}return t[e]},defineProperty(){return!1},deleteProperty(){return!1}});try{e(yield t(o))}catch(i){h(i)}finally{T(),f.close()}break}}}));let T,B;const S=()=>{T&&T(),u={__type:"connecting",associationKeypair:n},void 0===o&&(o=Date.now()),f=new WebSocket(i,[G]),f.addEventListener("open",p),f.addEventListener("close",E),f.addEventListener("error",_),f.addEventListener("message",k),T=()=>{window.clearTimeout(B),f.removeEventListener("open",p),f.removeEventListener("close",E),f.removeEventListener("error",_),f.removeEventListener("message",k)}};S()}))}))}function H(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";var n=0,r=0,i=0,o=e.length;while(i!==o&&0===e[i])i++,n++;var c=(o-i)*l+1>>>0,u=new Uint8Array(c);while(i!==o){for(var h=e[i],f=0,d=c-1;(0!==h||f<r)&&-1!==d;d--,f++)h+=256*u[d]>>>0,u[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");r=f,i++}var p=c-r;while(p!==c&&0===u[p])p++;for(var y=a.repeat(n);p<c;++p)y+=t.charAt(u[p]);return y}function h(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var n=0,r=0,i=0;while(t[n]===a)r++,n++;var o=(t.length-n)*c+1>>>0,l=new Uint8Array(o);while(t[n]){var u=e[t.charCodeAt(n)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*l[f]>>>0,l[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,n++}var d=o-i;while(d!==o&&0===l[d])d++;var p=new Uint8Array(r+(o-d)),y=r;while(d!==o)p[y++]=l[d++];return p}function f(t){var e=h(t);if(e)return e;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:h,decode:f}}var X=H;const tt=X,et="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var nt=tt(et);function rt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function it(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function ot(t){return window.btoa(String.fromCharCode.call(null,...t))}function st(t){return new Uint8Array(window.atob(t).split("").map((t=>t.charCodeAt(0))))}function at(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1}),n=ot(e);return n}function ct(t){const e=t[0],n=e*a.P3+1,r=a.B2.deserializeMessageVersion(t.slice(n,t.length));return"legacy"===r?a.ZX.from(t):a.Kt.deserialize(t)}function lt(t,e){return it(this,void 0,void 0,(function*(){const n=e=>{const n=new Proxy({},{get(t,n){if(null==t[n])switch(n){case"signAndSendTransactions":t[n]=function(t){var{minContextSlot:n,transactions:r}=t,i=rt(t,["minContextSlot","transactions"]);return it(this,void 0,void 0,(function*(){const t=r.map(at),{signatures:o}=yield e.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},i),null!=n?{options:{min_context_slot:n}}:null),{payloads:t})),s=o.map(st).map(nt.encode);return s}))};break;case"signMessages":t[n]=function(t){var{payloads:n}=t,r=rt(t,["payloads"]);return it(this,void 0,void 0,(function*(){const t=n.map(ot),{signed_payloads:i}=yield e.signMessages(Object.assign(Object.assign({},r),{payloads:t})),o=i.map(st);return o}))};break;case"signTransactions":t[n]=function(t){var{transactions:n}=t,r=rt(t,["transactions"]);return it(this,void 0,void 0,(function*(){const t=n.map(at),{signed_payloads:i}=yield e.signTransactions(Object.assign(Object.assign({},r),{payloads:t})),o=i.map(st),s=o.map(ct);return s}))};break;default:t[n]=e[n];break}return t[n]},defineProperty(){return!1},deleteProperty(){return!1}});return t(n)};return yield Z(n,e)}))}function ut(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function ht(t){return new Uint8Array(window.atob(t).split("").map((t=>t.charCodeAt(0))))}function ft(){return"undefined"!==typeof window&&window.isSecureContext&&"undefined"!==typeof document&&/android/i.test(navigator.userAgent)}const dt="Mobile Wallet Adapter",pt=64;function yt(t){const e=ht(t);return new a.J3(e)}function gt(t){return"version"in t}class wt extends i.DE{constructor(t){super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=dt,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=ft()?o.Ok.Loadable:o.Ok.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._cluster=t.cluster,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==o.Ok.Unsupported&&this._authorizationResultCache.get().then((t=>{t&&this.declareWalletAsInstalled()}))}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=yt(this._selectedAddress)}catch(t){throw new r.Kd(t instanceof Error&&(null===t||void 0===t?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==o.Ok.Installed&&this.emit("readyStateChange",this._readyState=o.Ok.Installed)}runWithGuard(t){return ut(this,void 0,void 0,(function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}}))}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return ut(this,void 0,void 0,(function*(){return yield this.autoConnect()}))}autoConnect(){return ut(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>ut(this,void 0,void 0,(function*(){if(this._readyState!==o.Ok.Installed&&this._readyState!==o.Ok.Loadable)throw new r.AE;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new r.Y6(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))))}))}connect(){return ut(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>ut(this,void 0,void 0,(function*(){if(this._readyState!==o.Ok.Installed&&this._readyState!==o.Ok.Loadable)throw new r.AE;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();if(t)return void this.handleAuthorizationResult(t);yield this.transact((t=>ut(this,void 0,void 0,(function*(){const e=yield t.authorize({cluster:this._cluster,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(e),this.handleAuthorizationResult(e)])}))))}catch(t){throw new r.Y6(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))))}))}handleAuthorizationResult(t){var e;return ut(this,void 0,void 0,(function*(){const n=null==this._authorizationResult||(null===(e=this._authorizationResult)||void 0===e?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some(((e,n)=>e.address!==t.accounts[n].address));if(this._authorizationResult=t,this.declareWalletAsInstalled(),n){const e=yield this._addressSelector.select(t.accounts.map((({address:t})=>t)));e!==this._selectedAddress&&(this._selectedAddress=e,delete this._publicKey,this.emit("connect",this.publicKey))}}))}performReauthorization(t,e){return ut(this,void 0,void 0,(function*(){try{const n=yield t.reauthorize({auth_token:e});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new r.PQ(n instanceof Error&&(null===n||void 0===n?void 0:n.message)||"Unknown error",n)}}))}disconnect(){return ut(this,void 0,void 0,(function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")}))}transact(t){var e;return ut(this,void 0,void 0,(function*(){const n=null===(e=this._authorizationResult)||void 0===e?void 0:e.wallet_uri_base,r=n?{baseUri:n}:void 0,i=this._connectionGeneration;try{return yield lt(t,r)}catch(o){throw this._connectionGeneration!==i&&(yield new Promise((()=>{}))),o instanceof Error&&"SolanaMobileWalletAdapterError"===o.name&&"ERROR_WALLET_NOT_FOUND"===o.code&&(yield this._onWalletNotFound(this)),o}}))}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new r.kW;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return ut(this,void 0,void 0,(function*(){const{authToken:e}=this.assertIsAuthorized();try{return yield this.transact((n=>ut(this,void 0,void 0,(function*(){yield this.performReauthorization(n,e);const r=yield n.signTransactions({transactions:t});return r}))))}catch(n){throw new r.z4(null===n||void 0===n?void 0:n.message,n)}}))}sendTransaction(t,e,n){return ut(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ut(this,void 0,void 0,(function*(){const{authToken:i}=this.assertIsAuthorized(),o=null===n||void 0===n?void 0:n.minContextSlot;try{return yield this.transact((r=>ut(this,void 0,void 0,(function*(){function s(){let t,r;switch(e.commitment){case"confirmed":case"finalized":case"processed":t=e.commitment;break;default:t="finalized"}switch(null===n||void 0===n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":r=n.preflightCommitment;break;case void 0:r=t;default:r="finalized"}const i="finalized"===r?2:"confirmed"===r?1:0,o="finalized"===t?2:"confirmed"===t?1:0;return i<o?r:t}const[a,c,l]=yield Promise.all([r.getCapabilities(),this.performReauthorization(r,i),gt(t)?null:(()=>ut(this,void 0,void 0,(function*(){var n;if(t.feePayer||(t.feePayer=null!==(n=this.publicKey)&&void 0!==n?n:void 0),null==t.recentBlockhash){const{blockhash:n}=yield e.getLatestBlockhash({commitment:s()});t.recentBlockhash=n}})))()]);if(a.supports_sign_and_send_transactions){const e=yield r.signAndSendTransactions({minContextSlot:o,transactions:[t]});return e[0]}{const[i]=yield r.signTransactions({transactions:[t]});if(gt(i))return yield e.sendTransaction(i);{const t=i.serialize();return yield e.sendRawTransaction(t,Object.assign(Object.assign({},n),{preflightCommitment:s()}))}}}))))}catch(s){throw new r.UF(null===s||void 0===s?void 0:s.message,s)}}))))}))}signTransaction(t){return ut(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ut(this,void 0,void 0,(function*(){const[e]=yield this.performSignTransactions([t]);return e}))))}))}signAllTransactions(t){return ut(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ut(this,void 0,void 0,(function*(){const e=yield this.performSignTransactions(t);return e}))))}))}signMessage(t){return ut(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ut(this,void 0,void 0,(function*(){const{authToken:e,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact((r=>ut(this,void 0,void 0,(function*(){yield this.performReauthorization(r,e);const[i]=yield r.signMessages({addresses:[n],payloads:[t]}),o=i.slice(-pt);return o}))))}catch(i){throw new r.K3(null===i||void 0===i?void 0:i.message,i)}}))))}))}}function vt(){return{select(t){return ut(this,void 0,void 0,(function*(){return t[0]}))}}}const mt="SolanaMobileWalletAdapterDefaultAuthorizationCache";function bt(){let t;try{t=window.localStorage}catch(e){}return{clear(){return ut(this,void 0,void 0,(function*(){if(t)try{t.removeItem(mt)}catch(e){}}))},get(){return ut(this,void 0,void 0,(function*(){if(t)try{return JSON.parse(t.getItem(mt))||void 0}catch(e){}}))},set(n){return ut(this,void 0,void 0,(function*(){if(t)try{t.setItem(mt,JSON.stringify(n))}catch(e){}}))}}}function Et(t){return ut(this,void 0,void 0,(function*(){"undefined"!==typeof window&&window.location.assign(t.url)}))}function _t(){return Et}function At(t,e,n,r,i,o){(0,s.watch)(t,((t,e)=>{const n=null==t?void 0:t.adapter,r=null==e?void 0:e.adapter;n&&r&&n.name!==r.name&&r.name!==dt&&r.disconnect()})),(0,s.watchEffect)((s=>{var a;const c=null==(a=t.value)?void 0:a.adapter;if(!c)return;const l=()=>{i()},u=()=>{e.value||n.value||r(!0)},h=t=>o(t,c);c.on("connect",l),c.on("disconnect",u),c.on("error",h),s((()=>{c.off("connect",l),c.off("disconnect",u),c.off("error",h)}))}))}function kt(t,e,n,r,i,o,a){const c=(0,s.ref)(t),l=(0,s.ref)(!1);return(0,s.watch)(e,(()=>{l.value=!1})),(0,s.watchEffect)((()=>{!l.value&&c.value&&e.value&&o.value&&!i.value&&!r.value&&(async()=>{if(e.value){r.value=!0,l.value=!0;try{n.value?await e.value.adapter.autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED():await e.value.adapter.connect()}catch(t){a()}finally{r.value=!1}}})()})),c}function Ot(t){const e=Tt(),n=Bt(),r=(0,s.computed)((()=>St(t.value,e))),i=(0,s.computed)((()=>1===r.value));return{userAgent:e,uriForAppIdentity:n,environment:r,isMobile:i}}let Rt;function Tt(){var t,e;return void 0===Rt&&(Rt=null!=(e=null==(t=globalThis.navigator)?void 0:t.userAgent)?e:null),Rt}function Bt(){const t=globalThis.location;return null==t?null:`${t.protocol}//${t.host}`}function St(t,e){const n=t.some((t=>t.name!==dt&&t.readyState===o.Ok.Installed));if(n)return 0;const r=e&&Ct(e)&&!Nt(e);return r?1:0}function Ct(t){return/android/i.test(t)}function Nt(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function It(t,e){return(n,i)=>t.value?n:e?(e(n,i),n):(l.error(n,i),n instanceof r.AE&&"undefined"!==typeof window&&i&&window.open(i.url,"_blank"),n)}function Lt(t,e,n,r){const i=(0,s.computed)((()=>{if(!e.value)return null;const i=t.value.find((t=>t.name===dt));return i||new wt({addressSelector:vt(),appIdentity:{uri:n||void 0},authorizationResultCache:bt(),cluster:r.value,onWalletNotFound:_t()})}));return(0,s.computed)((()=>null==i.value||-1!==t.value.indexOf(i.value)?t.value:[i.value,...t.value]))}function Ut(t){(0,s.watchEffect)((e=>{function n(e){const n=t.value,r=n.findIndex((({adapter:t})=>t===this));-1!==r&&(t.value=[...n.slice(0,r),{adapter:this,readyState:e},...n.slice(r+1)])}t.value.forEach((({adapter:t})=>t.on("readyStateChange",n,t))),e((()=>t.value.forEach((({adapter:t})=>t.off("readyStateChange",n,t)))))}))}function Mt(t,e){const n=(0,c.Mjh)(t,e.value?dt:null),r=(0,s.computed)((()=>n.value===dt)),i=(0,s.computed)((()=>r.value&&e.value)),o=t=>{n.value!==t&&(n.value=t)},a=(t=!0)=>{(t||r.value)&&(n.value=null)};return{name:n,isUsingMwaAdapter:r,isUsingMwaAdapterOnMobile:i,select:o,deselect:a}}function Pt(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const xt="solana:mainnet",jt="solana:devnet",zt="solana:testnet",Dt="solana:localnet",Wt="https://api.mainnet-beta.solana.com";function Ft(t){return t.includes(Wt)?xt:/\bdevnet\b/i.test(t)?jt:/\btestnet\b/i.test(t)?zt:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?Dt:xt}function Kt(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}globalThis&&globalThis.__classPrivateFieldSet,globalThis&&globalThis.__classPrivateFieldGet;var Vt={exports:{}},$t={},Yt={};Yt.byteLength=te,Yt.toByteArray=ne,Yt.fromByteArray=oe;for(var Gt=[],qt=[],Qt="undefined"!==typeof Uint8Array?Uint8Array:Array,Jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zt=0,Ht=Jt.length;Zt<Ht;++Zt)Gt[Zt]=Jt[Zt],qt[Jt.charCodeAt(Zt)]=Zt;function Xt(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function te(t){var e=Xt(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function ee(t,e,n){return 3*(e+n)/4-n}function ne(t){var e,n,r=Xt(t),i=r[0],o=r[1],s=new Qt(ee(t,i,o)),a=0,c=o>0?i-4:i;for(n=0;n<c;n+=4)e=qt[t.charCodeAt(n)]<<18|qt[t.charCodeAt(n+1)]<<12|qt[t.charCodeAt(n+2)]<<6|qt[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===o&&(e=qt[t.charCodeAt(n)]<<2|qt[t.charCodeAt(n+1)]>>4,s[a++]=255&e),1===o&&(e=qt[t.charCodeAt(n)]<<10|qt[t.charCodeAt(n+1)]<<4|qt[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s}function re(t){return Gt[t>>18&63]+Gt[t>>12&63]+Gt[t>>6&63]+Gt[63&t]}function ie(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(re(r));return i.join("")}function oe(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(ie(t,s,s+o>a?a:s+o));return 1===r?(e=t[n-1],i.push(Gt[e>>2]+Gt[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(Gt[e>>10]+Gt[e>>4&63]+Gt[e<<2&63]+"=")),i.join("")}qt["-".charCodeAt(0)]=62,qt["_".charCodeAt(0)]=63;var se={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+h],h+=f,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=l}return(d?-1:1)*s*Math.pow(2,o-r)},write:function(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+h>=1?f/c:f*Math.pow(2,1-h),e*c>=2&&(s++,c/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*y}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
(function(t){const e=Yt,n=se,r="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50;const i=2147483647;function o(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}function s(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,n){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return c(t,e,n)}function c(t,e,n){if("string"===typeof t)return d(t,e);if(ArrayBuffer.isView(t))return y(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ot(t,ArrayBuffer)||t&&ot(t.buffer,ArrayBuffer))return g(t,e,n);if("undefined"!==typeof SharedArrayBuffer&&(ot(t,SharedArrayBuffer)||t&&ot(t.buffer,SharedArrayBuffer)))return g(t,e,n);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return a.from(r,e,n);const i=w(t);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t,e,n){return u(t),t<=0?s(t):void 0!==e?"string"===typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}function f(t){return u(t),s(t<0?0:0|v(t))}function d(t,e){if("string"===typeof e&&""!==e||(e="utf8"),!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|b(t,e);let r=s(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function p(t){const e=t.length<0?0:0|v(t.length),n=s(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function y(t){if(ot(t,Uint8Array)){const e=new Uint8Array(t);return g(e.buffer,e.byteOffset,e.byteLength)}return p(t)}function g(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,a.prototype),r}function w(t){if(a.isBuffer(t)){const e=0|v(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!==typeof t.length||st(t.length)?s(0):p(t):"Buffer"===t.type&&Array.isArray(t.data)?p(t.data):void 0}function v(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),a.alloc(+t)}function b(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ot(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return tt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return rt(t).length;default:if(i)return r?-1:tt(t).length;e=(""+e).toLowerCase(),i=!0}}function E(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return N(this,e,n);case"ascii":return U(this,e,n);case"latin1":case"binary":return M(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function A(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,st(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:k(t,e,n,r,i);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):k(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function k(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(l(t,o+r)!==l(e,r)){n=!1;break}if(n)return o}return-1}function O(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(st(r))return s;t[n+s]=r}return s}function R(t,e,n,r){return it(tt(e,t.length-n),t,n,r)}function T(t,e,n,r){return it(et(e),t,n,r)}function B(t,e,n,r){return it(rt(e),t,n,r)}function S(t,e,n,r){return it(nt(e,t.length-n),t,n,r)}function C(t,n,r){return 0===n&&r===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,r))}function N(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;while(i<n){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128===(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128===(192&n)&&128===(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return L(r)}t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),a.TYPED_ARRAY_SUPPORT||"undefined"===typeof l||"function"!==typeof l.error||l.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,n){return h(t,e,n)},a.allocUnsafe=function(t){return f(t)},a.allocUnsafeSlow=function(t){return f(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(ot(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),ot(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=a.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(ot(e,Uint8Array))i+e.length>r.length?(a.isBuffer(e)||(e=a.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!a.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},a.byteLength=b,a.prototype._isBuffer=!0,a.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)_(this,e,e+1);return this},a.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},a.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},a.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?N(this,0,t):E.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(t,e,n,r,i){if(ot(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;let o=i-r,s=n-e;const c=Math.min(o,s),l=this.slice(r,i),u=t.slice(e,n);for(let a=0;a<c;++a)if(l[a]!==u[a]){o=l[a],s=u[a];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return A(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return A(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return O(this,t,e,n);case"utf8":case"utf-8":return R(this,t,e,n);case"ascii":case"latin1":case"binary":return T(this,t,e,n);case"base64":return B(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function L(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}function U(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function M(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function P(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=e;o<n;++o)i+=at[t[o]];return i}function x(t,e,n){const r=t.slice(e,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function z(t,e,n,r,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r,i){Q(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function W(t,e,n,r,i){Q(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function F(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function K(t,e,r,i,o){return e=+e,r>>>=0,o||F(t,e,r,4),n.write(t,e,r,i,23,4),r+4}function V(t,e,r,i,o){return e=+e,r>>>=0,o||F(t,e,r,8),n.write(t,e,r,i,52,8),r+8}a.prototype.slice=function(t,e){const n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let r=this[t+--e],i=1;while(e>0&&(i*=256))r+=this[t+--e]*i;return r},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=ct((function(t){t>>>=0,J(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=ct((function(t){t>>>=0,J(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let r=e,i=1,o=this[t+--r];while(r>0&&(i*=256))o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=ct((function(t){t>>>=0,J(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),a.prototype.readBigInt64BE=ct((function(t){t>>>=0,J(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),a.prototype.readFloatLE=function(t,e){return t>>>=0,e||j(t,4,this.length),n.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||j(t,4,this.length),n.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||j(t,8,this.length),n.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||j(t,8,this.length),n.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){const r=Math.pow(2,8*n)-1;z(this,t,e,n,r,0)}let i=1,o=0;this[e]=255&t;while(++o<n&&(i*=256))this[e+o]=t/i&255;return e+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){const r=Math.pow(2,8*n)-1;z(this,t,e,n,r,0)}let i=n-1,o=1;this[e+i]=255&t;while(--i>=0&&(o*=256))this[e+i]=t/o&255;return e+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigUInt64LE=ct((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=ct((function(t,e=0){return W(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);z(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;this[e]=255&t;while(++i<n&&(o*=256))t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);z(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;this[e+i]=255&t;while(--i>=0&&(o*=256))t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigInt64LE=ct((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=ct((function(t,e=0){return W(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,e,n){return K(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return K(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},a.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=a.isBuffer(t)?t:a.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const $={};function Y(t,e,n){$[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function G(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function q(t,e,n){J(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||Z(e,t.length-(n+1))}function Q(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"===typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new $.ERR_OUT_OF_RANGE("value",i,t)}q(r,i,o)}function J(t,e){if("number"!==typeof t)throw new $.ERR_INVALID_ARG_TYPE(e,"number",t)}function Z(t,e,n){if(Math.floor(t)!==t)throw J(t,n),new $.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new $.ERR_BUFFER_OUT_OF_BOUNDS;throw new $.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),Y("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),Y("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=G(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=G(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function X(t){if(t=t.split("=")[0],t=t.trim().replace(H,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function tt(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function et(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function nt(t,e){let n,r,i;const o=[];for(let s=0;s<t.length;++s){if((e-=2)<0)break;n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function rt(t){return e.toByteArray(X(t))}function it(t,e,n,r){let i;for(i=0;i<r;++i){if(i+n>=e.length||i>=t.length)break;e[i+n]=t[i]}return i}function ot(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function st(t){return t!==t}const at=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function ct(t){return"undefined"===typeof BigInt?lt:t}function lt(){throw new Error("BigInt not supported")}})($t),
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
function(t,e){var n=$t,r=n.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o),o.prototype=Object.create(r.prototype),i(r,o),o.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},o.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"===typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r(t)},o.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}}(Vt,Vt.exports);var ae=Vt.exports.Buffer;function ce(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=ae.from(e)),!ae.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";var n=0,r=0,i=0,o=e.length;while(i!==o&&0===e[i])i++,n++;var c=(o-i)*l+1>>>0,u=new Uint8Array(c);while(i!==o){for(var h=e[i],f=0,d=c-1;(0!==h||f<r)&&-1!==d;d--,f++)h+=256*u[d]>>>0,u[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");r=f,i++}var p=c-r;while(p!==c&&0===u[p])p++;for(var y=a.repeat(n);p<c;++p)y+=t.charAt(u[p]);return y}function h(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return ae.alloc(0);var n=0,r=0,i=0;while(t[n]===a)r++,n++;var o=(t.length-n)*c+1>>>0,l=new Uint8Array(o);while(t[n]){var u=e[t.charCodeAt(n)];if(255===u)return;for(var h=0,f=o-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=s*l[f]>>>0,l[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,n++}var d=o-i;while(d!==o&&0===l[d])d++;var p=ae.allocUnsafe(r+(o-d));p.fill(0,0,r);var y=r;while(d!==o)p[y++]=l[d++];return p}function f(t){var e=h(t);if(e)return e;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:h,decode:f}}var le=ce,ue=le,he="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",fe=ue(he);function de(t){return"version"in t}var pe,ye,ge,we,ve,me,be,Ee,_e,Ae,ke,Oe,Re,Te,Be=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},Se=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};function Ce(t){return"standard:connect"in t.features&&"standard:events"in t.features&&("solana:signAndSendTransaction"in t.features||"solana:signTransaction"in t.features)}class Ne extends o.Ce{constructor({wallet:t}){super(),pe.add(this),ye.set(this,void 0),ge.set(this,void 0),we.set(this,void 0),ve.set(this,void 0),me.set(this,void 0),be.set(this,void 0),Ee.set(this,"undefined"===typeof window||"undefined"===typeof document?o.Ok.Unsupported:o.Ok.Installed),ke.set(this,(t=>{if(!Se(this,ye,"f")||!Se(this,ge,"f")||!("accounts"in t))return;const e=Se(this,me,"f").accounts[0];if(!e)return Se(this,pe,"m",Ae).call(this),this.emit("error",new r.PQ),void this.emit("disconnect");if(e===Se(this,ye,"f"))return;let n;try{n=new a.J3(e.publicKey)}catch(i){return Se(this,pe,"m",Ae).call(this),this.emit("error",new r.Kd(null==i?void 0:i.message)),void this.emit("disconnect")}Se(this,pe,"m",_e).call(this,e,n),this.emit("connect",n)})),Be(this,me,t,"f");const e="solana:signAndSendTransaction"in t.features?t.features["solana:signAndSendTransaction"].supportedTransactionVersions:t.features["solana:signTransaction"].supportedTransactionVersions;Be(this,be,Kt(e,["legacy"])?null:new Set(e),"f"),Be(this,ye,null,"f"),Be(this,ge,null,"f"),Be(this,we,!1,"f")}get supportedTransactionVersions(){return Se(this,be,"f")}get name(){return Se(this,me,"f").name}get icon(){return Se(this,me,"f").icon}get url(){return"https://github.com/wallet-standard"}get publicKey(){return Se(this,ge,"f")}get connecting(){return Se(this,we,"f")}get readyState(){return Se(this,Ee,"f")}get wallet(){return Se(this,me,"f")}get standard(){return!0}async connect(){try{if(this.connected||this.connecting)return;if(Se(this,Ee,"f")!==o.Ok.Installed)throw new r.AE;if(Be(this,we,!0,"f"),!Se(this,me,"f").accounts.length)try{await Se(this,me,"f").features["standard:connect"].connect()}catch(t){throw new r.Y6(null==t?void 0:t.message,t)}if(!Se(this,me,"f").accounts.length)throw new r.fk;const e=Se(this,me,"f").accounts[0];let n;try{n=new a.J3(e.publicKey)}catch(t){throw new r.Kd(null==t?void 0:t.message,t)}Be(this,ve,Se(this,me,"f").features["standard:events"].on("change",Se(this,ke,"f")),"f"),Se(this,pe,"m",_e).call(this,e,n),this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{Be(this,we,!1,"f")}}async disconnect(){if("standard:disconnect"in Se(this,me,"f").features)try{await Se(this,me,"f").features["standard:disconnect"].disconnect()}catch(t){this.emit("error",new r.Y8(null==t?void 0:t.message,t))}Se(this,pe,"m",Ae).call(this),this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const o=Se(this,ye,"f");if(!o)throw new r.kW;let s;if("solana:signAndSendTransaction"in Se(this,me,"f").features)if(o.features.includes("solana:signAndSendTransaction"))s="solana:signAndSendTransaction";else{if(!("solana:signTransaction"in Se(this,me,"f").features)||!o.features.includes("solana:signTransaction"))throw new r.fk;s="solana:signTransaction"}else{if(!("solana:signTransaction"in Se(this,me,"f").features))throw new r.Ez;if(!o.features.includes("solana:signTransaction"))throw new r.fk;s="solana:signTransaction"}const a=Ft(e.rpcEndpoint);if(!o.chains.includes(a))throw new r.UF;try{const{signers:r,...i}=n;let c;if(de(t)?((null==r?void 0:r.length)&&t.sign(r),c=t.serialize()):(t=await this.prepareTransaction(t,e,i),(null==r?void 0:r.length)&&t.partialSign(...r),c=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),"solana:signAndSendTransaction"===s){const[t]=await Se(this,me,"f").features["solana:signAndSendTransaction"].signAndSendTransaction({account:o,chain:a,transaction:c,options:{preflightCommitment:Pt(i.preflightCommitment||e.commitment),skipPreflight:i.skipPreflight,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot}});return fe.encode(t.signature)}{const[t]=await Se(this,me,"f").features["solana:signTransaction"].signTransaction({account:o,chain:a,transaction:c,options:{preflightCommitment:Pt(i.preflightCommitment||e.commitment),minContextSlot:i.minContextSlot}});return await e.sendRawTransaction(t.signedTransaction,{...i,preflightCommitment:Pt(i.preflightCommitment||e.commitment)})}}catch(i){if(i instanceof r.m7)throw i;throw new r.UF(null==i?void 0:i.message,i)}}catch(i){throw this.emit("error",i),i}}}ye=new WeakMap,ge=new WeakMap,we=new WeakMap,ve=new WeakMap,me=new WeakMap,be=new WeakMap,Ee=new WeakMap,ke=new WeakMap,pe=new WeakSet,_e=function(t,e){Be(this,ye,t,"f"),Be(this,ge,e,"f"),(null==t?void 0:t.features.includes("solana:signTransaction"))?(this.signTransaction=Se(this,pe,"m",Oe),this.signAllTransactions=Se(this,pe,"m",Re)):(delete this.signTransaction,delete this.signAllTransactions),(null==t?void 0:t.features.includes("solana:signMessage"))?this.signMessage=Se(this,pe,"m",Te):delete this.signMessage},Ae=function(){const t=Se(this,ve,"f");t&&(Be(this,ve,void 0,"f"),t()),Se(this,pe,"m",_e).call(this,null,null)},Oe=async function(t){try{const n=Se(this,ye,"f");if(!n)throw new r.kW;if(!("solana:signTransaction"in Se(this,me,"f").features))throw new r.Ez;if(!n.features.includes("solana:signTransaction"))throw new r.fk;try{const e=await Se(this,me,"f").features["solana:signTransaction"].signTransaction({account:n,transaction:de(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}),r=e[0].signedTransaction;return de(t)?a.Kt.deserialize(r):a.ZX.from(r)}catch(e){if(e instanceof r.m7)throw e;throw new r.z4(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}},Re=async function(t){try{const n=Se(this,ye,"f");if(!n)throw new r.kW;if(!("solana:signTransaction"in Se(this,me,"f").features))throw new r.Ez;if(!n.features.includes("solana:signTransaction"))throw new r.z4;try{const e=await Se(this,me,"f").features["solana:signTransaction"].signTransaction(...t.map((t=>({account:n,transaction:de(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))));return t.map(((t,n)=>{const r=e[n].signedTransaction;return de(t)?a.Kt.deserialize(r):a.ZX.from(r)}))}catch(e){throw new r.z4(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}},Te=async function(t){try{const n=Se(this,ye,"f");if(!n)throw new r.kW;if(!("solana:signMessage"in Se(this,me,"f").features))throw new r.Ez;if(!n.features.includes("solana:signMessage"))throw new r.K3;try{const e=await Se(this,me,"f").features["solana:signMessage"].signMessage({account:n,message:t});return e[0].signature}catch(e){throw new r.K3(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}};var Ie,Le=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},Ue=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};let Me;const Pe=new Set,xe={};function je(){if(Me)return Me;if(Me=Object.freeze({register:ze,get:De,on:We}),"undefined"===typeof window)return Me;const t=Object.freeze({register:ze});try{window.addEventListener("wallet-standard:register-wallet",(({detail:e})=>e(t)))}catch(e){l.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new Ke(t))}catch(e){l.error("wallet-standard:app-ready event could not be dispatched\n",e)}return Me}function ze(...t){var e;return t=t.filter((t=>!Pe.has(t))),t.length?(t.forEach((t=>Pe.add(t))),null==(e=xe["register"])||e.forEach((e=>Fe((()=>e(...t))))),function(){var e;t.forEach((t=>Pe.delete(t))),null==(e=xe["unregister"])||e.forEach((e=>Fe((()=>e(...t)))))}):()=>{}}function De(){return[...Pe]}function We(t,e){var n;return(null==(n=xe[t])?void 0:n.push(e))||(xe[t]=[e]),function(){var n;xe[t]=null==(n=xe[t])?void 0:n.filter((t=>e!==t))}}function Fe(t){try{t()}catch(e){l.error(e)}}class Ke extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Ie.set(this,void 0),Le(this,Ie,t,"f")}get detail(){return Ue(this,Ie,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}function Ve(){if(Me)return Me;if(Me=je(),"undefined"===typeof window)return Me;const t=window.navigator.wallets||[];if(!Array.isArray(t))return l.error("window.navigator.wallets is not an array"),Me;const{register:e}=Me,n=(...t)=>t.forEach((t=>Fe((()=>t({register:e})))));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch(r){return l.error("window.navigator.wallets could not be set"),Me}return n(...t),Me}function $e(t){const e=new Set,{get:n,on:r}=Ve(),i=(0,s.shallowRef)(Ye(n()));return(0,s.watchEffect)((t=>{const e=[r("register",((...t)=>i.value=[...i.value,...Ye(t)])),r("unregister",((...t)=>i.value=i.value.filter((e=>t.some((t=>t===e.wallet))))))];t((()=>e.forEach((t=>t()))))})),(0,s.computed)((()=>[...i.value,...t.value.filter((({name:t})=>!i.value.some((e=>e.name===t))||(e.has(t)||(e.add(t),l.warn(`${t} was registered as a Standard Wallet. The Wallet Adapter for ${t} can be removed from your app.`)),!1)))]))}function Ye(t){return t.filter(Ce).map((t=>new Ne({wallet:t})))}function Ge(t,e){const n=async(n,i,o)=>{var s;const a=null==(s=t.value)?void 0:s.adapter;if(!a)throw e(new d);if(!a.connected)throw e(new r.kW,a);return await a.sendTransaction(n,i,o)},i=(0,s.computed)((()=>{var n;const i=null==(n=t.value)?void 0:n.adapter;if(i&&"signTransaction"in i)return async t=>{if(!i.connected)throw e(new r.kW);return await i.signTransaction(t)}})),o=(0,s.computed)((()=>{var n;const i=null==(n=t.value)?void 0:n.adapter;if(i&&"signAllTransactions"in i)return async t=>{if(!i.connected)throw e(new r.kW);return await i.signAllTransactions(t)}})),a=(0,s.computed)((()=>{var n;const i=null==(n=t.value)?void 0:n.adapter;if(i&&"signMessage"in i)return async t=>{if(!i.connected)throw e(new r.kW);return await i.signMessage(t)}}));return{sendTransaction:n,signTransaction:i,signAllTransactions:o,signMessage:a}}function qe(t){const e=(0,s.ref)(!1);return"undefined"===typeof window||(0,s.watchEffect)((n=>{if(t.value)return;const r=()=>e.value=!0;window.addEventListener("beforeunload",r),n((()=>window.removeEventListener("beforeunload",r)))})),e}function Qe(t,e){const n=(0,s.shallowRef)(null),r=(0,s.ref)(null),i=(0,s.ref)(!1),a=(0,s.ref)(o.Ok.Unsupported),c=(0,s.computed)((()=>a.value===o.Ok.Installed||a.value===o.Ok.Loadable)),l=()=>{var t,e,s,c,l,u;r.value=null!=(e=null==(t=n.value)?void 0:t.adapter.publicKey)?e:null,i.value=null!=(c=null==(s=n.value)?void 0:s.adapter.connected)&&c,a.value=null!=(u=null==(l=n.value)?void 0:l.readyState)?u:o.Ok.Unsupported};return(0,s.watchEffect)((()=>{var r;n.value=e.value&&null!=(r=t.value.find((({adapter:t})=>t.name===e.value)))?r:null,l()})),{wallet:n,publicKey:r,connected:i,readyState:a,ready:c,refreshWalletState:l}}function Je(t){const e=(0,s.shallowRef)([]);return(0,s.watchEffect)((()=>{e.value=t.value.map((t=>({adapter:t,readyState:t.readyState})))})),e}Ie=new WeakMap;const Ze=({wallets:t=[],autoConnect:e=!1,cluster:n="mainnet-beta",onError:i,localStorageKey:o="walletName"})=>{const a=(0,s.ref)(n),c=(0,s.ref)(!1),l=(0,s.ref)(!1),u=(0,s.shallowRef)(t),h=$e(u),{isMobile:f,uriForAppIdentity:p}=Ot(h),y=Lt(h,f,p,a),g=Je(y),{name:w,isUsingMwaAdapterOnMobile:v,select:m,deselect:b}=Mt(o,f),{wallet:E,publicKey:_,connected:A,readyState:k,ready:O,refreshWalletState:R}=Qe(g,w),T=qe(v),B=It(T,i);Ut(g),At(E,T,v,b,R,B);const S=kt(e,E,v,c,A,O,b),{sendTransaction:C,signTransaction:N,signAllTransactions:I,signMessage:L}=Ge(E,B),U=async()=>{if(A.value||c.value||l.value)return;if(!E.value)throw B(new d);const t=E.value.adapter;if(!O.value)throw B(new r.AE,t);try{c.value=!0,await t.connect()}catch(e){throw b(),e}finally{c.value=!1}},M=async()=>{if(!l.value&&E.value)try{l.value=!0,await E.value.adapter.disconnect()}finally{l.value=!1}};return{wallets:g,autoConnect:S,cluster:a,wallet:E,publicKey:_,readyState:k,ready:O,connected:A,connecting:c,disconnecting:l,select:m,connect:U,disconnect:M,sendTransaction:C,signTransaction:N,signAllTransactions:I,signMessage:L}};let He=null;const Xe=()=>{if(He)return He;throw new p("Wallet not initialized. Please use the `initWallet` method to initialize the wallet.")},tn=t=>{He=Ze(t)},en=(0,s.defineComponent)({props:{wallet:Object},setup(t){return(0,s.toRefs)(t)}}),nn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},rn={class:"swv-button-icon"},on=["src","alt"];function sn(t,e,n,r,i,o){return(0,s.openBlock)(),(0,s.createElementBlock)("i",rn,[t.wallet?((0,s.openBlock)(),(0,s.createElementBlock)("img",{key:0,src:t.wallet.adapter.icon,alt:`${t.wallet.adapter.name} icon`},null,8,on)):(0,s.createCommentVNode)("",!0)])}const an=nn(en,[["render",sn]]),cn=(0,s.defineComponent)({components:{WalletIcon:an},props:{disabled:Boolean},setup(t,{emit:e}){const{disabled:n}=(0,s.toRefs)(t),{wallet:r,connect:i,connecting:o,connected:a}=Xe(),c=(0,s.computed)((()=>o.value?"Connecting ...":a.value?"Connected":r.value?"Connect":"Connect Wallet")),l=t=>{e("click",t),t.defaultPrevented||i().catch((()=>{}))},u={wallet:r,disabled:n,connecting:o,connected:a,content:c,onClick:l};return{scope:u,...u}}}),ln=["disabled"],un=["textContent"];function hn(t,e,n,r,i,o){const a=(0,s.resolveComponent)("wallet-icon");return(0,s.renderSlot)(t.$slots,"default",(0,s.normalizeProps)((0,s.guardReactiveProps)(t.scope)),(()=>[(0,s.createElementVNode)("button",{class:"swv-button swv-button-trigger",disabled:t.disabled||!t.wallet||t.connecting||t.connected,onClick:e[0]||(e[0]=(...e)=>t.onClick&&t.onClick(...e))},[t.wallet?((0,s.openBlock)(),(0,s.createBlock)(a,{key:0,wallet:t.wallet},null,8,["wallet"])):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("p",{textContent:(0,s.toDisplayString)(t.content)},null,8,un)],8,ln)]))}const fn=nn(cn,[["render",hn]]);(0,s.defineComponent)({components:{WalletIcon:an},props:{disabled:Boolean},setup(t,{emit:e}){const{disabled:n}=(0,s.toRefs)(t),{wallet:r,disconnect:i,disconnecting:o}=Xe(),a=(0,s.computed)((()=>o.value?"Disconnecting ...":r.value?"Disconnect":"Disconnect Wallet")),c=t=>{e("click",t),t.defaultPrevented||i().catch((()=>{}))},l={wallet:r,disconnecting:o,disabled:n,content:a,handleClick:c};return{scope:l,...l}}});const dn=(0,s.defineComponent)({components:{WalletIcon:an},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(t,{slots:e}){const{featured:n,container:r,logo:i,dark:a}=(0,s.toRefs)(t),l=(0,s.ref)(null),u=(0,s.ref)(!1),h=()=>u.value=!0,f=()=>u.value=!1,d=(0,s.computed)((()=>!!e.logo||!!i.value)),{wallets:p,select:y}=Xe(),g=(0,s.computed)((()=>{const t=[],e=[],n=[];return p.value.forEach((r=>{r.readyState===o.Ok.NotDetected?e.push(r):r.readyState===o.Ok.Loadable?n.push(r):r.readyState===o.Ok.Installed&&t.push(r)})),[...t,...n,...e]})),w=(0,s.ref)(!1),v=(0,s.computed)((()=>g.value.slice(0,n.value))),m=(0,s.computed)((()=>g.value.slice(n.value))),b=(0,s.computed)((()=>w.value?p.value:v.value));(0,c.X2F)(l,f),(0,c.Ta5)("Escape",f),(0,c.Ta5)("Tab",(t=>{var e,n;const r=null!=(n=null==(e=l.value)?void 0:e.querySelectorAll("button"))?n:[],i=null==r?void 0:r[0],o=null==r?void 0:r[r.length-1];t.shiftKey&&document.activeElement===i&&o?(o.focus(),t.preventDefault()):!t.shiftKey&&document.activeElement===o&&i&&(i.focus(),t.preventDefault())})),(0,s.watch)(u,(t=>{t&&(0,s.nextTick)((()=>{var t,e,n;return null==(n=null==(e=null==(t=l.value)?void 0:t.querySelectorAll("button"))?void 0:e[0])?void 0:n.focus()}))}));const E=(0,c.K$F)(document.body);(0,s.watch)(u,(t=>E.value=t));const _={dark:a,logo:i,hasLogo:d,featured:n,container:r,modalPanel:l,modalOpened:u,openModal:h,closeModal:f,expandedWallets:w,walletsToDisplay:b,featuredWallets:v,hiddenWallets:m,selectWallet:y};return{scope:_,..._}}}),pn=(0,s.createElementVNode)("div",{class:"swv-modal-overlay"},null,-1),yn={class:"swv-modal-container",ref:"modalPanel"},gn={key:0,class:"swv-modal-logo-wrapper"},wn=["src"],vn=(0,s.createElementVNode)("h1",{class:"swv-modal-title",id:"swv-modal-title"},"Connect Wallet",-1),mn=(0,s.createElementVNode)("svg",{width:"14",height:"14"},[(0,s.createElementVNode)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})],-1),bn=[mn],En={class:"swv-modal-list"},_n=["onClick"],An={class:"swv-button"},kn=["textContent"],On={key:0,class:"swv-wallet-status"},Rn=["aria-expanded"],Tn=(0,s.createElementVNode)("i",{class:"swv-button-icon"},[(0,s.createElementVNode)("svg",{width:"11",height:"6",xmlns:"http://www.w3.org/2000/svg"},[(0,s.createElementVNode)("path",{d:"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z"})])],-1);function Bn(t,e,n,r,i,o){const a=(0,s.resolveComponent)("wallet-icon");return(0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,null,[(0,s.createElementVNode)("div",{class:(0,s.normalizeClass)(t.dark?"swv-dark":"")},[(0,s.renderSlot)(t.$slots,"default",(0,s.normalizeProps)((0,s.guardReactiveProps)(t.scope)))],2),t.modalOpened?((0,s.openBlock)(),(0,s.createBlock)(s.Teleport,{key:0,to:t.container},[(0,s.createElementVNode)("div",{"aria-labelledby":"swv-modal-title","aria-modal":"true",class:(0,s.normalizeClass)(["swv-modal",t.dark?"swv-dark":""]),role:"dialog"},[(0,s.renderSlot)(t.$slots,"overlay",(0,s.normalizeProps)((0,s.guardReactiveProps)(t.scope)),(()=>[pn])),(0,s.createElementVNode)("div",yn,[(0,s.renderSlot)(t.$slots,"modal",(0,s.normalizeProps)((0,s.guardReactiveProps)(t.scope)),(()=>[(0,s.createElementVNode)("div",{class:(0,s.normalizeClass)(["swv-modal-wrapper",{"swv-modal-wrapper-no-logo":!t.hasLogo}])},[t.hasLogo?((0,s.openBlock)(),(0,s.createElementBlock)("div",gn,[(0,s.renderSlot)(t.$slots,"logo",(0,s.normalizeProps)((0,s.guardReactiveProps)(t.scope)),(()=>[(0,s.createElementVNode)("img",{alt:"logo",class:"swv-modal-logo",src:t.logo},null,8,wn)]))])):(0,s.createCommentVNode)("",!0),vn,(0,s.createElementVNode)("button",{onClick:e[0]||(e[0]=(0,s.withModifiers)(((...e)=>t.closeModal&&t.closeModal(...e)),["prevent"])),class:"swv-modal-button-close"},bn),(0,s.createElementVNode)("ul",En,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(t.walletsToDisplay,(e=>((0,s.openBlock)(),(0,s.createElementBlock)("li",{key:e.adapter.name,onClick:n=>{t.selectWallet(e.adapter.name),t.closeModal()}},[(0,s.createElementVNode)("button",An,[(0,s.createVNode)(a,{wallet:e},null,8,["wallet"]),(0,s.createElementVNode)("p",{textContent:(0,s.toDisplayString)(e.adapter.name)},null,8,kn),"Installed"===e.readyState?((0,s.openBlock)(),(0,s.createElementBlock)("div",On," Detected ")):(0,s.createCommentVNode)("",!0)])],8,_n)))),128))]),t.hiddenWallets.length>0?((0,s.openBlock)(),(0,s.createElementBlock)("button",{key:1,"aria-controls":"swv-modal-collapse","aria-expanded":t.expandedWallets,class:(0,s.normalizeClass)(["swv-button swv-modal-collapse-button",{"swv-modal-collapse-button-active":t.expandedWallets}]),onClick:e[1]||(e[1]=e=>t.expandedWallets=!t.expandedWallets)},[(0,s.createTextVNode)((0,s.toDisplayString)(t.expandedWallets?"Less":"More")+" options ",1),Tn],10,Rn)):(0,s.createCommentVNode)("",!0)],2)]))],512)],2)],8,["to"])):(0,s.createCommentVNode)("",!0)],64)}const Sn=nn(dn,[["render",Bn]]),Cn=(0,s.defineComponent)({components:{WalletConnectButton:fn,WalletIcon:an,WalletModalProvider:Sn},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(t){const{featured:e,container:n,logo:r,dark:i}=(0,s.toRefs)(t),{publicKey:o,wallet:a,disconnect:l}=Xe(),u=(0,s.ref)(),h=(0,s.ref)(!1),f=()=>{h.value=!0},d=()=>{h.value=!1};(0,c.X2F)(u,d);const p=(0,s.computed)((()=>{var t;return null==(t=o.value)?void 0:t.toBase58()})),y=(0,s.computed)((()=>a.value&&p.value?p.value.slice(0,4)+".."+p.value.slice(-4):null)),{copy:g,copied:w,isSupported:v}=(0,c.iDZ)(),m=()=>p.value&&g(p.value),b={featured:e,container:n,logo:r,dark:i,wallet:a,publicKey:o,publicKeyTrimmed:y,publicKeyBase58:p,canCopy:v,addressCopied:w,dropdownPanel:u,dropdownOpened:h,openDropdown:f,closeDropdown:d,copyAddress:m,disconnect:l};return{scope:b,...b}}}),Nn=["onClick"],In={key:2,class:"swv-dropdown"},Ln=["aria-expanded","title"],Un=["textContent"],Mn=["onClick"];function Pn(t,e,n,r,i,o){const a=(0,s.resolveComponent)("wallet-connect-button"),c=(0,s.resolveComponent)("wallet-icon"),l=(0,s.resolveComponent)("wallet-modal-provider");return(0,s.openBlock)(),(0,s.createBlock)(l,{featured:t.featured,container:t.container,logo:t.logo,dark:t.dark},{default:(0,s.withCtx)((n=>[(0,s.renderSlot)(t.$slots,"default",(0,s.normalizeProps)((0,s.guardReactiveProps)({...n,...t.scope})),(()=>[t.wallet?t.publicKeyBase58?((0,s.openBlock)(),(0,s.createElementBlock)("div",In,[(0,s.renderSlot)(t.$slots,"dropdown-button",(0,s.normalizeProps)((0,s.guardReactiveProps)({...n,...t.scope})),(()=>[(0,s.createElementVNode)("button",{class:"swv-button swv-button-trigger",style:(0,s.normalizeStyle)({pointerEvents:t.dropdownOpened?"none":"auto"}),"aria-expanded":t.dropdownOpened,title:t.publicKeyBase58,onClick:e[0]||(e[0]=(...e)=>t.openDropdown&&t.openDropdown(...e))},[(0,s.createVNode)(c,{wallet:t.wallet},null,8,["wallet"]),(0,s.createElementVNode)("p",{textContent:(0,s.toDisplayString)(t.publicKeyTrimmed)},null,8,Un)],12,Ln)])),(0,s.renderSlot)(t.$slots,"dropdown",(0,s.normalizeProps)((0,s.guardReactiveProps)({...n,...t.scope})),(()=>[(0,s.createElementVNode)("ul",{"aria-label":"dropdown-list",class:(0,s.normalizeClass)(["swv-dropdown-list",{"swv-dropdown-list-active":t.dropdownOpened}]),ref:"dropdownPanel",role:"menu"},[(0,s.renderSlot)(t.$slots,"dropdown-list",(0,s.normalizeProps)((0,s.guardReactiveProps)({...n,...t.scope})),(()=>[t.canCopy?((0,s.openBlock)(),(0,s.createElementBlock)("li",{key:0,onClick:e[1]||(e[1]=(...e)=>t.copyAddress&&t.copyAddress(...e)),class:"swv-dropdown-list-item",role:"menuitem"},(0,s.toDisplayString)(t.addressCopied?"Copied":"Copy address"),1)):(0,s.createCommentVNode)("",!0),(0,s.createElementVNode)("li",{onClick:e=>{n.openModal(),t.closeDropdown()},class:"swv-dropdown-list-item",role:"menuitem"}," Change wallet ",8,Mn),(0,s.createElementVNode)("li",{onClick:e[2]||(e[2]=e=>{t.disconnect(),t.closeDropdown()}),class:"swv-dropdown-list-item",role:"menuitem"}," Disconnect ")]))],2)]))])):((0,s.openBlock)(),(0,s.createBlock)(a,{key:1})):((0,s.openBlock)(),(0,s.createElementBlock)("button",{key:0,class:"swv-button swv-button-trigger",onClick:n.openModal}," Select Wallet ",8,Nn))]))])),overlay:(0,s.withCtx)((e=>[(0,s.renderSlot)(t.$slots,"modal-overlay",(0,s.normalizeProps)((0,s.guardReactiveProps)({...e,...t.scope})))])),modal:(0,s.withCtx)((e=>[(0,s.renderSlot)(t.$slots,"modal",(0,s.normalizeProps)((0,s.guardReactiveProps)({...e,...t.scope})))])),_:3},8,["featured","container","logo","dark"])}const xn=nn(Cn,[["render",Pn]])},7532:function(t,e,n){n.r(e),n.d(e,{TextDecoder:function(){return p},TextEncoder:function(){return y}});n(4114),n(6573),n(8100),n(7936),n(7467),n(4732),n(9577);function r(t,e,n){return e<=t&&t<=n}function i(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function o(t){var e=String(t),n=e.length,r=0,i=[];while(r<n){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=1023&o,c=1023&s;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}function s(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return e}var a=-1;function c(t){this.tokens=[].slice.call(t)}c.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():a},prepend:function(t){if(Array.isArray(t)){var e=t;while(e.length)this.tokens.unshift(e.pop())}else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t)){var e=t;while(e.length)this.tokens.push(e.shift())}else this.tokens.push(t)}};var l=-1;function u(t,e){if(t)throw TypeError("Decoder error");return e||65533}function h(){}function f(){}h.prototype={handler:function(t,e){}},f.prototype={handler:function(t,e){}};var d="utf-8";function p(t,e){if(!(this instanceof p))return new p(t,e);if(t=void 0!==t?String(t).toLowerCase():d,t!==d)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e["fatal"]),this._ignoreBOM=Boolean(e["ignoreBOM"]),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function y(t,e){if(!(this instanceof y))return new y(t,e);if(t=void 0!==t?String(t).toLowerCase():d,t!==d)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e["fatal"])},Object.defineProperty(this,"encoding",{value:"utf-8"})}function g(t){var e=t.fatal,n=0,i=0,o=0,s=128,c=191;this.handler=function(t,h){if(h===a&&0!==o)return o=0,u(e);if(h===a)return l;if(0===o){if(r(h,0,127))return h;if(r(h,194,223))o=1,n=h-192;else if(r(h,224,239))224===h&&(s=160),237===h&&(c=159),o=2,n=h-224;else{if(!r(h,240,244))return u(e);240===h&&(s=144),244===h&&(c=143),o=3,n=h-240}return n<<=6*o,null}if(!r(h,s,c))return n=o=i=0,s=128,c=191,t.prepend(h),u(e);if(s=128,c=191,i+=1,n+=h-128<<6*(o-i),i!==o)return null;var f=n;return n=o=i=0,f}}function w(t){t.fatal;this.handler=function(t,e){if(e===a)return l;if(r(e,0,127))return e;var n,i;r(e,128,2047)?(n=1,i=192):r(e,2048,65535)?(n=2,i=224):r(e,65536,1114111)&&(n=3,i=240);var o=[(e>>6*n)+i];while(n>0){var s=e>>6*(n-1);o.push(128|63&s),n-=1}return o}}p.prototype={decode:function(t,e){var n;n="object"===typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"===typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=i(e),this._streaming||(this._decoder=new g({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e["stream"]);var r,o=new c(n),a=[];while(!o.endOfStream()){if(r=this._decoder.handler(o,o.read()),r===l)break;null!==r&&(Array.isArray(r)?a.push.apply(a,r):a.push(r))}if(!this._streaming){do{if(r=this._decoder.handler(o,o.read()),r===l)break;null!==r&&(Array.isArray(r)?a.push.apply(a,r):a.push(r))}while(!o.endOfStream());this._decoder=null}return a.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===a[0]?(this._BOMseen=!0,a.shift()):this._BOMseen=!0)),s(a)}},y.prototype={encode:function(t,e){t=t?String(t):"",e=i(e),this._streaming||(this._encoder=new w(this._options)),this._streaming=Boolean(e["stream"]);var n,r=[],s=new c(o(t));while(!s.endOfStream()){if(n=this._encoder.handler(s,s.read()),n===l)break;Array.isArray(n)?r.push.apply(r,n):r.push(n)}if(!this._streaming){while(1){if(n=this._encoder.handler(s,s.read()),n===l)break;Array.isArray(n)?r.push.apply(r,n):r.push(n)}this._encoder=null}return new Uint8Array(r)}}}}]);
//# sourceMappingURL=chunk-vendors-eb2fbf4c.24f969fb.js.map