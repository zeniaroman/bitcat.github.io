"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[2222],{71241:function(e,a){a.A=(e,a)=>{const r=e.__vccOpts||e;for(const[t,s]of a)r[t]=s;return r}},72222:function(e,a,r){r.r(a),r.d(a,{default:function(){return ae}});var t=r(56768),s=r(24232);const l={class:"referrals-page"},i={class:"page-header"},n={class:"rewards-section"},c={class:"rewards-info"},o={class:"rewards-balance"},d={class:"balance-value"},u={class:"rewards-percentage"},v={class:"percentage-value"},p={class:"referral-link-section"},k={class:"referral-link-container"},f=["value"],L={key:0},y={key:1},g={class:"referral-stats"},m={class:"stat-card"},w={class:"stat-value"},h={class:"stat-card"},b={class:"stat-value"},C={class:"referrals-list"},A={key:0,class:"loading"},R={key:0},T={key:1},B={key:1,class:"no-referrals"},E={key:0},P={key:1},X={key:2,class:"referral-items"},_={class:"referral-info"},I={class:"referral-details"},F={class:"referral-tag"},S={class:"referral-date"},W={class:"referral-amount"},K={class:"referral-join-date"},q={class:"referral-actions"},D=["onClick","disabled"],$={key:1,class:"payment-info"},x={key:0},O={key:1},Y={key:1,class:"rewards-popup"},M={class:"rewards-popup-content"},Q={class:"rewards-popup-header"},G={class:"rewards-popup-body"},N={class:"rewards-tiers"};function U(e,a,r,U,j,z){const H=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",l,[(0,t.Lk)("div",i,[a[7]||(a[7]=(0,t.Lk)("h1",null,"Referral Program",-1)),a[8]||(a[8]=(0,t.Lk)("p",null,"Share your referral link with friends and earn 1-5% rewards from their paid actions.",-1)),(0,t.Lk)("div",n,[(0,t.Lk)("div",c,[(0,t.Lk)("div",o,[a[3]||(a[3]=(0,t.Lk)("span",{class:"balance-label"},"Your BITCAT Balance:",-1)),(0,t.Lk)("span",d,(0,s.v_)(U.formatStakedAmount(U.bitcatBalance||0))+" BITCAT",1)]),(0,t.Lk)("div",u,[a[4]||(a[4]=(0,t.Lk)("span",{class:"percentage-label"},"Your Reward Rate:",-1)),(0,t.Lk)("span",v,(0,s.v_)(U.rewardPercentage)+"%",1)])]),(0,t.Lk)("button",{class:"rewards-details-button",onClick:a[0]||(a[0]=e=>U.showRewardsPopup=!0)},a[5]||(a[5]=[(0,t.Lk)("i",{class:"fas fa-info-circle"},null,-1),(0,t.eW)(" Rewards Details ")]))]),(0,t.Lk)("div",p,[(0,t.Lk)("div",k,[(0,t.Lk)("input",{type:"text",class:"referral-link",readonly:"",value:`https://solanabitcat.com/?r=${U.userTag||"guest"}`,ref:"referralLinkInput"},null,8,f),(0,t.Lk)("button",{class:"copy-button",onClick:a[1]||(a[1]=(...e)=>U.copyReferralLink&&U.copyReferralLink(...e))},[a[6]||(a[6]=(0,t.Lk)("i",{class:"fas fa-copy"},null,-1)),U.referralLinkCopied?((0,t.uX)(),(0,t.CE)("span",L,"Copied!")):((0,t.uX)(),(0,t.CE)("span",y,"Copy"))])])])]),(0,t.Lk)("div",g,[(0,t.Lk)("div",m,[a[9]||(a[9]=(0,t.Lk)("h3",null,"Total Referrals",-1)),(0,t.Lk)("div",w,(0,s.v_)(U.stats.totalReferrals),1)]),(0,t.Lk)("div",h,[a[10]||(a[10]=(0,t.Lk)("h3",null,"Available for Payment",-1)),(0,t.Lk)("div",b,(0,s.v_)(U.stats.totalAvailable.toFixed(4))+" SOL",1)])]),(0,t.Lk)("div",C,[a[17]||(a[17]=(0,t.Lk)("h2",null,"Your Referrals",-1)),U.loading?((0,t.uX)(),(0,t.CE)("div",A,[U.isAuthenticated?((0,t.uX)(),(0,t.CE)("p",R,"Loading referrals...")):((0,t.uX)(),(0,t.CE)("p",T,[a[12]||(a[12]=(0,t.eW)("Please ")),(0,t.bF)(H,{to:"/my"},{default:(0,t.k6)((()=>a[11]||(a[11]=[(0,t.eW)("Login")]))),_:1}),a[13]||(a[13]=(0,t.eW)(" to view your referrals"))]))])):0===U.referrals.length?((0,t.uX)(),(0,t.CE)("div",B,[U.isAuthenticated?((0,t.uX)(),(0,t.CE)("p",E,"You don't have any referrals yet. Share your referral link to start earning rewards!")):((0,t.uX)(),(0,t.CE)("p",P,[a[15]||(a[15]=(0,t.eW)("Please ")),(0,t.bF)(H,{to:"/my"},{default:(0,t.k6)((()=>a[14]||(a[14]=[(0,t.eW)("Login")]))),_:1}),a[16]||(a[16]=(0,t.eW)(" to view your referrals"))]))])):((0,t.uX)(),(0,t.CE)("div",X,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(U.referrals,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:"referral-item"},[(0,t.Lk)("div",_,[(0,t.Lk)("div",I,[(0,t.Lk)("div",F,(0,s.v_)(e.referralTag),1),(0,t.Lk)("div",S,"Last action: "+(0,s.v_)(U.formatDate(e.lastAction)),1),(0,t.Lk)("div",W,"Available: "+(0,s.v_)(e.availableForPayment.toFixed(4))+" SOL",1),(0,t.Lk)("div",K,"Joined: "+(0,s.v_)(U.formatDate(e.createdAt)),1)])]),(0,t.Lk)("div",q,[e.canReceivePayment?((0,t.uX)(),(0,t.CE)("button",{key:0,class:"receive-button",onClick:a=>U.receivePayment(e.id),disabled:U.processingPayment===e.id},(0,s.v_)(U.processingPayment===e.id?"Processing...":"Receive Payment"),9,D)):((0,t.uX)(),(0,t.CE)("div",$,[e.availableForPayment<=.1?((0,t.uX)(),(0,t.CE)("span",x," Minimum 0.1 SOL required ")):((0,t.uX)(),(0,t.CE)("span",O," 14 days since last action required "))]))])])))),128))]))]),U.toast.show?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,s.C4)(["toast",U.toast.type])},(0,s.v_)(U.toast.message),3)):(0,t.Q3)("",!0)]),(0,t.Q3)("",!0),U.showRewardsPopup?((0,t.uX)(),(0,t.CE)("div",Y,[(0,t.Lk)("div",M,[(0,t.Lk)("div",Q,[a[21]||(a[21]=(0,t.Lk)("h2",null,"Referral Rewards Details",-1)),(0,t.Lk)("button",{class:"close-button",onClick:a[2]||(a[2]=e=>U.showRewardsPopup=!1)},"Ã—")]),(0,t.Lk)("div",G,[a[27]||(a[27]=(0,t.Lk)("h3",null,"How Rewards Are Calculated",-1)),a[28]||(a[28]=(0,t.Lk)("p",null,"Your reward percentage depends on your BITCAT token balance:",-1)),(0,t.Lk)("div",N,[(0,t.Lk)("div",{class:(0,s.C4)(["tier",{active:U.bitcatBalance>=0&&U.bitcatBalance<=0}])},a[22]||(a[22]=[(0,t.Lk)("div",{class:"tier-header"},"Basic",-1),(0,t.Lk)("div",{class:"tier-percentage"},"1%",-1),(0,t.Lk)("div",{class:"tier-requirement"},"0 BITCAT",-1)]),2),(0,t.Lk)("div",{class:(0,s.C4)(["tier",{active:U.bitcatBalance>=1e3&&U.bitcatBalance<=1e4}])},a[23]||(a[23]=[(0,t.Lk)("div",{class:"tier-header"},"Bronze",-1),(0,t.Lk)("div",{class:"tier-percentage"},"2%",-1),(0,t.Lk)("div",{class:"tier-requirement"},"1000 BITCAT",-1)]),2),(0,t.Lk)("div",{class:(0,s.C4)(["tier",{active:U.bitcatBalance>=10001&&U.bitcatBalance<=5e4}])},a[24]||(a[24]=[(0,t.Lk)("div",{class:"tier-header"},"Silver",-1),(0,t.Lk)("div",{class:"tier-percentage"},"3%",-1),(0,t.Lk)("div",{class:"tier-requirement"},"10,000 BITCAT",-1)]),2),(0,t.Lk)("div",{class:(0,s.C4)(["tier",{active:U.bitcatBalance>=50001&&U.bitcatBalance<=1e5}])},a[25]||(a[25]=[(0,t.Lk)("div",{class:"tier-header"},"Gold",-1),(0,t.Lk)("div",{class:"tier-percentage"},"4%",-1),(0,t.Lk)("div",{class:"tier-requirement"},"50,000 BITCAT",-1)]),2),(0,t.Lk)("div",{class:(0,s.C4)(["tier",{active:U.bitcatBalance>=100001}])},a[26]||(a[26]=[(0,t.Lk)("div",{class:"tier-header"},"Platinum",-1),(0,t.Lk)("div",{class:"tier-percentage"},"5%",-1),(0,t.Lk)("div",{class:"tier-requirement"},"100,000 BITCAT",-1)]),2)]),a[29]||(a[29]=(0,t.Fv)('<h3 data-v-e0808658>Paid Actions That Generate Rewards</h3><ul class="rewards-actions" data-v-e0808658><li data-v-e0808658><span class="action-name" data-v-e0808658>Memepad Participation</span><span class="action-description" data-v-e0808658>When your referrals participate in Memepad token launches</span></li><li data-v-e0808658><span class="action-name" data-v-e0808658>More Coming Soon</span><span class="action-description" data-v-e0808658>Additional paid actions will be added in the future</span></li></ul><div class="rewards-note" data-v-e0808658><p data-v-e0808658><strong data-v-e0808658>Note:</strong> To increase your reward percentage, you need to hold more BITCAT tokens in your connected wallet.</p></div>',3))])])])):(0,t.Q3)("",!0)],64)}var j=r(90144),z=r(68881),H=r(94373),J=r(94348),V={name:"UserReferralsPage",setup(){const e=(0,t.EW)((()=>z.A.getters.walletAddress)),a=(0,t.EW)((()=>z.A.getters.userTag)),r=(0,t.EW)((()=>z.A.getters.isAuthenticated)),s=(0,j.KR)([]),l=(0,j.KR)({totalReferrals:0,totalAvailable:0}),i=(0,j.KR)(!0),n=(0,j.KR)(null),c=(0,j.KR)(null),o=(0,j.KR)(!1),d=(0,j.KR)(0),u=(0,j.KR)(!1),v=(0,t.EW)((()=>d.value>=100001?5:d.value>=50001?4:d.value>=10001?3:d.value>=1e3?2:1)),p=async()=>{if(e.value&&e.value)try{const a=await H.A.get(`/dapp/get-bitcat-balance/${e.value}`);a.data&&void 0!==a.data.balance&&(d.value=a.data.balance)}catch(a){J.error("Error fetching BITCAT balance:",a)}},k=(0,t.EW)((()=>e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"));(0,t.wB)((()=>e.value),(e=>{e?p():d.value=0}));const f=(0,j.KR)({show:!1,message:"",type:"success"}),L=async()=>{if(r.value)try{i.value=!0;const e=await H.A.get(`/referrals/${a.value}`);e.data.success&&(s.value=e.data.referrals);const r=await H.A.get(`/referrals/${a.value}/stats`);r.data.success&&(l.value=r.data.stats)}catch(e){J.error("Error loading referrals:",e),m("Failed to load referrals","error")}finally{i.value=!1}},y=async e=>{if(!n.value)try{n.value=e;const r=await H.A.post(`/referrals/${a.value}/receive-payment`,{referralId:e});r.data.success?(m(`Payment of ${r.data.amount} SOL received successfully`,"success"),await L()):m(r.data.message||"Failed to receive payment","error")}catch(r){J.error("Error receiving payment:",r),m("Failed to receive payment","error")}finally{n.value=null}},g=e=>{if(!e)return"Never";const a=new Date(e);return a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},m=(e,a="success")=>{f.value={show:!0,message:e,type:a},setTimeout((()=>{f.value.show=!1}),3e3)},w=async()=>{try{const e=`https://solanabitcat.com/?r=${a.value}`;await navigator.clipboard.writeText(e),o.value=!0,setTimeout((()=>{o.value=!1}),2e3),m("Referral link copied to clipboard")}catch(e){J.error("Failed to copy text: ",e),m("Failed to copy referral link","error")}};return(0,t.sV)((()=>{r.value&&L(),e.value&&p()})),{userTag:a,referrals:s,stats:l,loading:i,processingPayment:n,toast:f,referralLinkInput:c,referralLinkCopied:o,formatDate:g,receivePayment:y,copyReferralLink:w,isAuthenticated:r,bitcatBalance:d,rewardPercentage:v,showRewardsPopup:u,formatStakedAmount:k}}},Z=r(71241);const ee=(0,Z.A)(V,[["render",U],["__scopeId","data-v-e0808658"]]);var ae=ee}}]);
//# sourceMappingURL=2222.221752f4.js.map